[{"_id": {"$oid": "6414a3764846375e3fecadbc"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/CdaToFhirDataTypes", "version": "2.1", "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9DZGFUb0ZoaXJEYXRhVHlwZXMiID0gIkNkYVRvRmhpckRhdGFUeXBlcyIKCgovLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL0hMNy9jY2RhLXRvLWZoaXIvdHJlZS9tYXN0ZXIvbWFwcGluZ3MKLy8gQ0RBOiAgaHR0cDovL2J1aWxkLmZoaXIub3JnL2lnL2FoZGlzL2NkYS1jb3JlLTIuMC9icmFuY2hlcy9tYXN0ZXIvaW5kZXguaHRtbAovLyBGSElSOiBodHRwOi8vaGw3Lm9yZy9maGlyL3I0LwoKY29uY2VwdG1hcCAiYWRkcmVzc1VzZSIgewogIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLUFkZHJlc3NVc2UiCiAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9hZGRyZXNzLXVzZSIKCiAgczpIID09IHQ6aG9tZQogIHM6SFAgPT0gdDpob21lCiAgczpIViA9PSB0OmhvbWUKICBzOldQID09IHQ6d29yawogIHM6RElSID09IHQ6d29yawogIHM6UFVCID09IHQ6d29yawogIHM6VE1QID09IHQ6dGVtcAogIHM6T0xEID09IHQ6b2xkCiAgczpCQUQgPT0gdDpvbGQKfQoKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9FRCIgYWxpYXMgRUQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSU5UIiBhbGlhcyBJTlQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSUkiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vSWRlbnRpZmllciIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vVFMiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vaW5zdGFudCIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ1MiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vY29kZSIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ0UiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQ29kZWFibGVDb25jZXB0IiBhcyB0YXJnZXQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9TVCIgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9zdHJpbmciIGFzIHRhcmdldAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VOIiBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0h1bWFuTmFtZSIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQUQiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQWRkcmVzcyIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vVEVMIiBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NvbnRhY3RQb2ludCIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQkwiIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vYm9vbGVhbiIgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVRTIiBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BlcmlvZCIgYXMgdGFyZ2V0Cgpncm91cCBBbnkoc291cmNlIHNyYywgdGFyZ2V0IHRndCkgewp9Cgpncm91cCBJSShzb3VyY2Ugc3JjIDogSUksIHRhcmdldCB0Z3QgOiBJZGVudGlmaWVyKSBleHRlbmRzIEFueSA8PHR5cGVzPj4gewogIHNyYy5yb290IGFzIHIgd2hlcmUgc3JjLmV4dGVuc2lvbi5leGlzdHMoKSAtPiB0Z3Quc3lzdGVtID0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgc3JjLnJvb3QgYXMgciB3aGVyZSBzcmMuZXh0ZW5zaW9uLmVtcHR5KCkgYW5kIHNyYy5yb290Lm1hdGNoZXMoJ1swLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfScpIC0+ICB0Z3Quc3lzdGVtID0gJ3VybjppZXRmOnJmYzozOTg2JywgIHRndC52YWx1ZSA9ICgndXJuOnV1aWQ6JyArIHIubG93ZXIoKSkgInJvb3R1dWlkIjsKICBzcmMucm9vdCBhcyByIHdoZXJlIHNyYy5leHRlbnNpb24uZW1wdHkoKSBhbmQgc3JjLnJvb3QuY29udGFpbnMoJy4nKSAtPiAgdGd0LnN5c3RlbSA9ICd1cm46aWV0ZjpyZmM6Mzk4NicsICB0Z3QudmFsdWUgPSBhcHBlbmQoJ3VybjpvaWQ6JywgcikgInJvb3RvaWQiOwogIHNyYy5leHRlbnNpb24gYXMgZSAtPiB0Z3QudmFsdWUgPSBlOwogIHNyYy5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIHRndC5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAvLyB0aGVyZSdzIG5vIGVxdWl2YWxlbnQgZm9yIGRpc3BsYXlhYmxlIGluIEZISVIgLSBhbmQgaXQgcHJvYmFibHkgd2lsbCBuZXZlciBtYXR0ZXIsIGJ1dCBpZiBpdCBkb2VzLCBpdCBtaWdodCBtYXAgdG8gSWRlbnRpZmllci51c2UuCn0KCmdyb3VwIElOVChzb3VyY2Ugc3JjIDogSU5ULCB0YXJnZXQgdGd0IDogaW50ZWdlcikgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMudmFsdWUgYXMgdiAtPiB0Z3QudmFsdWUgPSBjYXN0KHYsICdzdHJpbmcnKSAidmFsdWUiOwp9Cgpncm91cCBUZW1wbGF0ZUlEKHNvdXJjZSB0ZW1wbGF0ZSA6IElJLCB0YXJnZXQgdGd0KSB7CiAgdGVtcGxhdGUgLT4gdGd0LmV4dGVuc2lvbiBhcyBleHQgdGhlbiB7CiAgICB0ZW1wbGF0ZSAtPiBleHQudXJsID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vdGVtcGxhdGVJRCcgInVybCI7CiAgICB0ZW1wbGF0ZSAtPiBleHQudmFsdWUgPSBjcmVhdGUoJ0lkZW50aWZpZXInKSBhcyB2YWx1ZSB0aGVuIElJKHRlbXBsYXRlLCB2YWx1ZSkgInZhbHVlIjsKICB9ICJ0ZW1wbGF0ZUlkIjsKfQoKZ3JvdXAgTmVnYXRpb24oc291cmNlIG5lZ2F0aW9uIDogQkwsIHRhcmdldCB0Z3QpIHsKICBuZWdhdGlvbiAtPiB0Z3QubW9kaWZpZXJFeHRlbnNpb24gYXMgZXh0IHRoZW4gewogICAgbmVnYXRpb24gLT4gZXh0LnVybCA9ICdodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL25lZ2F0aW9uSW5kaWNhdG9yJyAidXJsIjsKICAgIG5lZ2F0aW9uIGFzIG5lZyAtPiAgZXh0LnZhbHVlID0gY3JlYXRlKCdib29sZWFuJyksICBleHQudmFsdWUgPSBuZWcgInZhbHVlIjsKICB9ICJuZWdhdGlvbiI7Cn0KCmdyb3VwIFRTSW5zdGFudChzb3VyY2Ugc3JjIDogVFMsIHRhcmdldCB0Z3QgOiBpbnN0YW50KSBleHRlbmRzIEFueSA8PHR5cGVzPj4gewogIHNyYy52YWx1ZSBhcyB2IC0+IHRndC52YWx1ZSA9IGNhc3QodiwgJ3N0cmluZycpOwp9Cgpncm91cCBUU0RhdGVUaW1lKHNvdXJjZSBzcmMgOiBUUywgdGFyZ2V0IHRndCA6IGRhdGVUaW1lKSBleHRlbmRzIFRTSW5zdGFudCA8PHR5cGVzPj4gewogIAogIHNyYyAgd2hlcmUodmFsdWUuY29udGFpbnMoJysnKSkgdGhlbnsKICAgIHNyYy52YWx1ZSBhcyB2IC0+IHRndC52YWx1ZSA9IGNhc3QodiwgJ3N0cmluZycpOwogIH0iZWZmIjsgIAoKICBzcmMgIHdoZXJlKHZhbHVlLmNvbnRhaW5zKCctJykpIHRoZW57CiAgICBzcmMudmFsdWUgYXMgdiAtPiB0Z3QudmFsdWUgPSBjYXN0KHYsICdzdHJpbmcnKTsKICB9ImVmZiI7ICAKCiAgc3JjLnZhbHVlICB3aGVyZSh2YWx1ZS5tYXRjaGVzKCdeXFxkezR9KFxcLVxcZHsyfSl7Mn1UXFxkezJ9KDpcXGR7Mn0pezJ9JCcpKSB0aGVuewogICAgc3JjLnZhbHVlIGFzIHYgIC0+IHRndC52YWx1ZSA9IGFwcGVuZCh2LCdaJykgImRhdGUiOwogIH0iZWZmIjsgICAgCgp9Cgpncm91cCBUU0RhdGUoc291cmNlIHNyYyA6IFRTLCB0YXJnZXQgdGd0IDogZGF0ZSkgZXh0ZW5kcyBUU0luc3RhbnQgPDx0eXBlcz4+IHsKfQoKZ3JvdXAgSVZMVFNQZXJpb2Qoc291cmNlIHNyYyA6IElWTF9UUywgdGFyZ2V0IHRndCA6IFBlcmlvZCkgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMubG93IGFzIGwgLT4gdGd0LnN0YXJ0PWNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUobCxzdGFydCkgOwogICAKICBzcmMuaGlnaCBhcyBoIC0+IHRndC5lbmQ9Y3JlYXRlKCdkYXRlVGltZScpIGFzIGVuZCB0aGVuIFRTRGF0ZVRpbWUoaCxlbmQpIDsKICAKIAp9Cgpncm91cCBJVkxUU0RhdGVUaW1lKHNvdXJjZSBzcmMgOiBJVkxfVFMsIHRhcmdldCB0Z3QgOiBkYXRlVGltZSkgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMubG93IGFzIHMgdGhlbiBUU0RhdGVUaW1lKHMsIHRndCk7Cn0KCmdyb3VwIFNUc3RyaW5nKHNvdXJjZSBzcmMgOiBTVCwgdGFyZ2V0IHRndCA6IHN0cmluZykgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMgYXMgdiAtPiB0Z3QudmFsdWUgPSBjYXN0KHYsICdzdHJpbmcnKSAidmFsdWUiOwp9Cgpncm91cCBFRHN0cmluZyhzb3VyY2Ugc3JjIDogRUQsIHRhcmdldCB0Z3QgOiBzdHJpbmcpIGV4dGVuZHMgU1RzdHJpbmcgPDx0eXBlcz4+IHsKICAgIH0KCgpncm91cCBJTlRzdHJpbmcoc291cmNlIHNyYyA6IElOVCwgdGFyZ2V0IHRndCA6IHN0cmluZykgZXh0ZW5kcyBTVHN0cmluZyA8PHR5cGVzPj4gewp9Cmdyb3VwIE9Oc3RyaW5nKHNvdXJjZSBzcmMgOiBPTiwgdGFyZ2V0IHRndCA6IHN0cmluZykgZXh0ZW5kcyBTVHN0cmluZyA8PHR5cGVzPj4gewp9Cgpncm91cCBDU0NvZGUoc291cmNlIHNyYyA6IENTLCB0YXJnZXQgdGd0IDogY29kZSkgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMuY29kZSBhcyBjIC0+IHRndC52YWx1ZSA9IGNhc3QoYywgJ3N0cmluZycpOwp9Cgpncm91cCBDRUNvZGUoc291cmNlIHNyYyA6IENFLCB0YXJnZXQgdGd0IDogY29kZSkgZXh0ZW5kcyBDU0NvZGUgPDx0eXBlcz4+IHsKfQoKZ3JvdXAgQ0RDb2RlKHNvdXJjZSBzcmMgOiBDRCwgdGFyZ2V0IHRndCA6IGNvZGUpIGV4dGVuZHMgQ1NDb2RlIDw8dHlwZXM+PiB7Cn0KCmdyb3VwIENFQ29kZWFibGVDb25jZXB0KHNvdXJjZSBzcmMgOiBDRSwgdGFyZ2V0IHRndCA6IENvZGVhYmxlQ29uY2VwdCkgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiB0Z3QudGV4dD0gKHJlZmVyZW5jZS52YWx1ZSk7CiAgfSJvcmlnaW5sdGV4dCI7CiAgc3JjIC0+IHRndC5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgc3JjLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgc3JjLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgIHNyYy5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICBzcmMuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogIH0gImNvZGUiOwogIHNyYy50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiB0Z3QuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwoJdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewoJcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IHRndC5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewoJIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwoJIH0gInZhbHVlIjsKCX07CiAgfSAidHJhbnNsYXRpb24iOwp9Cgpncm91cCBDU0NvZGVhYmxlQ29uY2VwdChzb3VyY2Ugc3JjIDogQ1MsIHRhcmdldCB0Z3QgOiBDb2RlYWJsZUNvbmNlcHQpIGV4dGVuZHMgQ0VDb2RlYWJsZUNvbmNlcHQgPDx0eXBlcz4+IHsKfQoKZ3JvdXAgQ0RDb2RlYWJsZUNvbmNlcHQoc291cmNlIHNyYyA6IENELCB0YXJnZXQgdGd0IDogQ29kZWFibGVDb25jZXB0KSBleHRlbmRzIENFQ29kZWFibGVDb25jZXB0IDw8dHlwZXM+PiB7Cn0KCmdyb3VwIEVOSHVtYW5OYW1lKHNvdXJjZSBzcmMgOiBFTiwgdGFyZ2V0IHRndCA6IEh1bWFuTmFtZSkgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMuZmFtaWx5IGFzIHYgLT4gdGd0LmZhbWlseSA9ICh2LmRhdGFTdHJpbmcpOwogIHNyYy5naXZlbiBhcyB2IC0+IHRndC5naXZlbiA9ICh2LmRhdGFTdHJpbmcpOwogIHNyYy5wcmVmaXggYXMgdiAtPiB0Z3QucHJlZml4ID0gKHYuZGF0YVN0cmluZyk7CiAgc3JjLnN1ZmZpeCBhcyB2IC0+IHRndC5zdWZmaXggPSAodi5kYXRhU3RyaW5nKTsKICAvLyBzcmMudXNlIGFzIGMgLT4gdGd0LnVzZSA9IHRyYW5zbGF0ZShjLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL2NtLW5hbWUtdXNlLXYzJywgJ2NvZGUnKTsKICBzcmMudmFsaWRUaW1lIC0+IHRndC5wZXJpb2Q7Cn0KCmdyb3VwIEFEQWRkcmVzcyhzb3VyY2Ugc3JjIDogQUQsIHRhcmdldCB0Z3QgOiBBZGRyZXNzKSBleHRlbmRzIEFueSA8PHR5cGVzPj4gewogIHNyYy5jb3VudHJ5IGFzIHYgLT4gdGd0LmNvdW50cnkgPSAodi5kYXRhU3RyaW5nKTsKICBzcmMuc3RhdGUgYXMgdiAtPiB0Z3Quc3RhdGUgPSAodi5kYXRhU3RyaW5nKTsKICBzcmMuY291bnR5IGFzIHYgLT4gdGd0LmRpc3RyaWN0ID0gKHYuZGF0YVN0cmluZyk7CiAgc3JjLmNpdHkgYXMgdiAtPiB0Z3QuY2l0eSA9ICh2LmRhdGFTdHJpbmcpOwogIHNyYy5wb3N0YWxDb2RlIGFzIHYgLT4gdGd0LnBvc3RhbENvZGUgPSAodi5kYXRhU3RyaW5nKTsKICBzcmMuc3RyZWV0QWRkcmVzc0xpbmUgYXMgdiAtPiB0Z3QubGluZT0odi5kYXRhU3RyaW5nKTsKICAgCiAgc3JjICAgLT4gdGd0LmxpbmUgIGFzIGxpbmUgdGhlbiB7IAogICBzcmMgd2hlcmUgc3JjLmNlbnN1c1RyYWN0LmV4aXN0cygpIHRoZW4gewogICAgc3JjLmNlbnN1c1RyYWN0IGFzIHYgLT4gbGluZS5leHRlbnNpb24gYXMgZXh0MSB0aGVuIENlbnN1c1RyYWN0KHYsIGV4dDEpICJsaW5lIjsKICAgfSJzZmdmZHNnIjsKICB9ICJDZW5zdXNUcmFjdCI7CgogIC8vc2hhcmUgZmlyc3RsaW5lICJzdHJlZXRBZGRyZXNzIjsKICAvL2FzIHN0cmVldEFkZHJlc3MgdGhlbnsKICAgIC8vc3JjLmNlbnN1c1RyYWN0IGFzIHYtPnRndC5saW5lIGFzIGxpbmUsIGxpbmUuZXh0ZW5zaW9uIGFzIGV4dDEgdGhlbiBDZW5zdXNUcmFjdCh2LCBleHQxKSAibGluZSI7CiAgLy9zcmMuY2Vuc3VzVHJhY3QgYXMgdiAtPnRndC5saW5lIGFzIGxpbmUsIGxpbmUuZXh0ZW5zaW9uIGFzIGV4dDEgdGhlbiBDZW5zdXNUcmFjdCh2LCBleHQxKSAibGluZSI7CiAgc3JjLnN0cmVldE5hbWUgYXMgdiAtPiB0Z3QubGluZSA9ICh2LmRhdGFTdHJpbmcpOwogIHNyYy5ob3VzZU51bWJlciBhcyB2IC0+IHRndC5saW5lID0gKHYuZGF0YVN0cmluZyk7CiAgc3JjLnVzZSBhcyBjIC0+IHRndC51c2UgPSB0cmFuc2xhdGUoYywgJyNhZGRyZXNzVXNlJywgJ2NvZGUnKSAiYWRkcmVzc1VzZSI7CiAgc3JjLnVzZWFibGVQZXJpb2QgLT4gdGd0LnBlcmlvZDsKfQoKZ3JvdXAgVEVMQ29udGFjdFBvaW50KHNvdXJjZSBzcmMgOiBURUwsIHRhcmdldCB0Z3QgOiBDb250YWN0UG9pbnQpIGV4dGVuZHMgQW55IDw8dHlwZXM+PiB7CiAgc3JjLnZhbHVlIGFzIHYgd2hlcmUgKHNyYy52YWx1ZS5zdGFydHNXaXRoKCd0ZWw6JykpIC0+ICB0Z3QudmFsdWUgPSAodi5zdWJzdHJpbmcoNCkpLCAgdGd0LnN5c3RlbSA9ICdwaG9uZScgInZhbHVldGVsIjsKICBzcmMudmFsdWUgYXMgdiB3aGVyZSAoc3JjLnZhbHVlLnN0YXJ0c1dpdGgoJ2ZheDonKSkgLT4gIHRndC52YWx1ZSA9ICh2LnN1YnN0cmluZyg0KSksICB0Z3Quc3lzdGVtID0gJ2ZheCcgInZhbHVlZmF4IjsKICBzcmMudmFsdWUgYXMgdiB3aGVyZSAoc3JjLnZhbHVlLnN0YXJ0c1dpdGgoJ21haWx0bzonKSkgLT4gIHRndC52YWx1ZSA9ICh2LnN1YnN0cmluZyg3KSksICB0Z3Quc3lzdGVtID0gJ2VtYWlsJyAidmFsdWVtYWlsIjsKICBzcmMudmFsdWUgYXMgdiB3aGVyZSAoc3JjLnZhbHVlLnN0YXJ0c1dpdGgoJ2h0dHA6JykpIC0+ICB0Z3QudmFsdWUgPSAodi5zdWJzdHJpbmcoNSkpLCAgdGd0LnN5c3RlbSA9ICd1cmwnICJ2YWx1ZWh0dHAiOwogIHNyYy51c2Ugd2hlcmUgKHNyYy51c2Uuc3RhcnRzV2l0aCgnSCcpKSAtPiB0Z3QudXNlID0gJ2hvbWUnICJ1c2Vob21lIjsKICBzcmMudXNlIHdoZXJlICgoc3JjLnVzZSA9ICdXUCcpIG9yIChzcmMudXNlID0gJ0RJUicpIG9yIChzcmMudXNlID0gJ1BVQicpKSAtPiB0Z3QudXNlID0gJ3dvcmsnICJ1c2V3b3JrIjsKICBzcmMudXNlIHdoZXJlIChzcmMudXNlID0gJ0JBRCcpIC0+IHRndC51c2UgPSAnb2xkJyAidXNlYmFkIjsKICBzcmMudXNlIHdoZXJlIChzcmMudXNlID0gJ1RNUCcpIC0+IHRndC51c2UgPSAndGVtcCcgInVzZXRtcCI7CiAgc3JjLnVzZSB3aGVyZSAoc3JjLnVzZSA9ICdNQycpIC0+IHRndC51c2UgPSAnbW9iaWxlJyAidXNlbW9iaWxlIjsKICBzcmMudXNlYWJsZVBlcmlvZCAtPiB0Z3QucGVyaW9kOwp9Cgpncm91cCBQUVF1YW50aXR5KHNvdXJjZSBzcmMgOiBQUSwgdGFyZ2V0IHRndCA6IFF1YW50aXR5KSBleHRlbmRzIEFueSA8PHR5cGVzPj4gewogIC8vIHNyYy51bml0IGFzIHVuaXQgLT4gdGd0LmNvZGUgPSB1bml0OwogIHNyYy51bml0IGFzIHVuaXQgLT4gdGd0LnVuaXQgPSB1bml0OwogIHNyYy52YWx1ZSBhcyB2YWx1ZSAtPiB0Z3QudmFsdWUgPSB2YWx1ZTsKfQoKZ3JvdXAgUlRPUFFQUVJhdGlvKHNvdXJjZSBzcmMgOiBSVE9fUFFfUFEsIHRhcmdldCB0Z3QgOiBSYXRpbykgZXh0ZW5kcyBBbnkgPDx0eXBlcz4+IHsKICBzcmMubnVtZXJhdG9yIGFzIG51bWVyYXRvciAtPiB0Z3QubnVtZXJhdG9yIGFzIHRhcmdldE51bWVyYXRvciB0aGVuIFBRUXVhbnRpdHkobnVtZXJhdG9yLCB0YXJnZXROdW1lcmF0b3IpOwogIHNyYy5kZW5vbWluYXRvciBhcyBkZW5vbWluYXRvciAtPiB0Z3QuZGVub21pbmF0b3IgYXMgdGFyZ2V0RGVub21pbmF0b3IgdGhlbiBQUVF1YW50aXR5KGRlbm9taW5hdG9yLCB0YXJnZXREZW5vbWluYXRvcik7Cn0KIAogZ3JvdXAgQ2Vuc3VzVHJhY3Qoc291cmNlIHNyYyA6IFNULCB0YXJnZXQgZXh0IDogRXh0ZW5zaW9uKSB7CiAgc3JjIC0+IGV4dC51cmwgPSAnaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL2lzbzIxMDkwLUFEWFAtY2Vuc3VzVHJhY3QnICJ1cmwiOwogICAgc3JjLT4gIGV4dC52YWx1ZSA9IGNyZWF0ZSgnc3RyaW5nJyksICBleHQudmFsdWUgPSAoc3JjLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgfSAK", "subType": "00"}}, "filename": "CdaToFhirDataTypes_v2.1.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:29:26.788Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a4524846375e3fecadbd"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/FULLHEADER", "version": "3.2", "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9GVUxMSEVBREVSIiA9ICJGVUxMSEVBREVSIgoKY29uY2VwdG1hcCAiY20tdjMtYWRtaW5pc3RyYXRpdmUtZ2VuZGVyIiB7CiAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtQWRtaW5pc3RyYXRpdmVHZW5kZXIiCiAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9WYWx1ZVNldC9hZG1pbmlzdHJhdGl2ZS1nZW5kZXIiCgogIHM6TSA9PSB0Om1hbGUKICBzOkYgPT0gdDpmZW1hbGUKfQpjb25jZXB0bWFwICJwcmlvcml0eSIgewogcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtQWN0UHJpb3JpdHkiCiAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9WYWx1ZVNldC9yZXF1ZXN0LXByaW9yaXR5IgoKICBzOlIgPT0gdDpyb3V0aW5lCiAgczpQID09IHQ6YXNhcAogIHM6VVIgPT0gdDp1cmdlbnQKICBzOkVNID09IHQ6IHN0YXQKCn0KY29uY2VwdG1hcCAiY20tdjMtcmVsYXRlc1RvLWNvZGUiIHsKICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC90eXBlY29kZSIKICBwcmVmaXggdCA9ICJodHRwOi8vaGw3Lm9yZy9maGlyL1ZhbHVlU2V0L2RvY3VtZW50LXJlbGF0aW9uc2hpcC10eXBlIgoKICBzOkFQTkQgPT0gdDphcHBlbmRzCiAgczpYRlJNID09IHQ6dHJhc2Zvcm0KICBzOlJQTEMgPT0gdDpyZXBsYWNlcwp9Cgp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NsaW5pY2FsRG9jdW1lbnQiIGFsaWFzIENsaW5pY2FsRG9jdW1lbnQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzaWduZWRBdXRob3IiIGFsaWFzIEFzc2lnbmVkQXV0aG9yIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEVudGl0eSIgYWxpYXMgQXNzaWduZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc29jaWF0ZWRFbnRpdHkiIGFsaWFzIEFzc29jaWF0ZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0N1c3RvZGlhbk9yZ2FuaXphdGlvbiIgYWxpYXMgQ3VzdG9kaWFuT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9TZWN0aW9uIiBhbGlhcyBTZWN0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9QYXRpZW50Um9sZSIgYWxpYXMgUGF0aWVudFJvbGUgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQnVuZGxlIiBhbGlhcyBCdW5kbGUgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Db21wb3NpdGlvbiIgYWxpYXMgQ29tcG9zaXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnQiIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VuY291bnRlciIgYWxpYXMgRW5jb3VudGVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QZXJzb24iIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1ByYWN0aXRpb25lciIgYWxpYXMgUHJhY3RpdGlvbmVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9TcGVjaW1lbiIgYWxpYXMgU3BlY2ltZW4gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgT3JnYW5pemF0aW9uIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSGVhbHRoQ2FyZUZhY2lsaXR5IiBhbGlhcyBIZWFsdGhDYXJlRmFjaWxpdHkgYXMgcXVlcmllZAoKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvQ2RhVG9GaGlyRGF0YVR5cGVzIgoKZ3JvdXAgQ2RhVG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICBjZGEgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsICBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3RQQVQsIHJlcXVlc3RQQVQubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQYXRpZW50JykgYXMgcGF0aWVudCwgIHBhdGllbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nLCB1dWlkMiksIGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVyLCAgZW5jb3VudGVyLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMykscmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJywgYnVuZGxlLmVudHJ5IGFzIGU0LCBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU0LnJlc291cmNlID0gY3JlYXRlKCdEb2N1bWVudFJlZmVyZW5jZScpIGFzIERvY3VtZW50UmVmZXJlbmNlLCAgRG9jdW1lbnRSZWZlcmVuY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDQsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRG9jdW1lbnRSZWZlcmVuY2UvJywgdXVpZDMpLHJlcXVlc3QudXJsID0gJ0RvY3VtZW50UmVmZXJlbmNlJyB0aGVuIHsKICAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKGNkYSwgcGF0aWVudCwgY29tcG9zaXRpb24sIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNkYXRvYnVuZGxlIjsKICAgY2RhLnJlY29yZFRhcmdldCBhcyByZWNvcmRUYXJnZXQgdGhlbnsKICAgIHJlY29yZFRhcmdldC5wYXRpZW50Um9sZSBhcyBwYXRpZW50IHRoZW57CiAgICAgIHBhdGllbnQuaWQgYXMgaWQgLT4gcGF0aWVudC5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gaWRlbnRpZmllci52YWx1ZSA9IGV4dCAidmFsdWUiOwogICAgICAgICAgICAvLyByIC0+IHJlcXVlc3RQQVQudXJsID0gYXBwZW5kKCdQYXRpZW50P2lkZW50aWZpZXI9JyxleHQpICJVVUlEIjsKICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgIH0icmVjb3JkIjsKICAgIH0icmVjUGF0IjsKICAgfSJwYXRpZW50IjsKIH0gIkNsaW5pY2FsRG9jdW1lbnRUb0JvZHkiOwp9Cgpncm91cCBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGNvbXBvc2l0aW9uIDogQ29tcG9zaXRpb24sIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBEb2N1bWVudFJlZmVyZW5jZTogRG9jdW1lbnRSZWZlcmVuY2UpIHsKICBjZGEgLT4gYnVuZGxlLmlkID0gdXVpZCgpICJpZCI7CiAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICBjZGEgLT4gYnVuZGxlLnR5cGUgPSAndHJhbnNhY3Rpb24nICJ0eXBlIjsKICBjZGEgLT4gYnVuZGxlLnRpbWVzdGFtcD0odGltZXN0YW1wLm5vdygpKSAiZGF0ZSI7CmNkYSB0aGVuIENsaW5pY2FsRG9jdW1lbnRDb21wb3NpdGlvbihjZGEsIGNvbXBvc2l0aW9uLCBwYXRpZW50LCBlbmNvdW50ZXIsIGJ1bmRsZSwgRG9jdW1lbnRSZWZlcmVuY2UpICJjb21wb3NpdGlvbiI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRDb21wb3NpdGlvbihzb3VyY2Ugc3JjIDogQ2xpbmljYWxEb2N1bWVudCwgdGFyZ2V0IHRndCA6IENvbXBvc2l0aW9uLCB0YXJnZXQgcGF0aWVudFJlc291cmNlIDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IERvY3VtZW50UmVmZXJlbmNlOiBEb2N1bWVudFJlZmVyZW5jZSkgewogIHNyYy5sYW5ndWFnZUNvZGUgLT4gdGd0Lmxhbmd1YWdlOwogIHNyYyAtPiBEb2N1bWVudFJlZmVyZW5jZS5zdGF0dXMgPSAnY3VycmVudCcgInN0YXR1cyI7CiAgc3JjIC0+IERvY3VtZW50UmVmZXJlbmNlLmNvbnRlbnQgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIGNvbnRlbnQgdGhlbiB7CiAgc3JjLT4gY29udGVudC5hdHRhY2htZW50ID0gY3JlYXRlKCdBdHRhY2htZW50JykgYXMgYXR0YWNobWVudCwgIGF0dGFjaG1lbnQudGl0bGUgPSAnc3RyaW5nJyAiY29tcCI7CiAgfSJjb250ZW50IjsKICBzcmMgLT4gRG9jdW1lbnRSZWZlcmVuY2UuY29udGV4dCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgY29udGV4dCB0aGVuIHsKICAgIHNyYyAtPiBjb250ZXh0LnJlbGF0ZWQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZUNvbXAsICByZWZlcmVuY2VDb21wLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0NvbXBvc2l0aW9uLycgKyAldGd0LmlkKSAiY29tcCI7CiAgIH0iY29udGV4dCI7CiAgc3JjLmlkIHdoZXJlIHNyYy5zZXRJZC5leGlzdHMoKS5ub3QoKSAtPiB0Z3QuaWRlbnRpZmllciAiaWRlbnRpZmllciI7CiAgc3JjLnNldElkIC0+IHRndC5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICBzcmMgLT4gdGd0LnN0YXR1cyA9ICdmaW5hbCcgInN0YXR1cyI7CiAgc3JjLmNvZGUgLT4gdGd0LnR5cGU7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjIHdoZXJlIHNyYy50aXRsZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgIHNyYy5jb2RlICBhcyBjb2RlIHRoZW4gewogICAgICBjb2RlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT50Z3QudGl0bGUgPSBjYXN0KGRpc3BsYXksJ3N0cmluZycpOwogICAgfSJkaXNwbGF5IjsKICB9InRpdGxlIjsKICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5kYXRlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSk7CiAgc3JjLnZlcnNpb25OdW1iZXIgYXMgdmVyc2lvbk51bWJlciB3aGVyZSh2YWx1ZSA+IDEpIC0+IHRndC5leHRlbnNpb24gYXMgZXh0MiB0aGVuIENoRXh0RXByVmVyc2lvbk51bWJlcih2ZXJzaW9uTnVtYmVyLCBleHQyKTsKICBzcmMuY29uZmlkZW50aWFsaXR5Q29kZSAtPiB0Z3QuY29uZmlkZW50aWFsaXR5OwogIHNyYy5yZWNvcmRUYXJnZXQgYXMgcmVjb3JkVGFyZ2V0IHRoZW4gewogICAgcmVjb3JkVGFyZ2V0LnBhdGllbnRSb2xlIGFzIHBhdGllbnQgLT4gIHRndC5zdWJqZWN0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnRSZXNvdXJjZS5pZCkgdGhlbiBDbGluaWNhbERvY3VtZW50UGF0aWVudFJvbGUocGF0aWVudCwgcGF0aWVudFJlc291cmNlLCBidW5kbGUpICJzdWJqZWN0IjsKICAgIHJlY29yZFRhcmdldC5wYXRpZW50Um9sZSBhcyBwYXRpZW50IC0+IERvY3VtZW50UmVmZXJlbmNlLnN1YmplY3QgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZTEsICByZWZlcmVuY2UxLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50UmVzb3VyY2UuaWQpOwogIH0gInBhdGllbnRSb2xlIjsKICAKICAvL1NUQVJUIEFVVEhPUgogIHNyYy5hdXRob3IgYXMgc3JjQXV0aG9yIHRoZW4gIHsKICAgIHNyY0F1dGhvci50aW1lIGFzIHRpbWUgLT4gdGd0LmRhdGU7CiAgICBzcmNBdXRob3IuYXNzaWduZWRBdXRob3IgYXMgYXNzaWduZWRBdXRob3IgdGhlbiB7CiAgICAgIC8vIENvZGljZSBGaXNjYWxlCiAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNi4zLjInKSB0aGVuIHsKICAgICAgICAgYXNzaWduZWRBdXRob3ItPmJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkMSksIHJlcXVlc3QudXJsPSdQcmFjdGl0aW9uZXJSb2xlJywgdGd0LmF1dGhvciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5jb2RlIGFzIGNvZGljZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGUgYXMgY29kZTIgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RpY2UsY29kZTIpOwogICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTIsICBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW4geyAKICAgICAgICAgICAgICBzcmNBdXRob3IuZnVuY3Rpb25Db2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aG9yJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OyAvLyB0aGVuIHsKICAgICAgICAgICAgICAvLyAgICBhc3NpZ25lZEF1dGhvci0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgLy8gIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpImF1dCI7CiAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOyAgICAgIAogICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgcGVyc29uLmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgICAgICAgICB9ICJuYW1lIjsKICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IERvY3VtZW50UmVmZXJlbmNlLmF1dGhvciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlQXV0aCwgIHJlZmVyZW5jZUF1dGgucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAicmVmQXV0aCI7CiAgICAgICAgICAgICAgfSAiQVNTQVV0aCI7CiAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMywgIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW4gewogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSJhdXQiOwogICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CgogICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGU0LCAgZTQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGU0LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24xIHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgIH0ibWV0YSI7ICAgICAgICAgIAogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCAgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTEwYmlzLCAgZTEwYmlzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMTBiaXMucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKCiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkID0gIChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMTBiaXMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpICJhdXQiOwogICAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgICAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICAgICAgICAgIH0gIk9yZ1BhcnRPZiI7CiAgICAgICAgICAgICAgfSAicmVwcmVzZW50ZWRPcmdhbml6YXRpb24iOyAKICAgICAgICAgICAgfSJQYXJjYXRpdGlvbmVyUk9MIjsKICAgICAgICB9Ik9JRENGIjsKICAgICAgLy8gUGFydGl0YSBJVkEKICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS42LjMuMicpIHRoZW4gewogICAgICAgIGFzc2lnbmVkQXV0aG9yLT5idW5kbGUuZW50cnkgYXMgZTZiaXMzLCAgZTZiaXMzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTZiaXMzLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDZiaXMzLCAgZTZiaXMzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJywgdXVpZDZiaXMzKSwgcmVxdWVzdC51cmwgPSdEZXZpY2UnLCB0Z3QuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbnsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5idW5kbGUuZW50cnkgYXMgZTI1MSwgZTI1MS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMjUxLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3ItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L0F1dGhvclBhcnRpdGFJVkEnImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTI1MS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQyKSwgIGRldmljZS5vd25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgIH0iT3JnUGFydGl0YUlWQSI7CiAgICAgICAgIH0iRGV2aWNlIjsKICAgICAgfSJvaWRQYXJ0aXRhSVZBIjsKICAgICAvLyBJRCBudWxsRmxhdm9yCiAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIG51bGxGbGF2b3IuZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZEF1dGhvcmluZ0RldmljZSBhcyBhc3NpZ25lZEF1dGhvcmluZ0RldmljZSAtPiBidW5kbGUuZW50cnkgYXMgZTZiaXMsICBlNmJpcy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU2YmlzLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDZiaXMsICBlNmJpcy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycsIHV1aWQ2YmlzKSwgcmVxdWVzdC51cmwgPSdEZXZpY2UnLCB0Z3QuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbnsKICAgICAgICAgIC8vIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLnRlbXBsYXRlSWQgLT4gZGV2aWNlLmlkZW50aWZpZXI7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLmNvZGUgLT4gZGV2aWNlLnR5cGU7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLm1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtLT4gZGV2aWNlLm1hbnVmYWN0dXJlciA9IChtLmRpc3BsYXlOYW1lKSAiZGlzcGxheVJ1bGUiOwogICAgICAgICAgICB9ICJtYW51ZmFjdHVyZXIiOyAKICAgICAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2Uuc29mdHdhcmVOYW1lIGFzIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2UuZGV2aWNlTmFtZSBhcyBkZXZpY2VOYW1lIHRoZW57CiAgICAgICAgICAgICAgICBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlTmFtZS50eXBlID0gJ290aGVyJyAidHlwZU5hbWUiOwkJCiAgICAgICAgICAgICAgICBzb2Z0d2FyZU5hbWUgYXMgcyAtPiBkZXZpY2VOYW1lLm5hbWUgPSAocy5kaXNwbGF5TmFtZSkgIm5hbWUiOwogICAgICAgICAgICB9ICJkZXZpY2VOYW1lIjsKICAgICAgICAgIH0iRGV2aWNlIjsKICAgICAgfSJOdWxsRmxhdm9yIjsKICAgIH0gImFzc2lnbmVkQXV0aG9yIjsKCiAgICAvL1NUQVJUIERBVEEgRU5URVIKICBzcmMuZGF0YUVudGVyZXIgYXMgZGF0YUVudCAtPiAgYnVuZGxlLmVudHJ5IGFzIGU2LCBlNi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU2LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlNi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0nUHJhY3RpdGlvbmVyUm9sZScgLCB0Z3QuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpIHRoZW4gewogICAgZGF0YUVudC50aW1lIGFzIHRpbWUgLT4gdGd0LmRhdGU7CiAgICBkYXRhRW50LmFzc2lnbmVkRW50aXR5IGFzIGFzc2lnbmVkRW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlNywgIGU3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGU3LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgIAogICAgICBhc3NpZ25lZEVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICBhc3NpZ25lZEVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIGFzc2lnbmVkRW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgYXNzaWduZWRFbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2RhdGFFbnRlcmVyJyJjb2RlIjsKICAgICAgICB9ImNvZGluZyI7CiAgICAgIH0ibWV0YSI7CiAgICAgIAogICAgICBhc3NpZ25lZEVudGl0eS5jb2RlIGFzIGNvZGljZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGUgYXMgY29kZTIgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RpY2UsY29kZTIpOwogICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OyAKICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkICA9ICAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTcuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgICJkYXRhZW50ZXJlciI7CiAgICAgICAgfSJyIjsKICAgIH0iaWRlbnRpZmllciI7CgogICAgYXNzaWduZWRFbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgIGFzc2lnbmVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgfSJkaXZlcnNvIjsKCiAgICAgIGFzc2lnbmVkRW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgIGFzc2lnbmVkRW50aXR5LnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgIGFzc2lnbmVkRW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuewogICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICBwZXJzb24uYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgIH0iYmlydGgiOwogICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgYXNzaWduZWRFbnRpdHkucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlOCwgIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgICAKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2RhdGFFbnRlcmVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIAogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9ICAociArJy0nKyBleHQpIGFzIHV1aWQzLCBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgcHJhY3RpdGlvbmVyUm9sZS5vcmdhbml6YXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZU9yZywgIHJlZmVyZW5jZU9yZy5yZWZlcmVuY2UgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpICAiZGF0YWVudGVyZXIiOwogICAgICAgICAgfSJyIjsKICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTksICBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgdGhlbnsKICAgICAgICAgIAogICAgICAgICAgT3JnUGFydE9mLT5vcmdhbml6YXRpb24xLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2RhdGFFbnRlcmVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgIAogICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiAgb3JnYW5pemF0aW9uMS5pZCA9ICAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uJyArICVvcmdhbml6YXRpb24xLmlkKSAgImRhdGFlbnRlcmVyIjsKICAgICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMCwgIGUxMC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTEwLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yICB0aGVuewogICAgICAgICAgICAKICAgICAgICAgICAgd2hvbGVPcmdhbi0+b3JnYW5pemF0aW9uMi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9kYXRhRW50ZXJlci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAKICAgICAgICAgICAgd2hvbGVPcmdhbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gIG9yZ2FuaXphdGlvbjIuaWQgPSAgKHIgKyctJysgZXh0KSBhcyB1dWlkNSwgIGUxMC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ1KSwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMi5pZCkgICAiZGF0YWVudGVyZXIiOwogICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICB9ImFzT3JnYW5pemF0aW9uUGFydE9mIjsKICAgICAgfSJSZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7CiAgICB9IkFzc2lnbmVkRW50aXR5IjsKICB9IkRhdGFFbnRlciI7CiAgfSAic3JjQXV0aG9yIjsKICAKICAvL1NUQVJUIElORk9STUFOVCAxCiAgc3JjLmluZm9ybWFudCBhcyBpbmZvcm1hbnQgIHRoZW4gewogICAgIGluZm9ybWFudC5hc3NpZ25lZEVudGl0eSBhcyBhc3NpZ25lZEVudGl0eSAgLT5idW5kbGUuZW50cnkgYXMgZTExLCBlMTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTExLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScgdGhlbiB7CiAgICAgICAgaW5mb3JtYW50IC0+IHRndC5hdHRlc3RlciBhcyBhdHRlc3RlciB0aGVuIHsKICAgICAgICBpbmZvcm1hbnQgLT4gYXR0ZXN0ZXIubW9kZT0ncHJvZmVzc2lvbmFsJyAibW9kZSI7CiAgICAgICAgaW5mb3JtYW50IC0+IGF0dGVzdGVyLnBhcnR5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpInJlZmVyZW5jZSI7CiAgICAgICAgYXNzaWduZWRFbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgYXNzaWduZWRFbnRpdHkgYXMgZW50aXR5LT4gYnVuZGxlLmVudHJ5IGFzIGUxMiwgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyICB0aGVuIHsKICAgICAgICAgIAogICAgICAgICAgZW50aXR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgZW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIGVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvaW5mb3JtYW50JyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgIAogICAgICAgICAgZW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gIChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiZGF0YWVudGVyZXIiOwogICAgICAgICAgICB9InIiIDsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIGFzc2lnbmVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICBlbnRpdHkuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsKICAgICAgICBlbnRpdHkudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgfSJwZXJzb24iOwogICAgICAgIGVudGl0eS5yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IGJ1bmRsZS5lbnRyeSBhcyBlMTMsIGUxMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICAKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvaW5mb3JtYW50L3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gIChyICsnLScrIGV4dCkgYXMgdXVpZDMsICBlMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksICBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICAgIH0iciIgOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYWRkciAtPiBvcmdhbml6YXRpb24uYWRkcmVzczsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiAtPiBvcmdhbml6YXRpb24ucGFydE9mIGFzIHBhcnRPZiB0aGVuIHsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBvcmdhbml6YXRpb25QYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNCwgZTE0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMSB0aGVuIHsKICAgICAgICAgIAogICAgICAgICAgb3JnYW5pemF0aW9uUGFydE9mLT5vcmdhbml6YXRpb24xLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgb3JnYW5pemF0aW9uUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBvcmdhbml6YXRpb25QYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2luZm9ybWFudC9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAKICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRPZi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24xLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgIG9yZ2FuaXphdGlvblBhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCA9ICAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTE0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCk7CiAgICAgICAgICAgIH0iciIgOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgb3JnYW5pemF0aW9uUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgIG9yZ2FuaXphdGlvblBhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZShjb2RlPSdhY3RpdmUnKS0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID1jcmVhdGUgKCdib29sZWFuJyksb3JnYW5pemF0aW9uMS5hY3RpdmU9J3RydWUnOwogICAgICAgIG9yZ2FuaXphdGlvblBhcnRPZi53aG9sZU9yZ2FuaXphdGlvbiAtPiBvcmdhbml6YXRpb24xLnBhcnRPZiBhcyBwYXJ0T2YxIHRoZW57CiAgICAgICAgb3JnYW5pemF0aW9uUGFydE9mLndob2xlT3JnYW5pemF0aW9uICBhcyB3aG9sZU9yZ2FuaXphdGlvbi0+IGJ1bmRsZS5lbnRyeSBhcyBlMTUsIGUxNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMTUucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgIHRoZW4gewogICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvaW5mb3JtYW50L3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mL3dob2xlT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgIAogICAgICAgIAogICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSkgICwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKTsKICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uMi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgIHdob2xlT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uMi50ZWxlY29tOwogICAgICAgIHdob2xlT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICB9ImFzT3JnYW5pemF0aW9uUGFydE9mIjsKICAgICAgIH0icGFydE9mIjsKICAgICAgICB9InF1YWxpZmljYXRpb24iOwogICAgICAgIH0ib3JnYW5pemF0aW9uIjsgCiAgICAgICAgfSJhc3NpZ25lZEVudGl0eSI7CiAgICB9ImF0dGVzdGVyIjsKICAgIH0iaW5mb3JtYW50IjsKICAgIH0iaW5mb3JtIjsKICAvL1NUQVJUIElORk9STUFOVCAyCiAgc3JjLmluZm9ybWFudCBhcyBpbmZvcm1hbnQgdGhlbiB7CiAgIAogICAgaW5mb3JtYW50LnJlbGF0ZWRFbnRpdHkgYXMgcmVsYXRlZCAgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNiwgZTE2LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTYucmVzb3VyY2UgPSBjcmVhdGUoJ1JlbGF0ZWRQZXJzb24nKSBhcyByZWxhdGVkUGVyc29uLCAgcmVsYXRlZFBlcnNvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxNi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUmVsYXRlZFBlcnNvbi8nLCB1dWlkMSkscmVxdWVzdC51cmwgPSAnUmVsYXRlZFBlcnNvbicgdGhlbiB7CiAgICBpbmZvcm1hbnQgLT4gdGd0LmF0dGVzdGVyIGFzIGF0dGVzdGVyIHRoZW4gewogICAgaW5mb3JtYW50IC0+IGF0dGVzdGVyLm1vZGU9J3Byb2Zlc3Npb25hbCcgIm1vZGUiOwogICAgaW5mb3JtYW50LT4gYXR0ZXN0ZXIucGFydHkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9SZWxhdGVkUGVyc29uLycgKyAlcmVsYXRlZFBlcnNvbi5pZCkicmVmZXJlbmNlIjsKICAgIHJlbGF0ZWQucmVsYXRlZFBlcnNvbiBhcyBQZXJzb24gdGhlbiB7CiAgICByZWxhdGVkLmNvZGUgLT4gcmVsYXRlZFBlcnNvbi5yZWxhdGlvbnNoaXA7CiAgICByZWxhdGVkLnRlbGVjb20gLT4gcmVsYXRlZFBlcnNvbi50ZWxlY29tOwogICAgcmVsYXRlZC5hZGRyIC0+IHJlbGF0ZWRQZXJzb24uYWRkcmVzczsKICAgIFBlcnNvbi5uYW1lIC0+IHJlbGF0ZWRQZXJzb24ubmFtZTsKICAgIHJlbGF0ZWQuYmlydGhUaW1lIGFzIGRhdGUgdGhlbnsKICAgICAgZGF0ZS52YWx1ZSBhcyB2YWx1ZSAtPiByZWxhdGVkUGVyc29uLmJpcnRoRGF0ZSA9IHRydW5jYXRlKHZhbHVlLCAxMCkgInZhbHVlRCI7IAogICAgfSJiaXJ0aGluZm9ybWFudCI7CiAgICByZWxhdGVkLT5yZWxhdGVkUGVyc29uLnBhdGllbnQ9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50UmVzb3VyY2UuaWQpICJyZWZlcmVuY2UiOwogICAgIH0icmVsYXRlZFBlcnNvbjEiOwogICAgICB9InJlbGF0ZWRQZXJzb24iOwogICAgfSJpbmZvcm1hbnQiOwogIH0iaW5mb3JtMiI7CiAgCiAgLy9TVEFSVCBDVVNUT0RJQU4KICBzcmMuY3VzdG9kaWFuIGFzIGN1c3RvZGlhbiB0aGVuIHsKICAgIGN1c3RvZGlhbi5hc3NpZ25lZEN1c3RvZGlhbiBhcyBhc3NpZ25lZEN1c3RvZGlhbiAtPiBidW5kbGUuZW50cnkgYXMgZTE3LCBlMTcucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTE3LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBPcmdhbml6YXRpb24gdGhlbiB7CiAgICAKICAgICAgYXNzaWduZWRDdXN0b2RpYW4tPk9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgYXNzaWduZWRDdXN0b2RpYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICBhc3NpZ25lZEN1c3RvZGlhbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgIGFzc2lnbmVkQ3VzdG9kaWFuIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9jdXN0b2RpYW4nImNvZGUiOwogICAgICAgIH0iY29kaW5nIjsKICAgICAgfSJtZXRhIjsKCiAgICAgIGFzc2lnbmVkQ3VzdG9kaWFuLnJlcHJlc2VudGVkQ3VzdG9kaWFuT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkQ3VzdG9kaWFuT3JnYW5pemF0aW9uIHRoZW57CiAgICAgICAgcmVwcmVzZW50ZWRDdXN0b2RpYW5Pcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gT3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgIHJlcHJlc2VudGVkQ3VzdG9kaWFuT3JnYW5pemF0aW9uIC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgfSJleHQiOwogICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBPcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQsICBlMTcuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkKTsKICAgICAgICB9InIiIDsKICAgIH0iaWRlbnRpZmllciI7CiAgICBhc3NpZ25lZEN1c3RvZGlhbiAtPiBEb2N1bWVudFJlZmVyZW5jZS5jdXN0b2RpYW4gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZUNVLCAgcmVmZXJlbmNlQ1UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlT3JnYW5pemF0aW9uLmlkKSAiUmVmQ3VzdG9kaWFuIjsKICAgIHJlcHJlc2VudGVkQ3VzdG9kaWFuT3JnYW5pemF0aW9uIC0+IHRndC5jdXN0b2RpYW4gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVPcmdhbml6YXRpb24uaWQpICB0aGVuIEN1c3RvZGlhbk9yZ2FuaXphdGlvbihyZXByZXNlbnRlZEN1c3RvZGlhbk9yZ2FuaXphdGlvbixPcmdhbml6YXRpb24pICJjdXN0b2RpYW4xIjsKICAgIH0icmVwcmVzZW50ZWRDdXN0b2RpYW5Pcmdhbml6YXRpb24iOwogICAgfSJvcmdhbml6YXRpb24iOwogIH0iY3VzdG9kaWFuIjsKCiAgLy9TVEFSVCBJTkZPUk1BVElPTiBSRUNJUElFTlQgCiAgc3JjLmluZm9ybWF0aW9uUmVjaXBpZW50IGFzIGluZm9ybWF0aW9uUmVjaXBpZW50IHRoZW57CiAgICAgIGluZm9ybWF0aW9uUmVjaXBpZW50LmludGVuZGVkUmVjaXBpZW50IGFzIGludGVuZGVkUmVjaXBpZW50ICB0aGVuIHsKICAgICAgICAgICAgaW50ZW5kZWRSZWNpcGllbnQuaW5mb3JtYXRpb25SZWNpcGllbnQgYXMgaW5mb3JtYXRpb25SZWNpcGllbnQyIHRoZW57CiAgICAgICAgICAgICAgICBpbmZvcm1hdGlvblJlY2lwaWVudCAtPiB0Z3QuYXR0ZXN0ZXIgYXMgYXR0ZXN0ZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb25SZWNpcGllbnQyIC0+IGF0dGVzdGVyLm1vZGUgPSAncHJvZmVzc2lvbmFsJyAibW9kZSI7CiAgICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb25SZWNpcGllbnQyIC0+ICBidW5kbGUuZW50cnkgYXMgZTE5LCBlMTkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUxOS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyICB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uUmVjaXBpZW50Mi0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb25SZWNpcGllbnQyLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uUmVjaXBpZW50MiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvcm1hdGlvblJlY2lwaWVudDIgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2luZm9ybWF0aW9uUmVjaXBpZW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgaW50ZW5kZWRSZWNpcGllbnQuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTE5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCAgYXR0ZXN0ZXIucGFydHkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZTEsIHJlZmVyZW5jZTEucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICBpbnRlbmRlZFJlY2lwaWVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICAgICAgaW50ZW5kZWRSZWNpcGllbnQuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICAgICAgICAgICAgICAgIGludGVuZGVkUmVjaXBpZW50LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgICAgIGludGVuZGVkUmVjaXBpZW50LnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uUmVjaXBpZW50Mi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICBpbmZvcm1hdGlvblJlY2lwaWVudDIuYmlydGhUaW1lIGFzIGJ0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnQudmFsdWUgYXMgdiAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlID0gKHYuZGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iZGF0ZSI7CiAgICAgICAgICAgICAgICAgICAgfSJQZXJzb25SZWNpcGllbnQiOwogICAgICAgICAgICAgICAgfSJpbnRlbmRlZFJlY2lwaWVuUHJhY3QiOwogICAgICAgICAgICB9ImF0dGVzdGVyT3JnIjsKICAgICAgICAgICAgaW50ZW5kZWRSZWNpcGllbnQucmVjZWl2ZWRPcmdhbml6YXRpb24gYXMgcmVjZWl2ZWRPcmdhbml6YXRpb24gdGhlbnsKICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uUmVjaXBpZW50IC0+IHRndC5hdHRlc3RlciBhcyBhdHRlc3RlciB0aGVuIHsKICAgICAgICAgICAgICAgIHJlY2VpdmVkT3JnYW5pemF0aW9uIC0+IGF0dGVzdGVyLm1vZGUgPSAnb2ZmaWNpYWwnICJtb2RlIjsKICAgICAgICAgICAgICAgIHJlY2VpdmVkT3JnYW5pemF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMjAsIGUyMC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTIwLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICByZWNlaXZlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICByZWNlaXZlZE9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2luZm9ybWF0aW9uUmVjaXBpZW50L3JlY2VpdmVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICByZWNlaXZlZE9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUyMC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgIGF0dGVzdGVyLnBhcnR5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UyLCByZWZlcmVuY2UyLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgcmVjZWl2ZWRPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgICAgcmVjZWl2ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgICAgIHJlY2VpdmVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgICAgICByZWNlaXZlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBhc09yZ2FuaXphdGlvblBhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTIxLCBlMjEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTIxLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yICwgb3JnYW5pemF0aW9uMi5pZCA9IHV1aWQoKSBhcyB1dWlkNCwgIGUyMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uJywgdXVpZDQpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VvciwgcmVmZXJlbmNlb3IucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uJyArICVvcmdhbml6YXRpb24yLmlkKSB0aGVuIHsKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YtPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzT3JnYW5pemF0aW9uUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICBhc09yZ2FuaXphdGlvblBhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvaW5mb3JtYXRpb25SZWNpcGllbnQvcmVjZWl2ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBhc09yZ2FuaXphdGlvblBhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlMjEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZW9yLCByZWZlcmVuY2Vvci5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKTsKICAgICAgICAgICAgICAgICAgICB9InIiIDsKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YuY29kZSAtPiBvcmdhbml6YXRpb24yLnR5cGU7CiAgICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2Yuc3RhdHVzQ29kZSBhcyBzdGF0dXMgd2hlcmUgKHZhbHVlID0nYWN0aXZlJykgLT4gb3JnYW5pemF0aW9uMi5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgb3JnYW5pemF0aW9uMi5hY3RpdmUgPSAndHJ1ZSc7CiAgICAgICAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbml6YXRpb24zIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMjIsIGUyMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMjIucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uMy0+b3JnYW5pemF0aW9uMy5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uMy0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbjMgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24zIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9pbmZvcm1hdGlvblJlY2lwaWVudC9yZWNlaXZlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uMy5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24zLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uMy0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMy5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMjIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksICBvcmdhbml6YXRpb24yLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlb3IsIHJlZmVyZW5jZW9yLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjMuaWQpOwogICAgICAgICAgICAgICAgICAgICAgICB9InIiIDsgICAKICAgICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbjMubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjMubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24zLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uMy50ZWxlY29tOwogICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbjMuYWRkciAtPiBvcmdhbml6YXRpb24zLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgICAgICB9ImFzT3JnYW5pemF0aW9uUGFydE9mIjsKICAgICAgICAgICAgICAgIH0icmVjZWl2ZWRPcmdhbml6YXRpb24iOwogICAgICAgICAgICB9ICJpbnRlbmRlZFJlY2lwaWVuT3JnIjsKICAgICAgICAgICAgfSJhdHRlc3Rlck9yZyI7CiAgICAgICAgfSJpbnRlbmRlZFJlY2lwZW50IjsKICAgIAp9ImluZm9ybWF0aW9uUmVjaXBlbnQiOwoKIC8vU1RBUlQgTGVnYWwgQXV0aGVudGljYXRvcgogc3JjLmxlZ2FsQXV0aGVudGljYXRvciBhcyBsZWdhbEF1dGggdGhlbiB7CiBsZWdhbEF1dGggLT4gdGd0LmF0dGVzdGVyIGFzIGF0dGVzdGVyIHRoZW4gewogICAgIGxlZ2FsQXV0aC5hc3NpZ25lZEVudGl0eSBhcyBlbnRpdHkgdGhlbiB7CiAgICAgICAvLyBDb2RpY2UgRmlzY2FsZQogICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSAtPiAgYnVuZGxlLmVudHJ5IGFzIGUyMywgZTIzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMjMucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkLCAgZTIzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJyB0aGVuIHsKICAgICAgICAgICAgICAgbGVnYWxBdXRoIC0+IGF0dGVzdGVyLm1vZGUgPSAnbGVnYWwnICJtb2RlIjsKICAgICAgICAgICAgICAgbGVnYWxBdXRoLnRpbWUgLT4gYXR0ZXN0ZXIudGltZTsKICAgICAgICAgICAgICAgbGVnYWxBdXRoIC0+IGF0dGVzdGVyLnBhcnR5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpIHRoZW57CiAgICAgICAgICAgICBlbnRpdHkgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMjQsIGUyNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMjQucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuIHsKICAgICAgICAgICAgIGVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2xlZ2FsQXV0aGVudGljYXRvciciY29kZSI7CiAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgZW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDEsICBlMjQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMSksIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpOwogICAgICAgICAgICAgICAgIH0iciIgOyAKICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgZW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgICAgICAgICAgIGVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlID0gdHJ1bmNhdGUoZGF0ZSwgMTApICJiaXJ0aFRpbWVsZWdhbCI7CiAgICAgICAgICAgICAgICAgfSAiYmlydGgiOwogICAgICAgICAgICAgICB9InBlcnNvbiI7CiAgICAgICAgICAgICB9InByYWN0aXRpb25lciI7CiAgICAgICAgICAgICBlbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7IAogICAgICAgICAgICAgZW50aXR5LnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJhcHJlc2VudGVkT3JnIC0+ICBidW5kbGUuZW50cnkgYXMgZTI1LCBlMjUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTI1LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgcmFwcmVzZW50ZWRPcmctPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICByYXByZXNlbnRlZE9yZyAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvbGVnYWxBdXRoZW50aWNhdG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICByYXByZXNlbnRlZE9yZy0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMjUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgICAgICAgICAgIH0iciIgOwogICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICByYXByZXNlbnRlZE9yZy5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgICAgIHJhcHJlc2VudGVkT3JnLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIGFzT3JnUGFydE9mIHRoZW4gewogICAgICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YgYXMgYXNPcmdQYXJ0T2YxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMjYsIGUyNi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMjYucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIGFzb3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS0+YXNvcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvbGVnYWxBdXRoZW50aWNhdG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEuaWQgYXMgaWQgLT4gYXNvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IGFzb3JnYW5pemF0aW9uLmlkICA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMjYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMiksICBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVhc29yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS5jb2RlIC0+IGFzb3JnYW5pemF0aW9uLnR5cGU7CiAgICAgICAgICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBhc29yZ2FuaXphdGlvbi5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgYXNvcmdhbml6YXRpb24uYWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS53aG9sZU9yZ2FuaXphdGlvbiBhcyB3aG9sZU9yZyB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZyBhcyB3aG9sZU9yZzEgLT4gYnVuZGxlLmVudHJ5IGFzIGUyNywgZTI3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUyNy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgd2hvbGVvcmdhbml6YXRpb24sICB3aG9sZW9yZ2FuaXphdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkNCwgIGUyNy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgYXNvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICV3aG9sZW9yZ2FuaXphdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLT53aG9sZW9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9sZWdhbEF1dGhlbnRpY2F0b3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLmlkIGFzIGlkIC0+IHdob2xlb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHdob2xlb3JnYW5pemF0aW9uLmlkPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTI3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBhc29yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJXdob2xlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iciIgOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLm5hbWUgYXMgdiAtPiB3aG9sZW9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLnRlbGVjb20gLT4gd2hvbGVvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS5hZGRyIC0+IHdob2xlb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0id2hvbGVPcmcxIjsKICAgICAgICAgICAgICAgICAgICAgICB9Indob2xlT3JnIjsKICAgICAgICAgICAgICAgICAgIH0iYXNPcmdQTyI7ICAgCiAgICAgICAgICAgICAgIH0iYXNPcmdJRCI7CiAgICAgICAgICAgICB9IkxBT3JnYW5peiI7CiAgICAgICAgICB9IlByYWN0aXRpb25lckxlZ2FsIjsKICAgICAgICB9IlByYWN0aXRpb25lclJPTGxlZ2FsIjsKCiAgICAgLy9QYXJ0aXRhIElWQQogICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNi4zLjInKS0+YnVuZGxlLmVudHJ5IGFzIGUyNTEsIGUyNTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTI1MS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW4gewogICAgICAgIGVudGl0eSAtPiBhdHRlc3Rlci5tb2RlID0gJ29mZmljaWFsJyAibW9kZSI7CiAgICAgICAgZW50aXR5LT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2xlZ2FsQXV0aGVudGljYXRvclBhcnRpdGFJVkEnImNvZGUiOwogICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgZW50aXR5LmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIGVudGl0eS0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUyNTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMiksICBhdHRlc3Rlci5wYXJ0eSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIH0iT3JnUGFydGl0YUlWQSI7CiAgICAgICB9ICJlbnRpdHkiOwogICAgIH0ibGVnYWxBdXRoIjsKICAgfSJMZWdhbEF1dGhlbnRpY2F0b3IiOwoKICAvLyBTVEFSVCBBdXRoZW50aWNhdG9yIAogIHNyYy5hdXRoZW50aWNhdG9yIGFzIEF1dGggLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMjgsIGUyOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTI4LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMjguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJyB0aGVuIHsKICAgQXV0aCAtPiB0Z3QuYXR0ZXN0ZXIgYXMgYXR0ZXN0ZXIgdGhlbiB7CiAgICAgIEF1dGgudGltZSAtPiBhdHRlc3Rlci50aW1lOwogICAgICBBdXRoIC0+IGF0dGVzdGVyLm1vZGUgPSAncHJvZmVzc2lvbmFsJyAibW9kZSI7CiAgICAgIEF1dGguYXNzaWduZWRFbnRpdHkgYXMgZW50aXR5IC0+ICBhdHRlc3Rlci5wYXJ0eSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgICAgICBlbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgZW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMjksIGUyOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMjkucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyOS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyJywgdXVpZDIpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lcicgKyAlcHJhY3RpdGlvbmVyLmlkKSB0aGVuIHsKICAgICAgICAgIAogICAgICAgICAgZW50aXR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgZW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIGVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aGVudGljYXRvciciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMjkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKTsKICAgICAgICAgICAgfSJyIiA7IAogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgZW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3MgImFkZHJlc3MiOwogICAgICAgIGVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tICJ0ZWxlY29tIjsKICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWUgInBlcnNvbk5hbWUiOwogICAgICAgICAgcGVyc29uLmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZSA9IHRydW5jYXRlKGRhdGUsIDEwKSAiYmlydGhUaW1lYXV0aCI7CiAgICAgICAgICB9ICJiaXJ0aCI7CiAgICAgICAgfSJwZXJzb24iOyAKCiAgICAgIH0gInByYWN0aXRpb25lciI7CiAgICAgIGVudGl0eS5yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyByZXBvcmdhbml6YXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUzMCwgZTMwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUzMC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgICAKICAgICAgICByZXBvcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICByZXBvcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHJlcG9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwb3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9hdXRoZW50aWNhdG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIAogICAgICAgIHJlcG9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgcmVwb3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTMwLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgIH0iciIgOyAgIAogICAgICB9ImlkZW50aWZpZXIiOwogICAgICByZXBvcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICByZXBvcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgcmVwb3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAKICAgICAgcmVwb3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIG9yZ2FuaXphdGlvbnBhcnRvZi0+IGJ1bmRsZS5lbnRyeSBhcyBlMzEsIGUzMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMzEucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIGFzT3JnYW5pemF0aW9ucGFydG9mIHRoZW4gewogICAgICAgIAogICAgICAgIG9yZ2FuaXphdGlvbnBhcnRvZi0+YXNPcmdhbml6YXRpb25wYXJ0b2YubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgb3JnYW5pemF0aW9ucGFydG9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBvcmdhbml6YXRpb25wYXJ0b2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIG9yZ2FuaXphdGlvbnBhcnRvZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aGVudGljYXRvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICAKICAgICAgICBvcmdhbml6YXRpb25wYXJ0b2YuaWQgYXMgaWQgLT4gYXNPcmdhbml6YXRpb25wYXJ0b2YuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgb3JnYW5pemF0aW9ucGFydG9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gYXNPcmdhbml6YXRpb25wYXJ0b2YuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCBlMzEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJWFzT3JnYW5pemF0aW9ucGFydG9mLmlkKTsKICAgICAgICAgIH0iciIgOyAgIAogICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIG9yZ2FuaXphdGlvbnBhcnRvZi5jb2RlIC0+IGFzT3JnYW5pemF0aW9ucGFydG9mLnR5cGU7CiAgICAgICAgb3JnYW5pemF0aW9ucGFydG9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBhc09yZ2FuaXphdGlvbnBhcnRvZi5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgYXNPc3JnYW5pemF0aW9ucGFydG9mLmFjdGl2ZSA9ICd0cnVlJzsgICAgIAogICAgICAgICAgICBvcmdhbml6YXRpb25wYXJ0b2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVvcmcgLT4gYnVuZGxlLmVudHJ5IGFzIGUzMiwgZTMyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUzMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgd2hvbGVPcmdhbml6YXRpb24sICB3aG9sZU9yZ2FuaXphdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGUzMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ1KSwgYXNPcmdhbml6YXRpb25wYXJ0b2YucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICV3aG9sZU9yZ2FuaXphdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgd2hvbGVvcmctPndob2xlT3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlb3JnLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICB3aG9sZW9yZyAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgd2hvbGVvcmcgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2F1dGhlbnRpY2F0b3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgd2hvbGVvcmcuaWQgYXMgaWQgLT4gd2hvbGVPcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgd2hvbGVvcmctPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiB3aG9sZU9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMzIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIGFzT3JnYW5pemF0aW9ucGFydG9mLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAld2hvbGVPcmdhbml6YXRpb24uaWQpOwogICAgICAgICAgICAgICAgfSJyIiA7ICAKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgd2hvbGVvcmcubmFtZSBhcyB2IC0+IHdob2xlT3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHdob2xlb3JnLnRlbGVjb20gLT4gd2hvbGVPcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgd2hvbGVvcmcuYWRkciAtPiB3aG9sZU9yZ2FuaXphdGlvbi5hZGRyZXNzOwoKICAgICAgICAgICAgfSJ3aG9sZW9yZyI7CiAgICAgICAgfSJvcmdhbml6YXRpb25wYXJ0b2YiOwogICAgfSAicmVwb3JnYW5pemF0aW9uIjsKICAgIH0iZW50aXR5IjsgCiAgICB9ICJhdHRlc3RlciI7CiAgfSAiQXV0aCI7CiAgLy8gUEFSVElDSVBBTlQKICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgd2hlcmUgKHR5cGVDb2RlIT0nSU5EJykgdGhlbnsKICAgICAgICAgcGFydGljaXBhbnQuYXNzb2NpYXRlZEVudGl0eSBhcyBhc3NvY2lldGVkRW50aXR5ICAtPiBidW5kbGUuZW50cnkgYXMgZTMxMywgICBlMzEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTMxMy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxICwgIGUzMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJywgZW5jb3VudGVyLnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXJ0aWNpcGFudDEgdGhlbiB7IAogICAgICAgICAgLy8gIHBhcnRpY2lwYW50LnRpbWUgYXMgdGltZS0+cGFydGljaXBhbnQxLnBlcmlvZCBhcyBwZXJpb2QgLHBlcmlvZC5zdGFydD0odGltZS52YWx1ZSk7CiAgICAgICAgICAgIHBhcnRpY2lwYW50LT5wYXJ0aWNpcGFudDEucGVyaW9kPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gewogICAgICAgICAgICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0aW1lIC0+cGVyaW9kLnN0YXJ0PSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKHRpbWUsc3RhcnQpOwogICAgICAgICAgICAgIH0icGVyaW9kIjsKICAgICAgICAgICAgICBwYXJ0aWNpcGFudCBhcyBwIC0+IHBhcnRpY2lwYW50MS50eXBlIGFzIHR5cGUgdGhlbiB7IAogICAgICAgICAgICAgICAgcCAtPiB0eXBlLmNvZGluZyBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgICAgICAgICAgcC0+IGNvZGluZy5jb2RlID0gKHAudHlwZUNvZGUpICJjb2RpY2UiOwogICAgICAgICAgICAgICAgICBwLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL3YzLVBhcnRpY2lwYXRpb25UeXBlJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgIH0gImNvZGVUeXBlIjsgCiAgICAgICAgICAgICAgfSJ0eXBlIjsKICAgICAgICAgICAgICBwYXJ0aWNpcGFudC0+IHBhcnRpY2lwYW50MS5pbmRpdmlkdWFsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VwYXJ0LCByZWZlcmVuY2VwYXJ0LnJlZmVyZW5jZSA9ICAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkicGFyIjsKICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMzMsIGUzMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMzMucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsIGUzMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSA7CiAgICAgICAgICAgICAgICAgIH0iciIgOyAgICAKICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS5jb2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuYXNzb2NpYXRlZFBlcnNvbiBhcyBhc3NvY2lhdGVkcGVyc29uIHRoZW4gewogICAgICAgICAgICAgIGFzc29jaWF0ZWRwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICBhc3NvY2lhdGVkcGVyc29uLmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGUgPSB0cnVuY2F0ZShkYXRlLCAxMCkgImJpcnRoVGltZWxlZ2FsIjsKICAgICAgICAgICAgICB9ICJiaXJ0aCI7CiAgICAgICAgICAgIH0gIm5hbWUiOwogICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LnNjb3BpbmdPcmdhbml6YXRpb24gYXMgc2NvcGluZ09yZ2FuaXphdGlvbiAtPiAgYnVuZGxlLmVudHJ5IGFzIGUzNCwgZTM0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUzNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW57CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L3BhcnRpY2lwYW50L3Njb3BpbmdPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDMsICBlMzQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksICBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICAgICAgICB9InIiIDsgCiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbi50ZWxlY29tOwogICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24uYWRkciAtPiBvcmdhbml6YXRpb24uYWRkcmVzczsgCiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGUzNSwgIGUzNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTM1LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24xIHRoZW57CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcGFydGljaXBhbnQvc2NvcGluZ09yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlMzUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksICBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpIDsKICAgICAgICAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTM2LCBlMzYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzNi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiB0aGVuIHsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcGFydGljaXBhbnQvc2NvcGluZ09yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICB9Im1ldGEiOwoKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQ9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMzYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpICA7CiAgICAgICAgICAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICAgICAgICB9Indob2xlT3JnYW4iOwogICAgICAgICAgICAgIH0iT3JnUGFydE9mIjsgICAgICAgCiAgICAgICAgICAgIH0ic2NvcGluZ09yZ2FuaXphdGlvbiI7CiAgICAgICAgICB9ICJhc3NvY2lldGVkRW50aXR5IjsKICAgICAgICB9ICJQYXJ0aWNpcGFudDEiOwogICAgICAgIHBhcnRpY2lwYW50LmFzc29jaWF0ZWRFbnRpdHkgYXMgYXNzb2NpZXRlZEVudGl0eSB3aGVyZSAoY2xhc3NDb2RlPSdQUk9WJyktPiBidW5kbGUuZW50cnkgYXMgZTMxMywgICBlMzEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTMxMy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxICwgIGUzMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJywgZW5jb3VudGVyLnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXJ0aWNpcGFudDIgdGhlbiB7IAogICAgICAgIAogICAgICAgICAgLy9wYXJ0aWNpcGFudC50aW1lIGFzIHRpbWUtPnBhcnRpY2lwYW50Mi5wZXJpb2QgYXMgcGVyaW9kLCBwZXJpb2Quc3RhcnQ9KHRpbWUudmFsdWUpOwogICAgICAgICAgICBwYXJ0aWNpcGFudC0+cGFydGljaXBhbnQyLnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIHsKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50LnRpbWUgYXMgdGltZSAtPnBlcmlvZC5zdGFydD0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lLHN0YXJ0KTsKICAgICAgICAgICAgICB9InBlcmlvZCI7CiAgICAgICAgICAgICAgcGFydGljaXBhbnQgYXMgcCAtPiBwYXJ0aWNpcGFudDIudHlwZSBhcyB0eXBlIHRoZW4geyAKICAgICAgICAgICAgICAgIHAgLT4gdHlwZS5jb2RpbmcgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgICAgICAgIHAtPiBjb2RpbmcuY29kZSA9IChwLnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgICAgICAgICAgcC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1QYXJ0aWNpcGF0aW9uVHlwZScgInN5c3RlbSI7CiAgICAgICAgICAgICAgICB9ICJjb2RlVHlwZSI7IAogICAgICAgICAgICAgIH0idHlwZSI7CiAgICAgICAgICAgICAgcGFydGljaXBhbnQtPiBwYXJ0aWNpcGFudDIuaW5kaXZpZHVhbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlcGFydCwgcmVmZXJlbmNlcGFydC5yZWZlcmVuY2UgPSAgKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpInBhciI7CiAgICAgICAgICAgICAgcGFydGljaXBhbnQuZnVuY3Rpb25Db2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5ICAtPiBidW5kbGUuZW50cnkgYXMgZTMzLCBlMzMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTMzLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHktPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9wYXJ0aWNpcGFudCciY29kZSI7CiAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCBlMzMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgOwogICAgICAgICAgICAgICAgICB9InIiIDsgICAgCiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImRpdmVyc28iOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOwogICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LmFzc29jaWF0ZWRQZXJzb24gYXMgYXNzb2NpYXRlZHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgICBhc3NvY2lhdGVkcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgYXNzb2NpYXRlZHBlcnNvbi5iaXJ0aFRpbWUgIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZSA9IHRydW5jYXRlKGRhdGUsIDEwKSAiYmlydGhUaW1lbGVnYWwiOwogICAgICAgICAgICAgIH0gImJpcnRoIjsKICAgICAgICAgICAgfSAibmFtZSI7CiAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkuc2NvcGluZ09yZ2FuaXphdGlvbiBhcyBzY29waW5nT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTM0LCBlMzQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTM0LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbnsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcGFydGljaXBhbnQvc2NvcGluZ09yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUzNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uLmlkKTsKICAgICAgICAgICAgICAgIH0iciIgOyAgIAogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7IAogICAgICAgICAgICAgIHNjb3BpbmdPcmdhbml6YXRpb24uYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgT3JnUGFydE9mIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMzUsICBlMzUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzNS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMSAgdGhlbnsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgT3JnUGFydE9mLT5vcmdhbml6YXRpb24xLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L3BhcnRpY2lwYW50L3Njb3BpbmdPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTM1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCAgb3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24xLmlkKTsKICAgICAgICAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IHRydWU7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTM2LCBlMzYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzNi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiAgdGhlbiB7CiAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L3BhcnRpY2lwYW50L3Njb3BpbmdPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9uMS5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMzYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpOwogICAgICAgICAgICAgICAgICAgIH0iciIgOyAKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgICAgICAgIH0id2hvbGVPcmdhbiI7CiAgICAgICAgICAgICAgfSJPcmdQYXJ0T2YiOyAgICAgICAKICAgICAgICAgICAgfSJzY29waW5nT3JnYW5pemF0aW9uIjsKICAgICAgICAgICAgfSAiYXNzb2NpZXRlZEVudGl0eSI7CiAgICAgICAgICAgIH0gIlBhcnRpY2lwYW50MiI7CiAgIAogICAgfSJwYXJ0aWNpcGFudCI7CiAgICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgd2hlcmUgKHR5cGVDb2RlPSdJTkQnKSB0aGVuewogICAgcGFydGljaXBhbnQuYXNzb2NpYXRlZEVudGl0eSBhcyBhc3NvY2lldGVkRW50aXR5ICAtPiBidW5kbGUuZW50cnkgYXMgZTMxMzEsICAgZTMxMzEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMzEzMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUmVsYXRlZFBlcnNvbicpIGFzIFJlbGF0ZWRQZXJzb24sIFJlbGF0ZWRQZXJzb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsIGUzMTMxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9SZWxhdGVkUGVyc29uLycsIHV1aWQxKSwgcmVxdWVzdC51cmw9ICdSZWxhdGVkUGVyc29uJyB0aGVuIHsKICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS0+ICBwYXRpZW50UmVzb3VyY2UubGluayBhcyBsaW5rIHRoZW4gewogICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eSAtPiAgbGluay50eXBlPSdyZWZlcicidHlwZSI7CiAgICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5IC0+IGxpbmsub3RoZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9SZWxhdGVkUGVyc29uLycgKyAlUmVsYXRlZFBlcnNvbi5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LmlkLT5SZWxhdGVkUGVyc29uLmlkZW50aWZpZXI7CiAgICAgICAgICAgICAgICBhc3NvY2lldGVkRW50aXR5LT4gUmVsYXRlZFBlcnNvbi5wYXRpZW50PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50UmVzb3VyY2UuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS5jb2RlLT5SZWxhdGVkUGVyc29uLnJlbGF0aW9uc2hpcDsKICAgICAgICAgICAgICAgIGFzc29jaWV0ZWRFbnRpdHkudGVsZWNvbS0+UmVsYXRlZFBlcnNvbi50ZWxlY29tOwogICAgICAgICAgICAgICAgYXNzb2NpZXRlZEVudGl0eS5hc3NvY2lhdGVkUGVyc29uIGFzIGFzc29jaWF0ZWRwZXJzb24gdGhlbiB7CiAgICAgICAgICAgICAgICBhc3NvY2lhdGVkcGVyc29uLm5hbWUtPlJlbGF0ZWRQZXJzb24ubmFtZTsKICAgICAgICAgICAgfSJhc3NvY2lhdGVkUGVyc29uIjsKICAgICAgICAgICAgfSJsaW5rIjsKICAgICAgICB9InBhcnRpY2lwYW50MyI7IAogICAgfSJQQVJUSU5EIjsKIC8vIFNUQVJUIFBBUlRJQ0lQQU5UIEdVQVIKICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbiB7CiAgICBwYXJ0aWNpcGFudC50aW1lIGFzIHRpbWVIaWdoIHRoZW4gewogICAgICB0aW1lSGlnaC5oaWdoIGFzIEhJR0ggLT4gcGF0aWVudFJlc291cmNlLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllclAgdGhlbiB7CiAgICAgICAgSElHSCAtPiBpZGVudGlmaWVyUC5wZXJpb2QgYXMgcGVyaW9kRW5kIHRoZW57CiAgICAgICAgICBISUdIIGFzIGhpZ2ggLT4gcGVyaW9kRW5kLmVuZCA9IChoaWdoLnZhbHVlKSJwZXJpb2RlbmQiOwogICAgICAgIH0icGVyaW9kMDkiOwogICAgICAgfSJ0aW1lSCI7CiAgICB9InRpbWVQYXJ0IjsKICAgIHBhcnRpY2lwYW50LmFzc29jaWF0ZWRFbnRpdHkgYXMgYXNzb2NpZXRlZGVudGl0eSB3aGVyZSAoY2xhc3NDb2RlPSdHVUFSJykgdGhlbiB7CiAgICAgIGFzc29jaWV0ZWRlbnRpdHkuc2NvcGluZ09yZ2FuaXphdGlvbiBhcyByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiAgYnVuZGxlLmVudHJ5IGFzIGUzNywgZTM3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUzNy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuIHsgICAgCiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9wYXJ0aWNpcGFudC9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICAKICAgICAgICBhc3NvY2lldGVkZW50aXR5LmNvZGUgLT4gb3JnYW5pemF0aW9uLnR5cGU7CiAgICAgICAgYXNzb2NpZXRlZGVudGl0eS5zY29waW5nT3JnYW5pemF0aW9uIGFzIHNjb3BpbmdPcmdhbml6YXRpb24gdGhlbiB7IAogICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT5vcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQxLCAgZTM3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDEpLCBwYXRpZW50UmVzb3VyY2UuZ2VuZXJhbFByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlT3JnLCAgcmVmZXJlbmNlT3JnLnJlZmVyZW5jZSA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMSk7CiAgICAgICAgICAgIH0iciIgOyAgCiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgc2NvcGluZ09yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOyAKICAgICAgICBzY29waW5nT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTM4LCAgZTM4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMzgucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvblBPRiB0aGVuewogICAgICAgICAgCiAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvblBPRi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9wYXJ0aWNpcGFudC9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAKICAgICAgICAgIE9yZ1BhcnRPZi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb25QT0YuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPm9yZ2FuaXphdGlvblBPRi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsIGUzOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQyKSwgb3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb25QT0YuaWQpOwogICAgICAgICAgICB9InIiIDsgCiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvblBPRi50eXBlOwogICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvblBPRi5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgb3JnYW5pemF0aW9uUE9GLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgIE9yZ1BhcnRPZi53aG9sZU9yZ2FuaXphdGlvbiBhcyB3aG9sZU9yZ2FuIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMzksICBlMzkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzOS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uVyB0aGVuIHsKICAgICAgICAgICAgCiAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvblcubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcGFydGljaXBhbnQvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgCiAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uVy5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9uVy5pZCA9KHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUzOS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgb3JnYW5pemF0aW9uUE9GLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb25XLmlkKSA7CiAgICAgICAgICAgICAgfSJyIiA7IAogICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgd2hvbGVPcmdhbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uVy5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICB3aG9sZU9yZ2FuLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uVy50ZWxlY29tOwogICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uVy5hZGRyZXNzOwogICAgICAgICAgfSJ3aG9sZU9yZ2FuIjsKICAgICAgICB9Ik9yZ1BhcnRPZiI7ICAgICAgIAogICAgICB9InNjb3BpbmdPcmdhbml6YXRpb24iOwogICAgICB9ICJhc3NvY2lldGVkRW50aXR5IjsKICAgIH0icmVwT3JnIjsKICB9OyAgCiAgc3JjLmluRnVsZmlsbG1lbnRPZiBhcyBpbkZ1bGZpbGxtZW50T2YgdGhlbnsKICAgIGluRnVsZmlsbG1lbnRPZi5vcmRlciBhcyBvcmRlciAtPiBidW5kbGUuZW50cnkgYXMgZTQwLCAgZTQwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNDAucmVzb3VyY2UgPSBjcmVhdGUoJ1NlcnZpY2VSZXF1ZXN0JykgYXMgc2VydmljZVJlcXVlc3QsICBzZXJ2aWNlUmVxdWVzdC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGU0MC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdTZXJ2aWNlUmVxdWVzdCcsIGVuY291bnRlci5iYXNlZE9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlUmVxdWVzdC5pZCkgdGhlbiB7CiAgICAgICAgb3JkZXIuaWQgLT4gc2VydmljZVJlcXVlc3QuaWRlbnRpZmllcjsKICAgICAgICBvcmRlciAtPiBzZXJ2aWNlUmVxdWVzdC5zdGF0dXM9J2FjdGl2ZScic3RhdHVzIjsKICAgICAgICBvcmRlciAtPiBzZXJ2aWNlUmVxdWVzdC5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOwogICAgICAgIG9yZGVyIC0+IHNlcnZpY2VSZXF1ZXN0LnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnRSZXNvdXJjZS5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgb3JkZXIgLT4gc2VydmljZVJlcXVlc3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgIG9yZGVyLmNvZGUgLT4gc2VydmljZVJlcXVlc3QuY29kZTsKICAgICAgICBvcmRlci5wcmlvcml0eUNvZGUgYXMgcHJpb3JpdHlDb2RlIHRoZW57CiAgICAgICAgICBwcmlvcml0eUNvZGUuY29kZSBhcyB2IC0+IHNlcnZpY2VSZXF1ZXN0LnByaW9yaXR5ID0gdHJhbnNsYXRlKHYsICcjcHJpb3JpdHknLCAnY29kZScpICJwcmlvcml0eSI7CiAgICAgIH0icHJpb3JpdHlDb2RlIjsKICAgIH0gIm9yZGVyIjsKICB9ICJpbkZ1bGZpbGxtZW50T2YiOwogIHNyYy5kb2N1bWVudGF0aW9uT2YgYXMgZG9jT2YgdGhlbiB7CiAgICBkb2NPZi5zZXJ2aWNlRXZlbnQgYXMgc2VydmljZUV2ZW50IC0+IHRndC5ldmVudCBhcyBldmVudCB0aGVuIHsKICAgICAgc2VydmljZUV2ZW50LmNvZGUgLT4gZXZlbnQuY29kZSAiZXZlbnRDb2RlIjsKICAgICAgc2VydmljZUV2ZW50LmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB0aGVuIHsKICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IGV2ZW50LnBlcmlvZCA9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLHBlcmlvZCkicGVyaW9kIjsvL2FzIHBlcmlvZCB0aGVuIHsKICAgICAgICAvL2VmZmVjdGl2ZVRpbWUubG93IC0+IHBlcmlvZC5zdGFydDsKICAgICAgIC8vIGVmZmVjdGl2ZVRpbWUuaGlnaCAtPiBwZXJpb2QuZW5kOyAgICAgICAgCiAgICAgIC8vICBlZmZlY3RpdmVUaW1lIHdoZXJlIChlZmZlY3RpdmVUaW1lLnZhbHVlKSAtPiBwZXJpb2Quc3RhcnQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnRQIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLHN0YXJ0UCkgInN0YXJ0UCI7CiAgICAgIC8vfSJwZXJpb2RfRFQiOwogICAgfSJldmVudERUIjsKICAgIHNlcnZpY2VFdmVudC5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZXRpbWUxIC0+IGV2ZW50LnBlcmlvZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgZWZmZWN0aXZldGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gIGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZldGltZTEsc3RhcnQpICJ2YWwiOyAKICAgICAgfSJlZmZ0IjsKICAgICAgc2VydmljZUV2ZW50LnBlcmZvcm1lciBhcyBwZXJmb3JtZXIgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlNDEsIGU0MS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU0MS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTQxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScgdGhlbnsKCQkJIHBlcmZvcm1lciAtPiBldmVudC5kZXRhaWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICAgICAgcGVyZm9ybWVyLmFzc2lnbmVkRW50aXR5IGFzIGFzc2lnbmVkRW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlNDIsICBlNDIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTQyLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkRW50aXR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBhc3NpZ25lZEVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBhc3NpZ25lZEVudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBhc3NpZ25lZEVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZG9jdW1lbnRhdGlvbk9mL3NlcnZpY2VFdmVudC9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwoKICAgICAgICAgIHBlcmZvcm1lci5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgICAgYXNzaWduZWRFbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+cHJhY3RpdGlvbmVyLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTQyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgOwogICAgICAgICAgICB9InIiIDsgCiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgYXNzaWduZWRFbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICBhc3NpZ25lZEVudGl0eS5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOwogICAgICAgICAgYXNzaWduZWRFbnRpdHkudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICAgIGFzc2lnbmVkRW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGUgPSB0cnVuY2F0ZShkYXRlLCAxMCkgImJpcnRoVGltZWxlZ2FsIjsKICAgICAgICAgICAgfSAiYmlydGgiOwogICAgICAgICAgICAKICAgICAgICAgIH0gIm5hbWUiOwogICAgICAgICAgYXNzaWduZWRFbnRpdHkucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlOCwgIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW4gewogICAgICAgICAgICAKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9kb2N1bWVudGF0aW9uT2Yvc2VydmljZUV2ZW50L3BlcmZvcm1lci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9uLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQzLCBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgcHJhY3RpdGlvbmVyUm9sZS5vcmdhbml6YXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZU9yZywgIHJlZmVyZW5jZU9yZy5yZWZlcmVuY2UgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpOwogICAgICAgICAgICAgIH0iciIgOyAgCiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTksICBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgdGhlbnsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZG9jdW1lbnRhdGlvbk9mL3NlcnZpY2VFdmVudC9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT5vcmdhbml6YXRpb24xLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCk7CiAgICAgICAgICAgICAgICB9InIiIDsgICAgICAgCiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTEwLCAgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgIHRoZW57CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZG9jdW1lbnRhdGlvbk9mL3NlcnZpY2VFdmVudC9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT5vcmdhbml6YXRpb24yLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQ1LCAgZTEwLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDUpLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKTsKICAgICAgICAgICAgICAgICAgfSJyIiA7ICAKICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uMi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgIH0iYXNPcmdhbml6YXRpb25QYXJ0T2YiOwogICAgICAgICAgfSJSZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7CiAgICAgICAgfSJBc3NpZ25lZEVudGl0eSI7CiAgICAgIH0icGVyZm9ybWVyIjsKICAgfSAiZG9jT2YiOwogIH07Cn07CiAgc3JjIHdoZXJlIHNyYy5jb21wb25lbnRPZi5leGlzdHMoKS5ub3QoKSAtPiAgdGd0LmVuY291bnRlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgdGhlbiBDbGluaWNhbERvY3VtZW50RW5jb3VudGVyKHNyYywgYnVuZGxlLCBlbmNvdW50ZXIscGF0aWVudFJlc291cmNlKSJlbmNvdW50ZXJFeGlzdCI7CiAgc3JjLmNvbXBvbmVudE9mIGFzIGNvbXAgdGhlbiB7CiAgICBjb21wIHdoZXJlIGNvbXAuZW5jb21wYXNzaW5nRW5jb3VudGVyLmV4aXN0cygpLm5vdCgpIC0+ICB0Z3QuZW5jb3VudGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSB0aGVuIENsaW5pY2FsRG9jdW1lbnRFbmNvdW50ZXIoc3JjRW5jLCBidW5kbGUsIGVuY291bnRlcixwYXRpZW50UmVzb3VyY2UpImVuYyI7CiAgICBjb21wLmVuY29tcGFzc2luZ0VuY291bnRlciBhcyBzcmNFbmMgLT4gIHRndC5lbmNvdW50ZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpIHRoZW4gQ2xpbmljYWxEb2N1bWVudEVuY291bnRlcihzcmNFbmMsIGJ1bmRsZSwgZW5jb3VudGVyLHBhdGllbnRSZXNvdXJjZSk7CiAgICB9ImVuY29tcGFzc2luZ0VuY291bnRlciI7CiAgICAKICAgIC8vUmVsYXRlZCBkb2N1bWVudCAKICAgIC8vICAgc3JjLnJlbGF0ZWREb2N1bWVudCBhcyByZWxhdGVkRG9jdW1lbnQgLT4gdGd0LnJlbGF0ZXNUbyBhcyByZWxhdGVzVG8gdGhlbnsKICAgIC8vICAgICByZWxhdGVkRG9jdW1lbnQgd2hlcmUodHlwZUNvZGUgPSAnUlBMQycpIC0+cmVsYXRlc1RvLmNvZGUgPSAncmVwbGFjZXMnImNvZGUiOwogICAgLy8gICAgIHJlbGF0ZWREb2N1bWVudCB3aGVyZSh0eXBlQ29kZSA9ICdBUE5EJykgLT5yZWxhdGVzVG8uY29kZSA9ICdhcHBlbmRzJyJjb2RlIjsgCiAgICAvLyAgICAgcmVsYXRlZERvY3VtZW50IHdoZXJlKHR5cGVDb2RlID0gJ1hGUk0nKSAtPnJlbGF0ZXNUby5jb2RlID0gJ3RyYW5zZm9ybXMnImNvZGUiOyAKICAgIC8vICAgICByZWxhdGVkRG9jdW1lbnQucGFyZW50RG9jdW1lbnQgYXMgcGFyZW50RG9jdW1lbnQgdGhlbiB7CiAgICAvLyAgICAgcGFyZW50RG9jdW1lbnQgLT4gcmVsYXRlc1RvLnRhcmdldCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb25QYWRyZS8nICJyZWZlcmVuY2VDb21wb3NpdGlvbiI7CiAgICAvLyAgIH0gInBhcmVudERvY3VtZW50IjsKICAgIC8vIH0icmVsYXR0byI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRSZWxhdGVzVG8oc291cmNlIHNyYzogcGFyZW50RG9jdW1lbnQsIHRhcmdldCB0Z3Q6IGNvbXBvc2l0aW9uKXsKICAgIHNyYy5pZCAtPiB0Z3QuaWRlbnRpZmllcjsKICAgIHNyYy5jb2RlIC0+IHRndC50eXBlOwogICAgc3JjLnNldElkIC0+IHRndC5pZGVudGlmaWVyOwogICAgc3JjLnZlcnNpb25OdW1iZXIgYXMgdk51bWJlciAtPiB0Z3QuZXh0ZW5zaW9uIGFzIGV4dCB0aGVuIENoRXh0RXByVmVyc2lvbk51bWJlcih2TnVtYmVyLCBleHQpICJ2ZXJzaW9uTnVtYmVyRVhUIjsKfQoKCgpncm91cCBFWFRiaXJ0aHBsYWNlKHNvdXJjZSBzcmMgOiBBRCwgdGFyZ2V0IGV4dCA6IEV4dGVuc2lvbikgewogIHNyYyAtPiBleHQudXJsID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9wYXRpZW50LWJpcnRoUGxhY2UnICJ1cmwiOwogIHNyYyAtPiBleHQudmFsdWUgPSBjcmVhdGUoJ0FkZHJlc3MnKSBhcyB2YWx1ZSB0aGVuIEFEQWRkcmVzcyhzcmMsIHZhbHVlKSAidmFsdWUiOwoKfSAKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFBhdGllbnRSb2xlKHNvdXJjZSBzcmMgOiBQYXRpZW50Um9sZSwgdGFyZ2V0IHRndCA6IFBhdGllbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICBzcmMuYWRkciAtPiB0Z3QuYWRkcmVzczsKICBzcmMudGVsZWNvbSAtPiB0Z3QudGVsZWNvbTsKICBzcmMucGF0aWVudCBhcyBwYXRpZW50IHRoZW4gewogICAgcGF0aWVudC5uYW1lIC0+IHRndC5uYW1lOwogICAgcGF0aWVudC5hZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUgYXMgZ2VuZGVyIHRoZW4gewogICAgICBnZW5kZXIuY29kZSBhcyB2IC0+IHRndC5nZW5kZXIgPSB0cmFuc2xhdGUodiwgJyNjbS12My1hZG1pbmlzdHJhdGl2ZS1nZW5kZXInLCAnY29kZScpICJnZW5kZXIiOwogICAgfSAiZ2VuZGVyIjsKICAgIHBhdGllbnQuYmlydGhUaW1lICBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gdGd0LmJpcnRoRGF0ZSA9IHRydW5jYXRlKGRhdGUsIDEwKSAiYmlydGhUaW1lbGVnYWwiOwogICAgfSAiYmlydGgiOwogICAgcGF0aWVudC5kZWNlYXNlZEluZCBhcyBkZWNlYXNlZCB3aGVyZSAodmFsdWU9J2ZhbHNlJyktPiB0Z3QuZGVjZWFzZWQgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgdGd0LmRlY2Vhc2VkID0gZmFsc2UgImRlY2Vhc2VkQkwiOwogICAgcGF0aWVudC5kZWNlYXNlZEluZCBhcyBkZWNlYXNlZCB3aGVyZSAodmFsdWU9J3RydWUnKSB0aGVuIHsKICAgICAgICBwYXRpZW50LmRlY2Vhc2VkVGltZSBhcyBUaW1lLT4gdGd0LmRlY2Vhc2VkID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIGRlY2Vhc2VkVGltZSB0aGVuIFRTRGF0ZVRpbWUoVGltZSxkZWNlYXNlZFRpbWUpOwogICAgfTsKICAgIHBhdGllbnQuZGVjZWFzZWRUaW1lIGFzIFRpbWV0IHdoZXJlIFRpbWV0LmVtcHR5KCkgLT4gdGd0LmRlY2Vhc2VkID0gY3JlYXRlKCdib29sZWFuJyksIHRndC5kZWNlYXNlZCA9IHRydWUgImRlY2Vhc2VkQkwiOwogICAgcGF0aWVudC5tYXJpdGFsU3RhdHVzQ29kZSAtPiB0Z3QubWFyaXRhbFN0YXR1cyAibWFyaXRhbFN0YXR1cyI7CiAgICBwYXRpZW50Lmd1YXJkaWFuIGFzIGd1YXJkaWFuIHRoZW4gewogICAgICAgIGd1YXJkaWFuLmd1YXJkaWFuUGVyc29uIGFzIHBlcnNvbiAtPiBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUucmVzb3VyY2UgPSBjcmVhdGUoJ1JlbGF0ZWRQZXJzb24nKSBhcyByZWxhdGVkUGVyc29uLCAgcmVsYXRlZFBlcnNvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1JlbGF0ZWRQZXJzb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybD0gJ1JlbGF0ZWRQZXJzb24nIHRoZW4gewogICAgICAgICBwZXJzb24ubmFtZSAtPiByZWxhdGVkUGVyc29uLm5hbWU7CiAgICAgICAgICBwZXJzb24uYmlydGhUaW1lICBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcmVsYXRlZFBlcnNvbi5iaXJ0aERhdGUgPSB0cnVuY2F0ZShkYXRlLCAxMCkgImJpcnRoVGltZWxlZ2FsIjsKICAgICAgICAgIH0gImJpcnRoIjsKICAgICAgICAgIHBlcnNvbi0+IHJlbGF0ZWRQZXJzb24ucGF0aWVudCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICV0Z3QuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgcGVyc29uIC0+ICB0Z3QubGluayBhcyBsaW5rIHRoZW4gewogICAgICAgICAgcGVyc29uIC0+ICBsaW5rLnR5cGU9J3JlZmVyJyJ0eXBlIjsKICAgICAgICAgIHBlcnNvbiAtPiBsaW5rLm90aGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUmVsYXRlZFBlcnNvbi8nICsgJXJlbGF0ZWRQZXJzb24uaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgIGd1YXJkaWFuLmFkZHIgLT4gcmVsYXRlZFBlcnNvbi5hZGRyZXNzOwogICAgICAgICAgIGd1YXJkaWFuLnRlbGVjb20gLT4gcmVsYXRlZFBlcnNvbi50ZWxlY29tOwogICAgICAgICAgIGd1YXJkaWFuLmlkIC0+IHJlbGF0ZWRQZXJzb24uaWRlbnRpZmllcjsKICAgICAgICAgICBndWFyZGlhbi5jb2RlIC0+IHJlbGF0ZWRQZXJzb24ucmVsYXRpb25zaGlwOwogICAgICAgICB9ICJwZXJzb24iOwogICAgICAgfSJndWFyZGlhblBlcnNvbiI7CiAgICAgICAgZ3VhcmRpYW4uZ3VhcmRpYW5Pcmdhbml6YXRpb24gYXMgZ3VhcmRpYW5vcmcgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb25jb250YWN0IHRoZW4gewogICAgICAgICAgIAogICAgICAgICAgZ3VhcmRpYW5vcmctPm9yZ2FuaXphdGlvbmNvbnRhY3QubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBndWFyZGlhbm9yZy0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBndWFyZGlhbm9yZyAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBndWFyZGlhbm9yZyAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcmVjb3JkVGFyZ2V0L1BhdGllbnRSb2xlL3BhdGllbnQvZ3VhcmRpYW4vZ3VhcmRpYW5Pcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgCiAgICAgICAgICBndWFyZGlhbm9yZyAtPiAgdGd0LmNvbnRhY3QgYXMgY29udGFjdCB0aGVuIHsKICAgICAgICAgICAgZ3VhcmRpYW5vcmcgLT4gY29udGFjdC5vcmdhbml6YXRpb24gID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uY29udGFjdC5pZCkgIk9yZ2FuaXphdGlvbkNvbnRhY3QiOwogICAgICAgICAgICBndWFyZGlhbm9yZy5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb25jb250YWN0LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIGd1YXJkaWFub3JnLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9uY29udGFjdC5pZCA9KHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDIpOwogICAgICAgICAgICAgIH0iciIgOwoKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgZ3VhcmRpYW5vcmcubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbmNvbnRhY3QubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgICBndWFyZGlhbm9yZy50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbmNvbnRhY3QudGVsZWNvbTsKICAgICAgICAgICAgICAgICBndWFyZGlhbm9yZy5hZGRyIC0+IG9yZ2FuaXphdGlvbmNvbnRhY3QuYWRkcmVzczsKICAgICAgICAgICAgZ3VhcmRpYW5vcmcuYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgT3JnUGFydE9mIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMiwgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUyLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb25wYXJ0T2YgIHRoZW4gewogICAgICAgICAgICAgICAKICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbnBhcnRPZi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9yZWNvcmRUYXJnZXQvUGF0aWVudFJvbGUvcGF0aWVudC9ndWFyZGlhbi9ndWFyZGlhbk9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gb3JnYW5pemF0aW9uY29udGFjdC5wYXJ0T2YgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9ucGFydE9mLmlkKSAiYXNvcmdhbml6YXRpb24iOwogICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9ucGFydE9mLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9ucGFydE9mLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMykgOwogICAgICAgICAgICAgICAgfSJyIiA7ICAKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbnBhcnRPZi50eXBlOwogICAgICAgICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbnBhcnRPZi5hY3RpdmUgPSAndHJ1ZSc7CiAgICAgICAgICAgICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT1JHIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBXaG9sZU9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT1JHLT5XaG9sZU9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT1JHLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT1JHIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT1JHIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9yZWNvcmRUYXJnZXQvUGF0aWVudFJvbGUvcGF0aWVudC9ndWFyZGlhbi9ndWFyZGlhbk9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgIHdob2xlT1JHIC0+IG9yZ2FuaXphdGlvbnBhcnRPZi5wYXJ0T2YgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlV2hvbGVPcmdhbml6YXRpb24uaWQpICJhc09yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPUkcuaWQgYXMgaWQgLT4gV2hvbGVPcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPUkctPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+V2hvbGVPcmdhbml6YXRpb24uaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSJyIiA7IAogICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPUkcubmFtZSBhcyB2IC0+IFdob2xlT3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9SRy50ZWxlY29tIC0+IFdob2xlT3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9SRy5hZGRyIC0+IFdob2xlT3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgICAgICAgICAgICB9Ildob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICAgICAgICAgICB9Ik9yZ2FuaXphdGlvblBhcnRPZiI7CiAgICAgICAgICAgICAgfSJjb250YWN0IjsKICAgICAgICAgfSAiZ3VhcmRpYW5vcmdhbml6YXRpb24iOwogICAgfSJndWFyZGlhbiI7CiAgICBwYXRpZW50LmJpcnRocGxhY2UgYXMgYmlydGhwbGFjZSB0aGVuIHsKICAgICAgYmlydGhwbGFjZS5wbGFjZSBhcyBwbGFjZSB0aGVuIHsKICAgICAgIHBsYWNlLmFkZHIgYXMgYWRkcmVzcy0+IHRndC5leHRlbnNpb24gYXMgZXh0MSB0aGVuIEVYVGJpcnRocGxhY2UoYWRkcmVzcywgZXh0MSkgImJpcnRocGxhY2UiOwogICAgICAgICB9ICJwbGFjZSI7CiAgICAgIH0iYmlydGhwbGFjZSI7CiBzcmMucHJvdmlkZXJPcmdhbml6YXRpb24gYXMgb3JnIC0+ICBidW5kbGUuZW50cnkgYXMgZTQsIGU0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgcHJvdmlkZXJvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgIAogICAgICBvcmctPnByb3ZpZGVyb3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICBvcmctPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICBvcmcgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICBvcmcgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L3JlY29yZFRhcmdldC9QYXRpZW50Um9sZS9wYXRpZW50L3Byb3ZpZGVyT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICB9Im1ldGEiOwogIAogICAgICBvcmcgLT4gIHRndC5tYW5hZ2luZ09yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJXByb3ZpZGVyb3JnYW5pemF0aW9uLmlkKSAicmVmZXJlbmNlIjsKICAgICAgIG9yZy5pZCBhcyBpZCAtPiBwcm92aWRlcm9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICBvcmctPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iZXh0IjsKICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT5wcm92aWRlcm9yZ2FuaXphdGlvbi5pZCA9KHIgKyctJysgZXh0KSBhcyB1dWlkNSwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDUpOwogICAgICAgIH0iciIgOyAgCiAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgb3JnLm5hbWUgYXMgdiAtPiBwcm92aWRlcm9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgIG9yZy50ZWxlY29tIC0+IHByb3ZpZGVyb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgIG9yZy5hZGRyIC0+IHByb3ZpZGVyb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgIG9yZy5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2ZQcm92aWRlciAtPmJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGU1LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb25wYXJ0T2Zwcm92aWRlciB0aGVuIHsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBPcmdQYXJ0T2ZQcm92aWRlci0+b3JnYW5pemF0aW9ucGFydE9mcHJvdmlkZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mUHJvdmlkZXItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZlByb3ZpZGVyIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2ZQcm92aWRlciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvcmVjb3JkVGFyZ2V0L1BhdGllbnRSb2xlL3BhdGllbnQvcHJvdmlkZXJPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgIE9yZ1BhcnRPZlByb3ZpZGVyIC0+IHByb3ZpZGVyb3JnYW5pemF0aW9uLnBhcnRPZiAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb25wYXJ0T2Zwcm92aWRlci5pZCkgImFzb3JnYW5pemF0aW9uIjsKICAgICAgICAgICAgICBPcmdQYXJ0T2ZQcm92aWRlci5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb25wYXJ0T2Zwcm92aWRlci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2ZQcm92aWRlci0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+b3JnYW5pemF0aW9ucGFydE9mcHJvdmlkZXIuaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDYsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ2KTsKICAgICAgICAgICAgICAgIH0iciIgOyAgICAKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBPcmdQYXJ0T2ZQcm92aWRlci5jb2RlIC0+IG9yZ2FuaXphdGlvbnBhcnRPZnByb3ZpZGVyLnR5cGU7CiAgICAgICAgICAgICAgT3JnUGFydE9mUHJvdmlkZXIuc3RhdHVzQ29kZSBhcyBzdGF0dXMgd2hlcmUgKHZhbHVlID0nYWN0aXZlJykgLT4gb3JnYW5pemF0aW9ucGFydE9mcHJvdmlkZXIuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgICAgIE9yZ1BhcnRPZlByb3ZpZGVyLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT1JHcHJvdmVkZXItPiBidW5kbGUuZW50cnkgYXMgZTYsIGU2LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlNi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgV2hvbGVPcmdhbml6YXRpb25wcm92aWRlciB0aGVuIHsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgd2hvbGVPUkdwcm92ZWRlci0+V2hvbGVPcmdhbml6YXRpb25wcm92aWRlci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHdob2xlT1JHcHJvdmVkZXItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPUkdwcm92ZWRlciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9SR3Byb3ZlZGVyIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9yZWNvcmRUYXJnZXQvUGF0aWVudFJvbGUvcGF0aWVudC9wcm92aWRlck9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB3aG9sZU9SR3Byb3ZlZGVyLT4gb3JnYW5pemF0aW9ucGFydE9mcHJvdmlkZXIucGFydE9mICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJVdob2xlT3JnYW5pemF0aW9ucHJvdmlkZXIuaWQpICJhc09yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgICAgICB3aG9sZU9SR3Byb3ZlZGVyLmlkIGFzIGlkIC0+IFdob2xlT3JnYW5pemF0aW9ucHJvdmlkZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPUkdwcm92ZWRlci0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT5XaG9sZU9yZ2FuaXphdGlvbnByb3ZpZGVyLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQ3LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNyk7CiAgICAgICAgICAgICAgICAgIH0iciIgOyAgIAogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICB3aG9sZU9SR3Byb3ZlZGVyLm5hbWUgYXMgdiAtPiBXaG9sZU9yZ2FuaXphdGlvbnByb3ZpZGVyLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICB3aG9sZU9SR3Byb3ZlZGVyLnRlbGVjb20gLT4gV2hvbGVPcmdhbml6YXRpb25wcm92aWRlci50ZWxlY29tOwogICAgICAgICAgICAgICAgd2hvbGVPUkdwcm92ZWRlci5hZGRyIC0+IFdob2xlT3JnYW5pemF0aW9ucHJvdmlkZXIuYWRkcmVzczsKICAgICAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9ucHJvdmlkZXIiOwogICAgICAgICAgICB9Ik9yZ2FuaXphdGlvblBhcnRPZnByb3ZpZGVyIjsKICB9ICJvcmdhbml6YXRpb24iOwogICAKIH0icGF0aWVudCI7Cn0KZ3JvdXAgQ3VzdG9kaWFuT3JnYW5pemF0aW9uKHNvdXJjZSBzcmMgOiBDdXN0b2RpYW5Pcmdhbml6YXRpb24sIHRhcmdldCB0Z3QgOiBPcmdhbml6YXRpb24pewogc3JjLm5hbWUgYXMgdiAtPiB0Z3QubmFtZSA9ICh2Lm90aGVyKTsKICBzcmMudGVsZWNvbSAtPiB0Z3QudGVsZWNvbTsKICBzcmMuYWRkciAtPiB0Z3QuYWRkcmVzczsKIAogfQogCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRFbmNvdW50ZXIoc291cmNlIHNyYyA6IEVuY29tcGFzc2luZ0VuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50KSB7CiAgc3JjLmlkIC0+IGVuY291bnRlci5pZGVudGlmaWVyOwogIHNyYy5jb2RlIGFzIGNvZGUxLT4gZW5jb3VudGVyLmNsYXNzID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgIGNvZGUxLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgY29kZTEuY29kZVN5c3RlbSBhcyBzeXN0ZW0tPmNvZGluZy5zeXN0ZW09IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICBjb2RlMS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5LT5jb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgfSJjbGFzcyI7CiAgc3JjIHdoZXJlIHNyYy5jb2RlLmV4aXN0cygpLm5vdCgpLT4gZW5jb3VudGVyLmNsYXNzID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICBzcmMgIC0+IGNvZGluZy5jb2RlID0nQU1CJyAiY29kZSI7CiAgICBzcmMgLT5jb2Rpbmcuc3lzdGVtPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1BY3RDb2RlJyAiY29kZVMiOwogICAgc3JjIC0+Y29kaW5nLmRpc3BsYXk9ICdhbWJ1bGF0b3J5JyAiZGlzcGxheSI7CiAgIH0iTm9uQ29kZWNsYXNzIjsKICBzcmMgLT4gZW5jb3VudGVyLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogIHNyYyAtPiBlbmNvdW50ZXIuc3RhdHVzPSdmaW5pc2hlZCcic3RhdHVzIjsKICAvLyBlZmZlY3RpdmVUaW1lPXBlcmlvZAogIHNyYyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmICAtPiBlbmNvdW50ZXIucGVyaW9kPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgfSJ3aGVyZSI7CiAgLy8gZWZmZWN0aXZlVGltZSA9IHRpbWUtc3RhbXAKICBzcmMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkubm90KCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpLm5vdCgpIHRoZW4gewogIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZXRpbWUxIC0+IGVuY291bnRlci5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgZWZmZWN0aXZldGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gIGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZldGltZTEsc3RhcnQpICJ2YWwiOyAKICB9ImVmZnQiOwogIH0id2hlcmUiOwogLy8gc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZldGltZTEgLT4gZW5jb3VudGVyLnBlcmlvZCBhcyBwZXJpb2QsIHBlcmlvZC5zdGFydD0oZWZmZWN0aXZldGltZTEudmFsdWUpOwogIHNyYy5kaXNjaGFyZ2VEaXNwb3NpdGlvbkNvZGUgYXMgZGlzY2hhcmdlRGlzcG9zaXRpb25Db2RlIHRoZW57CiAgICBkaXNjaGFyZ2VEaXNwb3NpdGlvbkNvZGUgLT4gZW5jb3VudGVyLmhvc3BpdGFsaXphdGlvbiBhcyBob3NwaXRhbGl6YXRpb24gdGhlbnsgCiAgICAgICAgZGlzY2hhcmdlRGlzcG9zaXRpb25Db2RlIC0+IGhvc3BpdGFsaXphdGlvbi5kaXNjaGFyZ2VEaXNwb3NpdGlvbiAiZGlzRGlzcCI7CiAgICAgICAgfSJkaXNwb3NpdGlvbiI7CiAgfSAiZGlzY2hhcmdlIjsKCiAgc3JjLnJlc3BvbnNpYmxlUGFydHkgYXMgcmVzcG9uc2libGVQYXJ0eSAtPiBlbmNvdW50ZXIucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbiB7CiAgICByZXNwb25zaWJsZVBhcnR5LmFzc2lnbmVkRW50aXR5IGFzIGVudGl0eSAtPiAgYnVuZGxlLmVudHJ5IGFzIGUsIGUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScsIHBhcnRpY2lwYW50LmluZGl2aWR1YWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICAgICAgZW50aXR5LmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGVudGl0eS0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAgICAKICAgICAgICAgIGVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgZW50aXR5LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIGVudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2NvbXBvbmVudE9mL0VuY29tcGFzc2luZ0VuY291bnRlci9yZXNwb25zaWJsZVBhcnR5JyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+cHJhY3RpdGlvbmVyLmlkID0ociArJy0nKyBleHQpIGFzICB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCk7CiAgICAgICAgICAgIH0iciIgOyAKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICBlbnRpdHkuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsKICAgICAgICAgIGVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgZW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZSA9IHRydW5jYXRlKGRhdGUsMTApICJiaXJ0aFRpbWVFTkMiOwogICAgICAgICAgICB9ICJiaXJ0aCI7CiAgICAgICB9ICJuYW1lIjsKICAgICAgIH0icHJhY3RpdGlvbmVyIjsKICAgICAgIGVudGl0eS5yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyByYXBvcmcgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMiwgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUyLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyByYXByZXNlbnRlZG9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICAgICAKICAgICAgICByYXBvcmctPnJhcHJlc2VudGVkb3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHJhcG9yZy0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcmFwb3JnIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICByYXBvcmcgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2NvbXBvbmVudE9mL0VuY29tcGFzc2luZ0VuY291bnRlci9yZXNwb25zaWJsZVBhcnR5L3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgCiAgICAgICAgICAvL3JhcG9yZy5pZCAtPiByYXByZXNlbnRlZG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyOwogICAgICAgICAgIHJhcG9yZy5pZCBhcyBpZCAtPiByYXByZXNlbnRlZG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICByYXBvcmctPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHJhcHJlc2VudGVkb3JnYW5pemF0aW9uLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlcmFwcmVzZW50ZWRvcmdhbml6YXRpb24uaWQpOwogICAgICAgICAgICB9InIiIDsgIAogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgIHJhcG9yZy5uYW1lIGFzIHYgLT4gcmFwcmVzZW50ZWRvcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICByYXBvcmcudGVsZWNvbSAtPiByYXByZXNlbnRlZG9yZ2FuaXphdGlvbi50ZWxlY29tOwogICAgICAgICAgIHJhcG9yZy5hZGRyIC0+IHJhcHJlc2VudGVkb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgcmFwb3JnLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTMsICBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEsICBvcmdhbml6YXRpb24xLmlkID0gdXVpZCgpIGFzIHV1aWQ0LCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIHJhcHJlc2VudGVkb3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24xLmlkKSB0aGVuewogICAgICAgICAgICAvL09yZ1BhcnRPZi5pZCAtPiBvcmdhbml6YXRpb24xLmlkZW50aWZpZXI7CiAgICAgICAgICAgIAogICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvY29tcG9uZW50T2YvRW5jb21wYXNzaW5nRW5jb3VudGVyL3Jlc3BvbnNpYmxlUGFydHkvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAKICAgICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgcmFwcmVzZW50ZWRvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpOwogICAgICAgICAgICAgIH0iciIgOyAgCiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gdHJ1ZTsKICAgICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGU0LCBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgdGhlbiB7CiAgICAgICAgICAgICAvLyB3aG9sZU9yZ2FuLmlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllcjsKICAgICAgICAgICAgIAogICAgICAgICAgICAgd2hvbGVPcmdhbi0+b3JnYW5pemF0aW9uMi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9jb21wb25lbnRPZi9FbmNvbXBhc3NpbmdFbmNvdW50ZXIvcmVzcG9uc2libGVQYXJ0eS9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAKICAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjIuaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ1KSwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMi5pZCkgOwogICAgICAgICAgICAgIH0iciIgOyAKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgICAgICB9Indob2xlT3JnYW4iOwogICAgICAgICAgfSJPcmdQYXJ0T2YiOyAgICAgICAKICAgfSAib3JnYW5pemF0aW9uIjsKICAgIH0iZW50aXR5IjsKIH0icGFydGljcGFudCI7Cgogc3JjLmVuY291bnRlclBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50ICB0aGVuIHsKICAgIHBhcnRpY2lwYW50LmFzc2lnbmVkRW50aXR5IGFzIGFzc2lnbmVkRW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMzEzLCAgIGUzMTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMzEzLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEgLCAgZTMxMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ1ByYWN0aXRpb25lclJvbGUnLCBlbmNvdW50ZXIucGFydGljaXBhbnQgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHBhcnRpY2lwYW50MSB0aGVuIHsgCiAgIC8vIHBhcnRpY2lwYW50LnRpbWUgYXMgdGltZS0+cGFydGljaXBhbnQxLnBlcmlvZCBhcyBwZXJpb2QgLHBlcmlvZC5zdGFydD0odGltZS52YWx1ZSk7CiAgICBwYXJ0aWNpcGFudC0+cGFydGljaXBhbnQxLnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIHsKICAgICAgICBwYXJ0aWNpcGFudC50aW1lIGFzIHRpbWUgLT5wZXJpb2Quc3RhcnQ9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUodGltZSxzdGFydCk7CiAgICAgIH0icGVyaW9kIjsKICAgICBwYXJ0aWNpcGFudCBhcyBwIC0+IHBhcnRpY2lwYW50MS50eXBlIGFzIHR5cGUgdGhlbiB7IAogICAgICAgcCAtPiB0eXBlLmNvZGluZyBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgcC0+IGNvZGluZy5jb2RlID0gKHAudHlwZUNvZGUpICJjb2RpY2UiOwogICAgICAgICBwLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL3YzLVBhcnRpY2lwYXRpb25UeXBlJyAic3lzdGVtIjsKICAgICAgIH0gImNvZGVUeXBlIjsgCiAgICAgfSJ0eXBlIjsKICAgICBwYXJ0aWNpcGFudC0+IHBhcnRpY2lwYW50MS5pbmRpdmlkdWFsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VwYXJ0LCByZWZlcmVuY2VwYXJ0LnJlZmVyZW5jZSA9ICAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkicGFyIjsKICAgICBwYXJ0aWNpcGFudC5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgIGFzc2lnbmVkRW50aXR5ICAtPiBidW5kbGUuZW50cnkgYXMgZTMzLCBlMzMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTMzLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAKICAgICAgICBhc3NpZ25lZEVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICBhc3NpZ25lZEVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICBhc3NpZ25lZEVudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICBhc3NpZ25lZEVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZW5jb3VudGVyUGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICB9ImNvZGluZyI7CiAgICAgICB9Im1ldGEiOwogICAgICAgCiAgICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsIGUzMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSA7CiAgICAgICAgIH0iciIgOyAgICAKICAgICB9ImlkZW50aWZpZXIiOwogICAgIGFzc2lnbmVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgIH0iZGl2ZXJzbyI7CiAgICAgYXNzaWduZWRFbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgYXNzaWduZWRFbnRpdHkuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsKICAgICBhc3NpZ25lZEVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgIGFzc2lnbmVkRW50aXR5LmFzc29jaWF0ZWRQZXJzb24gYXMgYXNzaWduZWRQZXJzb24gdGhlbiB7CiAgICAgICAgYXNzaWduZWRQZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICBhc3NpZ25lZFBlcnNvbi5iaXJ0aFRpbWUgIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZSA9IHRydW5jYXRlKGRhdGUsIDEwKSAiYmlydGhUaW1lbGVnYWwiOwogICAgICAgIH0gImJpcnRoIjsKICAgfSAibmFtZSI7CiAgIGFzc2lnbmVkRW50aXR5LnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTM0LCBlMzQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTM0LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbnsKICAgICAKICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2VuY291bnRlclBhcnRpY2lwYW50L3Njb3BpbmdPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgfSJjb2RpbmciOwogICAgIH0ibWV0YSI7CiAgICAgCiAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgfSJleHQiOwogICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTM0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCAgcHJhY3RpdGlvbmVyUm9sZS5vcmdhbml6YXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24uaWQpOwogICAgICAgfSJyIiA7IAogICB9ImlkZW50aWZpZXIiOwogICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7IAogICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGUzNSwgIGUzNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTM1LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24xIHRoZW57CiAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgIAogICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZW5jb3VudGVyUGFydGljaXBhbnQvc2NvcGluZ09yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICB9Im1ldGEiOwogICAgICAgICAKICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgIE9yZ1BhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgIH0iZXh0IjsKICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlMzUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksICBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpIDsKICAgICAgICAgfSJyIiA7ICAgCiAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IHRydWU7CiAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTM2LCBlMzYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzNi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiB0aGVuIHsKICAgICAgICAgCiAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZW5jb3VudGVyUGFydGljaXBhbnQvc2NvcGluZ09yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICB9Im1ldGEiOwoKICAgICAgICAgCiAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQ9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMzYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpICA7CiAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICAgIH0id2hvbGVPcmdhbiI7CiAgICAgICAgIH0iT3JnUGFydE9mIjsgICAgICAgCiAgICAgICB9InJlcHJlc2VudGVkT3JnYW5pemF0aW9uIjsKICAgIH0gImFzc2lnbmVkRW50aXR5IjsKICB9ICJQYXJ0aWNpcGFudCI7CiB9Owogc3JjLmxvY2F0aW9uIGFzIExvY2F0aW9uIHRoZW4gewogIExvY2F0aW9uLmhlYWx0aENhcmVGYWNpbGl0eSBhcyBIQ0YgLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnTG9jYXRpb24nKSBhcyBsb2MgdGhlbiB7CiAgICAKICAgIEhDRi0+bG9jLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgSENGLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgIEhDRiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICBIQ0YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2NvbXBvbmVudE9mL0VuY29tcGFzc2luZ0VuY291bnRlci9sb2NhdGlvbi9oZWFsdGhDYXJlRmFjaWxpdHknImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgIH0ibWV0YSI7CiAgICAKICAgIEhDRiAtPiBlbmNvdW50ZXIubG9jYXRpb24gYXMgbG9jYXRpb25zIHRoZW4gewogICAKICAgIAogICAgSENGLmlkIGFzIGlkIC0+IGxvYy5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IGlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgSENGLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ0xvY2F0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICB9ImV4dCI7CiAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IGxvYy5pZCA9KHIgKyctJysgZXh0KSBhcyB1dWlkNiwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Mb2NhdGlvbi8nLCB1dWlkNiksIGxvY2F0aW9ucy5sb2NhdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJyArICVsb2MuaWQpImxvY2MiOwogICAgICB9InIiIDsgCiAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgIEhDRi5jb2RlIC0+IGxvYy50eXBlOwogICAgICBIQ0YubG9jYXRpb24gYXMgc3JjTG9jYXRpb24gdGhlbiB7CiAgICAgICAgc3JjTG9jYXRpb24ubmFtZSBhcyB2IC0+IGxvYy5uYW1lID0gKHYub3RoZXIpOwogICAgICAgIHNyY0xvY2F0aW9uLmFkZHIgLT4gbG9jLmFkZHJlc3M7CiAgICAgIH0ibG9jYXRpb24yIjsKICAgICBIQ0Yuc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uIGFzIHNlcnZQcm92T3JnIC0+ICBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgCiAgICAgIHNlcnZQcm92T3JnLT5zZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgIHNlcnZQcm92T3JnLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgc2VydlByb3ZPcmcgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICBzZXJ2UHJvdk9yZyAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvY29tcG9uZW50T2YvRW5jb21wYXNzaW5nRW5jb3VudGVyL2xvY2F0aW9uL2hlYWx0aENhcmVGYWNpbGl0eS9zZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAKICAgICAgc2VydlByb3ZPcmcuaWQgYXMgaWQgLT4gc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIHNlcnZQcm92T3JnLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQsICBlLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZCksIGxvYy5tYW5hZ2luZ09yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJXNlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICB9InIiIDsgIAogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgc2VydlByb3ZPcmcubmFtZSBhcyB2IC0+IHNlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgIHNlcnZQcm92T3JnLnRlbGVjb20gLT4gc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgc2VydlByb3ZPcmcuYWRkciAtPiBzZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24uYWRkcmVzczsKICAgICAgICBzZXJ2UHJvdk9yZy5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBhc09yZ1BhcnRPZiB0aGVuIHsKICAgICAgICBhc09yZ1BhcnRPZiBhcyBhc09yZ1BhcnRPZjEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgYXNvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgICAgIAogICAgICAgICAgYXNPcmdQYXJ0T2YxLT5hc29yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIGFzT3JnUGFydE9mMS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9jb21wb25lbnRPZi9FbmNvbXBhc3NpbmdFbmNvdW50ZXIvbG9jYXRpb24vaGVhbHRoQ2FyZUZhY2lsaXR5L3NlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKCiAgICAgICAgICAgIGFzT3JnUGFydE9mMS5pZCBhcyBpZCAtPiBhc29yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gYXNvcmdhbml6YXRpb24uaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQxKSwgc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlYXNvcmdhbml6YXRpb24uaWQpOwogICAgICAgICAgICAgIH0iciIgOyAgCiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIGFzT3JnUGFydE9mMS5jb2RlIC0+IGFzb3JnYW5pemF0aW9uLnR5cGU7CiAgICAgICAgICAgIGFzT3JnUGFydE9mMS5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gYXNvcmdhbml6YXRpb24uYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIGFzb3JnYW5pemF0aW9uLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnIHRoZW57CiAgICAgICAgICAgICAgICB3aG9sZU9yZyBhcyB3aG9sZU9yZzEgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgd2hvbGVvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLT53aG9sZW9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9jb21wb25lbnRPZi9FbmNvbXBhc3NpbmdFbmNvdW50ZXIvbG9jYXRpb24vaGVhbHRoQ2FyZUZhY2lsaXR5L3NlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CgogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS5pZCBhcyBpZCAtPiBhc29yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiAgd2hvbGVvcmdhbml6YXRpb24uaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQyKSwgYXNvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICV3aG9sZW9yZ2FuaXphdGlvbi5pZCk7CiAgICAgICAgICAgICAgICAgICAgICB9InIiIDsgICAgCiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEubmFtZSBhcyB2IC0+IHdob2xlb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxLnRlbGVjb20gLT4gd2hvbGVvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEuYWRkciAtPiB3aG9sZW9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgICAgICAgICAgICB9Indob2xlT3JnMSI7CiAgICAgICAgICAgICAgfSJ3aG9sZU9yZyI7CiAgICAgICAgICB9Ik9yZ2FuaXphdGlvblBhcnRPZnByb3ZpZGVyIjsKICAgICAgIH0iYXNPcmcxIjsKICAgIH0iU1BPIjsKIC8vIH0ibG9jYXRpb24xIjsKfSJoY2YiOwogIH0ibG9jYXRpb24xIjsgCiB9ImxvY2F0aW9uIjsKCn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRhdGlvbk9mKHNvdXJjZSBzcmM6IHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLCB0YXJnZXQgdGd0OiBvcmdhbml6YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpewogIHNyYy5uYW1lIC0+IHRndC5uYW1lOwogIHNyYy50ZWxlY29tIC0+IHRndC50ZWxlY29tOwogIHNyYy5hZGRyIC0+IHRndC5hZGRyZXNzOwogIHNyYy5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBhc09yZ2FuaXphdGlvblBhcnRPZiB0aGVuIHsKICAgICAgICBhc09yZ2FuaXphdGlvblBhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiAgdGhlbiB7CiAgICAgICAgICAKICAgICAgICAgIGFzT3JnYW5pemF0aW9uUGFydE9mLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2RvY3VtZW50YXRpb25PZi9zZXJ2aWNlRXZlbnQvcGVyZm9ybWVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgCiAgICAgICAgICBhc09yZ2FuaXphdGlvblBhcnRPZi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gaWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICBhc09yZ2FuaXphdGlvblBhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gIG9yZ2FuaXphdGlvbjIuaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZCwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkKSwgdGd0LnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycrICVvcmdhbml6YXRpb24yLmlkKTsKICAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIGFzT3JnYW5pemF0aW9uUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMi50eXBlOwogICAgICAgICAgYXNPcmdhbml6YXRpb25QYXJ0T2Yuc3RhdHVzQ29kZSB3aGVyZSh2YWx1ZSA9ICdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24yLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgIGFzT3JnYW5pemF0aW9uUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW5pemF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24zICB0aGVuewogICAgICAgICAgICAKICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbjMubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvZG9jdW1lbnRhdGlvbk9mL3NlcnZpY2VFdmVudC9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAKICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMy5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uIC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiAgb3JnYW5pemF0aW9uMy5pZCA9KHIgKyctJysgZXh0KSBhcyB1dWlkMSwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMSksIG9yZ2FuaXphdGlvbjIucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsIHJlZmVyZW5jZU9yZy5yZWZlcmVuY2UgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDEpOwogICAgICAgICAgICAgIH0iciIgOyAgCiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbi5pZCAtPiBvcmdhbml6YXRpb24zLmlkZW50aWZpZXI7CiAgICAgICAgICAgIHdob2xlT3JnYW5pemF0aW9uLm5hbWUgLT4gb3JnYW5pemF0aW9uMy5uYW1lOwogICAgICAgICAgICB3aG9sZU9yZ2FuaXphdGlvbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjMudGVsZWNvbTsKICAgICAgICAgICAgd2hvbGVPcmdhbml6YXRpb24uYWRkciAtPiBvcmdhbml6YXRpb24zLmFkZHJlc3M7CiAgICAgICAgICB9ICJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICB9ICJvcmdhbml6YXRpb25QYXJ0T2YiOwogIH0gImNyZWF0aW9uIjsKIH0KCgoKCi8vIGdyb3VwIENsaW5pY2FsRG9jdW1lbnRMb2NhdGlvbihzb3VyY2Ugc3JjIDogSGVhbHRoQ2FyZUZhY2lsaXR5LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgbG9jIDogTG9jYXRpb24pewovLyAgICAgc3JjLmlkIC0+IGxvYy5pZGVudGlmaWVyOwovLyAgICAgc3JjLmNvZGUgLT4gbG9jLnR5cGU7Ci8vICAgICBzcmMubG9jYXRpb24gYXMgc3JjTG9jYXRpb24gdGhlbiB7Ci8vICAgICBzcmNMb2NhdGlvbi5uYW1lIGFzIHYgLT4gbG9jLm5hbWUgPSAodi5vdGhlcik7Ci8vICAgICBzcmNMb2NhdGlvbi5hZGRyIC0+IGxvYy5hZGRyZXNzOwovLyAgICAgfSJsb2NhdGlvbjIiOwovLyAgICAgc3JjLnNlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbiBhcyBzZXJ2UHJvdk9yZyAtPiAgYnVuZGxlLmVudHJ5IGFzIGUsIGUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIHNlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbiwgIHNlcnZpY2VQcm92aWRlck9yZ2FuaXphdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQpLCAgbG9jLm1hbmFnaW5nT3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLmlkKSAgdGhlbiB7CiAgICAgIAovLyAgICAgICBzZXJ2UHJvdk9yZy0+c2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKLy8gICAgICAgICBzZXJ2UHJvdk9yZy0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKLy8gICAgICAgICAgIHNlcnZQcm92T3JnIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwovLyAgICAgICAgICAgc2VydlByb3ZPcmcgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2F1dGhvciciY29kZSI7Ci8vICAgICAgICAgICAgICAgfSJjb2RpbmciOwovLyAgICAgICAgIH0ibWV0YSI7CiAgICAgIAovLyAgICAgICBzZXJ2UHJvdk9yZy5pZCBhcyBpZCAtPiBzZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewovLyAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKLy8gICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gaWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKLy8gICAgICAgICAgIHNlcnZQcm92T3JnLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKLy8gICAgICAgICB9ImV4dCI7Ci8vICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwovLyAgICAgfSJpZGVudGlmaWVyIjsKLy8gICAgICAgc2VydlByb3ZPcmcuaWQgLT4gc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLmlkZW50aWZpZXI7Ci8vICAgICAgICAgICAgIHNlcnZQcm92T3JnLm5hbWUgYXMgdiAtPiBzZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKLy8gICAgICAgICAgICAgc2VydlByb3ZPcmcudGVsZWNvbSAtPiBzZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24udGVsZWNvbTsKLy8gICAgICAgICAgICAgc2VydlByb3ZPcmcuYWRkciAtPiBzZXJ2aWNlUHJvdmlkZXJPcmdhbml6YXRpb24uYWRkcmVzczsKLy8gICAgICAgICAgICAgc2VydlByb3ZPcmcuYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgYXNPcmdQYXJ0T2YgdGhlbiB7Ci8vICAgICAgICAgICAgIGFzT3JnUGFydE9mIGFzIGFzT3JnUGFydE9mMSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBhc29yZ2FuaXphdGlvbiwgIGFzb3JnYW5pemF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMSksICAgc2VydmljZVByb3ZpZGVyT3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlYXNvcmdhbml6YXRpb24uaWQpIHRoZW4gewogICAgICAgICAgICAgIAovLyAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS0+YXNvcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewovLyAgICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewovLyAgICAgICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7Ci8vICAgICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aG9yJyJjb2RlIjsKLy8gICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKLy8gICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgCi8vICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLmlkIGFzIGlkIC0+IGFzb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKLy8gICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKLy8gICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiBpZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewovLyAgICAgICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwovLyAgICAgICAgICAgICAgICAgfSJleHQiOwovLyAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwovLyAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwovLyAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS5pZCAtPiBhc29yZ2FuaXphdGlvbi5pZGVudGlmaWVyOwovLyAgICAgICAgICAgICAgICAgYXNPcmdQYXJ0T2YxLmNvZGUgLT4gYXNvcmdhbml6YXRpb24udHlwZTsKLy8gICAgICAgICAgICAgICAgIGFzT3JnUGFydE9mMS5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gYXNvcmdhbml6YXRpb24uYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIGFzb3JnYW5pemF0aW9uLmFjdGl2ZSA9ICd0cnVlJzsKLy8gICAgICAgICAgICAgICAgIC8vYXNPcmdQYXJ0T2YxLmVmZmVjdGl2ZVRpbWUgLT4gCi8vICAgICAgICAgICAgICAgICBhc09yZ1BhcnRPZjEud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmcgdGhlbnsKLy8gICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZyBhcyB3aG9sZU9yZzEgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgd2hvbGVvcmdhbml6YXRpb24sICB3aG9sZW9yZ2FuaXphdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDIpLCAgYXNvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICV3aG9sZW9yZ2FuaXphdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAKLy8gICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS0+d2hvbGVvcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmcxIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwovLyAgICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYXV0aG9yJyJjb2RlIjsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwovLyAgICAgICAgICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAgICAgCi8vICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEuaWQgYXMgaWQgLT4gd2hvbGVvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEgLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKLy8gICAgICAgICAgICAgICAgICAgICAgICAgfSJleHQiOwovLyAgICAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7Ci8vICAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKLy8gICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS5pZCAtPiB3aG9sZW9yZ2FuaXphdGlvbi5pZGVudGlmaWVyOwovLyAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZzEubmFtZSBhcyB2IC0+IHdob2xlb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS50ZWxlY29tIC0+IHdob2xlb3JnYW5pemF0aW9uLnRlbGVjb207Ci8vICAgICAgICAgICAgICAgICAgICAgICAgIHdob2xlT3JnMS5hZGRyIC0+IHdob2xlb3JnYW5pemF0aW9uLmFkZHJlc3M7Ci8vICAgICAgICAgICAgICAgICAgICAgfSJ3aG9sZU9yZzEiOwovLyAgICAgICAgICAgICAgICAgfSJ3aG9sZU9yZyI7Ci8vICAgICAgICAgICAgIH0iT3JnYW5pemF0aW9uUGFydE9mcHJvdmlkZXIiOwovLyAgICAgICAgIH0iYXNPcmcxIjsKLy8gICAgIH0iU1BPIjsKLy8gfQoKZ3JvdXAgQ2hFeHRFcHJWZXJzaW9uTnVtYmVyKHNvdXJjZSBzcmM6IElOVCwgdGFyZ2V0IGV4dDogRXh0ZW5zaW9uKSB7CiAgc3JjIC0+IGV4dC51cmwgPSAnaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL2NvbXBvc2l0aW9uLWNsaW5pY2FsZG9jdW1lbnQtdmVyc2lvbk51bWJlcicgInVybCI7CiAgc3JjLnZhbHVlIGFzIHYgLT4gZXh0LnZhbHVlID0gY2FzdCh2LCAnc3RyaW5nJykidmFsdWUiOwp9Cgpncm91cCBDbGluaWNhbERvY3VtZW50T3JnYW5pemF0aW9uKHNvdXJjZSBzcmMgOiBDdXN0b2RpYW5Pcmdhbml6YXRpb24sIHRhcmdldCB0Z3QgOiBPcmdhbml6YXRpb24pIHsKICBzcmMuaWQgLT4gdGd0LmlkZW50aWZpZXI7CiAgc3JjLm5hbWUgYXMgdiAtPiB0Z3QubmFtZSA9ICh2Lm90aGVyKTsKICBzcmMudGVsZWNvbSAtPiB0Z3QudGVsZWNvbTsKICBzcmMuYWRkciAtPiB0Z3QuYWRkcmVzczsKfQo=", "subType": "00"}}, "filename": "FULLHEADER_v3.2.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:33:06.438Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a4904846375e3fecadbe"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/LetteraDimissioneOspedaliera", "version": "2.8", "template_id_root": ["2.16.840.1.113883.2.9.10.1.5"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9MZXR0ZXJhRGltaXNzaW9uZU9zcGVkYWxpZXJhIiA9ICJMZXR0ZXJhRGltaXNzaW9uZU9zcGVkYWxpZXJhIgoKY29uY2VwdG1hcCAiQWxsZXJneVR5cGVNYXAiIHsKCiAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtdHlwZSIKCiAgcHJlZml4IHQgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwiCgogIHM6T0lOVCA9PSB0OmludG9sZXJhbmNlCiAgczpBTEcgPT0gdDphbGxlcmd5CiAgczpEQUxHID09IHQ6YWxsZXJneQogIHM6RUFMRyA9PSB0OmFsbGVyZ3kKICBzOkZBTEcgPT0gdDphbGxlcmd5CiAgczpOQUlOVCA9PSB0OmludG9sZXJhbmNlCiAgczpGTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogIHM6RE5BSU5UID09IHQ6aW50b2xlcmFuY2UKICBzOkVOQUlOVCA9PSB0OmludG9sZXJhbmNlCiAgczpGSU5UID09IHQ6aW50b2xlcmFuY2UKICBzOkRJTlQgPT0gdDppbnRvbGVyYW5jZQogIHM6RUlOVCA9PSB0OmludG9sZXJhbmNlCn0KCmNvbmNlcHRtYXAgIkFsbGVyZ3lDYXRlZ29yeU1hcCIgewoKICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My10eXBlIgogIHByZWZpeCB0ID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsIgoKICBzOkRBTEcgPT0gdDptZWRpY2F0aW9uCiAgczpFQUxHID09IHQ6ZW52aXJvbWVudAogIHM6RkFMRyA9PSB0OmZvb2QKICBzOkZOQUlOVCA9PSB0OmZvb2QKICBzOkROQUlOVCA9PSB0Om1lZGljYXRpb24KICBzOkVOQUlOVCA9PSB0OmVudmlyb21lbnQKICBzOkZJTlQgPT0gdDpmb29kCiAgczpESU5UID09IHQ6bWVkaWNhdGlvbgogIHM6RUlOVCA9PSB0OmVudmlyb21lbnQKfQoKY29uY2VwdG1hcCAiQWxsZXJneUNyaXRpY2FsaXR5IiB7CgogIHByZWZpeCBzID0gImh0dHBzOi8vYXJ0LWRlY29yLm9yZy9hcnQtZGVjb3IvZGVjb3ItdmFsdWVzZXRzLS1obDdpdC0/aWQ9Mi4xNi44NDAuMS4xMTM4ODMuMi45Ljc3LjIyLjExLjYiCiAgcHJlZml4IHQgPSAiaHR0cHM6Ly93d3cuaGw3Lm9yZy9maGlyL2NvZGVzeXN0ZW0tYWxsZXJneS1pbnRvbGVyYW5jZS1jcml0aWNhbGl0eS5odG1sIgogIAogIHM6TCA9PSB0OmxvdwogIHM6SCA9PSB0OmhpZ2gKICBzOk0gPT0gdDp1bmFibGVfdG9fYXNzZXNzCn0KCgp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NsaW5pY2FsRG9jdW1lbnQiIGFsaWFzIENsaW5pY2FsRG9jdW1lbnQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzaWduZWRBdXRob3IiIGFsaWFzIEFzc2lnbmVkQXV0aG9yIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEVudGl0eSIgYWxpYXMgQXNzaWduZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc29jaWF0ZWRFbnRpdHkiIGFsaWFzIEFzc29jaWF0ZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0N1c3RvZGlhbk9yZ2FuaXphdGlvbiIgYWxpYXMgQ3VzdG9kaWFuT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb25QYXJ0T2YiIGFsaWFzIE9yZ2FuaXphdGlvblBhcnRPZiBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uIiBhbGlhcyByYXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vU2VjdGlvbiIgYWxpYXMgU2VjdGlvbiBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vUGF0aWVudFJvbGUiIGFsaWFzIFBhdGllbnRSb2xlIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9BRCIgYWxpYXMgQUQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9CdW5kbGUiIGFsaWFzIEJ1bmRsZSBhcyB0YXJnZXQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NvbXBvc2l0aW9uIiBhbGlhcyBDb21wb3NpdGlvbiBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUGF0aWVudCIgYWxpYXMgUGF0aWVudCBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vRW5jb3VudGVyIiBhbGlhcyBFbmNvdW50ZXIgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BlcnNvbiIgYWxpYXMgUGF0aWVudCBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUHJhY3RpdGlvbmVyIiBhbGlhcyBQcmFjdGl0aW9uZXIgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgT3JnYW5pemF0aW9uIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQWN0IiBhbGlhcyBBY3QgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9JVkwtUFEiIGFsaWFzIElWTF9QUSBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9QUSIgYWxpYXMgUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9TaW1wbGVRdWFudGl0eSIgYWxpYXMgU2ltcGxlUXVhbnRpdHkgYXMgdGFyZ2V0CgoKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvQ2RhVG9GaGlyRGF0YVR5cGVzIgppbXBvcnRzICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9GVUxMSEVBREVSIgoKZ3JvdXAgQ2RhVG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICBjZGEgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsICBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3RQQVQsIHJlcXVlc3RQQVQubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQYXRpZW50JykgYXMgcGF0aWVudCwgIHBhdGllbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nLCB1dWlkMiksIGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVyLCAgZW5jb3VudGVyLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMykscmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJywKICBidW5kbGUuZW50cnkgYXMgZTUsIGU1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ0RvY3VtZW50UmVmZXJlbmNlJykgYXMgRG9jdW1lbnRSZWZlcmVuY2UsICBEb2N1bWVudFJlZmVyZW5jZS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Eb2N1bWVudFJlZmVyZW5jZS8nLCB1dWlkNSksIHJlcXVlc3QudXJsID0gJ0RvY3VtZW50UmVmZXJlbmNlJyB0aGVuIHsKICBjZGEgdGhlbiBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoY2RhLCBwYXRpZW50LCBjb21wb3NpdGlvbiwgZW5jb3VudGVyLCBidW5kbGUsIERvY3VtZW50UmVmZXJlbmNlKSAiY2RhdG9idW5kbGUiOwogICBjZGEucmVjb3JkVGFyZ2V0IGFzIHJlY29yZFRhcmdldCB0aGVuewogICAgcmVjb3JkVGFyZ2V0LnBhdGllbnRSb2xlIGFzIHBhdGllbnQgdGhlbnsKICAgICAgcGF0aWVudC5pZCBhcyBpZCAtPiBwYXRpZW50LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgIH0icmVjb3JkIjsKICAgICAgcGF0aWVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuNycpCiAgICAgIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjMnKSBvcihyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjE3Jykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTUnKSAgdGhlbiB7CiAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiByZXF1ZXN0UEFULnVybCA9IGFwcGVuZCgnUGF0aWVudD9pZGVudGlmaWVyPScsZXh0KSAiVVVJRCI7CiAgICAgICAgfSJleHQiOwogICAgfSJyZWNQYXQiOwogICB9InBhdGllbnQiOwogfSAiQ2xpbmljYWxEb2N1bWVudFRvQm9keSI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRUb0J1bmRsZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgY29tcG9zaXRpb24gOiBDb21wb3NpdGlvbiwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IERvY3VtZW50UmVmZXJlbmNlIDogRG9jdW1lbnRSZWZlcmVuY2UpIHsKICBjZGEgLT4gYnVuZGxlLmlkID0gdXVpZCgpICJpZCI7CiAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICBjZGEgLT4gYnVuZGxlLnR5cGUgPSAndHJhbnNhY3Rpb24nICJ0eXBlIjsKICBjZGEgLT4gYnVuZGxlLnRpbWVzdGFtcD0odGltZXN0YW1wLm5vdygpKSAiZGF0ZSI7CiAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudENvbXBvc2l0aW9uKGNkYSwgY29tcG9zaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNvbXBvc2l0aW9uIjsgIAogIGNkYS5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgY29tcG9uZW50LnN0cnVjdHVyZWRCb2R5IGFzIGJvZHkgdGhlbiB7CiAgICAgIGJvZHkuY29tcG9uZW50IGFzIGNvbXBvbmVudCAgdGhlbiB7CiAgICAgICAvL2Rpc2NyZXRpenppIGlsIHByaW1vIGxpdmVsbG8gZGkgY29tcG9uZW50IAoJICAgICBjb21wb25lbnQuc2VjdGlvbiBhcyBzcmNTZWN0aW9uIHRoZW4gewogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzQ2MjQxLTYnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Nb3Rpdm9SaWNvdmVybyhjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJtb3Rpdm9SaWNvdmVybyI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnNDcwMzktMycpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbklucXVhZHJhbWVudG9DbGluaWNvKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgImlucXVhZHJhbWVudG9DbGluaWNvIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc4NjQ4LTgnKSAgLT4gIGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRlY29yc29Pc3BlZGFsaWVybyhjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJEZWNvcnNvT3NwZWRhbGllcm8iOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzU1MTA5LTMnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Db21wbGljYW56ZShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJDb21wbGljYXppb25pIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICcxMTQ5My00JykgLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uUmlzY29udHJpKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIkhvc3BpdGFsRGlzY2hhcmdlU3R1ZGllc1N1bW1hcnkiOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzM0MTA0LTAnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Db25zdWxlbnphKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIkhvc3BpdGFsRGlzY2hhcmdlU3R1ZGllc1N1bW1hcnkiOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzMwOTU0LTInKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Fc2FtaUVzZWd1aXRpUmljb3Zlcm8oY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiRXNhbWlFc2VndWl0aUR1cmFudGVpbFJpY292ZXJvIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc0NzUxOS00JykgLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uUHJvY2VkdXJlRXNlZ3VpdGVSaWNvdmVybyhjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJIaXN0b3J5T2ZQcm9jZWR1cmVzRG9jdW1lbnQiOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzQ4NzY1LTInKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25BbGxlcmdpZShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJFc2FtaUVzZWd1aXRpRHVyYW50ZUlsUmljb3Zlcm8iOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzEwMTYwLTAnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRmFybWFjb2xvZ2ljYUR1cmFudGVSaWNvdmVybyhjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJUZXJhcGlhRmFybWFjb2xvZ2ljYUFsbGFEaW1pc3Npb25lIjsgICAgICAgCiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMTE1MzUtMicpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRpYWdub3NpRGltaXNzaW9uZShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJEaWFnbm9zaURpRGltaXNzaW9uZSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMTg3NzYtNScpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbklzdHJ1emlvbmlGb2xsb3dVcChjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJEaWFnbm9zaURpRGltaXNzaW9uZSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMTAxODMtMicpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvblRlcmFwaWFEaW1pc3Npb25lKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIlRlcmFwaWFGYXJtYWNvbG9naWNhQWxsYURpbWlzc2lvbmUiOwogICAgICAgfTsKICAgICAgfTsKICAgIH0gImJvZHkiOwogIH07Cn0KCgovLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Nb3Rpdm9SaWNvdmVybyhzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuIHsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsgICAgCiAgICAgfSAiY2RhVGV4dCI7CiAgIH0gImNUZXh0IjsKIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICBlbnRyeTEub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW4gT2JzZXJ2YXRpb24ob2JzLCBwYXRpZW50ICxlbmMgLG9ic2VydmF0aW9uLCBidW5kbGUpICJhY3QiOwogICB9ICJlbnRyeSI7CgogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlOCwgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU4LnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIE9ic2VydmF0aW9uLCAgT2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDgsICBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDgpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJU9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgc3JjIC0+IE9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBzcmMgLT4gT2JzZXJ2YXRpb24uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgIHNyYy5jb2RlIC0+IE9ic2VydmF0aW9uLmNvZGU7CiAgICAgICAgc3JjIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICBzcmMtPk9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgY2RhVGV4dCAtPiBPYnNlcnZhdGlvbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgIH0iY2RhVGV4dCI7CiAgfSJ3aGVyZSI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uSW5xdWFkcmFtZW50b0NsaW5pY28oc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIHNyYy50ZXh0IGFzIGNkYVRleHQgLT5idW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSwgdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgY2RhVGV4dCAtPiBvYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICBjZGFUZXh0IC0+IGZoaXJUZXh0LnN0YXR1cyA9ICdnZW5lcmF0ZWQnICJuYXJyYXRpdmVTdGF0dXMiOwogICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICB9InN0YXR1c2NvZGUiOwogICAgY2RhVGV4dC0+b2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgIH0icmVmZXJlbmNlIjsKICB9ICJjZGFUZXh0IjsKICBzcmMuY29tcG9uZW50IGFzIGNvbXBvbmVudCB0aGVuIHsKICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNlY3Rpb24yIHRoZW57CiAgICAgIC8vIEFOQU1ORVNJCiAgICAgIHNlY3Rpb24yIC0+IHRndC5zZWN0aW9uIGFzIHNlYzIgdGhlbnsKICAgICAgc2VjdGlvbjIuY29kZSB3aGVyZShjb2RlID0gJzExMzI5LTAnKSAtPiAgc2VjMi5jb2RlOwogICAgICAgIHNlY3Rpb24yLnRpdGxlIGFzIHQgLT4gc2VjMi50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogICAgICAgIC8vc2VjdGlvbjIuY29kZSAtPiBzZWMyLmNvZGU7CiAgICAgICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuewogICAgICAgICAgc2VjdGlvbjIudGV4dCBhcyBjZGFUZXh0IC0+IHNlYzIudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOyAgICAgICAgICAKICAgICAgICAgIH0gImNkYVRleHQiOyAgCiAgICAgICAgfSJleGlzdCI7CgogICAgICAgIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICBzZWN0aW9uMi50ZXh0IGFzIGNkYVRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgY29uZGl0aW9uLCBjb25kaXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHNlYzIuZW50cnkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJWNvbmRpdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgc2VjdGlvbjIuY29kZSAtPiBjb25kaXRpb24uY29kZTsKICAgICAgICAgICAgICBzcmMgd2hlcmUgY29uZGl0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICBzcmMtPmNvbmRpdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICB9InN0YXR1c2NvZGUiOwogICAgICAgICAgICAgIGNkYVRleHQgLT4gY29uZGl0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgY2RhVGV4dC0+Y29uZGl0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgICAgICAKICAgICAgICAgICAgICAgIGNkYVRleHQtPmNvbmRpdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgICAgICAgCiAgICAgICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgICB9IndoZXJlIjsKCiAgICAgICAgc2VjdGlvbjIuZW50cnkgYXMgZW50cnkxIHRoZW4gewogICAgICAgICAgZW50cnkxLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIHsKICAgICAgICAgICAgLy9FbnRyeVJlbGF0aW9uc2hpcCBwZXIgaWwgUHJvYmxlbQogICAgICAgICAgICBvYnMuY29kZSB3aGVyZSAoY29kZSA9ICc3NTMyNi05JykgIHRoZW4gewogICAgICAgICAgICBvYnMtPmJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdDb25kaXRpb24nKSBhcyBjb25kaXRpb24sIGNvbmRpdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Db25kaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb25kaXRpb24nLCBzZWMyLmVudHJ5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ29uZGl0aW9uLycgKyAlY29uZGl0aW9uLmlkKSB0aGVuewogICAgICAgICAgICBvYnMuY29kZSAtPiBjb25kaXRpb24uY2F0ZWdvcnk7CiAgICAgICAgICAgIG9icy0+Y29uZGl0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBvYnMtPmNvbmRpdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gY29uZGl0aW9uLnZlcmlmaWNhdGlvblN0YXR1cyBhcyBzdGF0dXMyIHRoZW4gewogICAgICAgICAgICAgIHN0YXR1cyAtPiAgc3RhdHVzMi5jb2RpbmcgYXMgc3RhdHVzMyB0aGVuewogICAgICAgICAgICAgICAgc3RhdHVzIC0+IHN0YXR1czMuY29kZSA9J2NvbmZpcm1lZCcgImZpbmFsZCI7CiAgICAgICAgICAgICAgICBzdGF0dXMgLT4gc3RhdHVzMy5zeXN0ZW09J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vY29uZGl0aW9uLXZlci1zdGF0dXMnInN5c3RlbSI7CiAgICAgICAgICAgICAgfSJzdDMiOwogICAgICAgICAgICB9InN0YXR1cyI7CiAgICAgICAgICAgIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZTEgdGhlbiB7CiAgICAgICAgICAgICAgZWZmZWN0aXZlMSB3aGVyZSBlZmZlY3RpdmUxLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmUxLmhpZ2guZXhpc3RzKCkgdGhlbnsKICAgICAgICAgICAgICAgIGVmZmVjdGl2ZTEgIC0+IGNvbmRpdGlvbi5vbnNldD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZG9uc2V0IHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlMSxwZXJpb2RvbnNldCkib25zZXRwZXJpb2QiOwogICAgICAgICAgICAgICAgfSJlZiI7CiAgICAgICAgICAgICAgfSJlZmZlY3RpdmV0aW1lMSI7CiAgICAgICAgICAgIAogICAgICAgICAgICBvYnMudmFsdWU6Q0QgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgdmFsLT5jb25kaXRpb24uY29kZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICAgICAgICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgICAgICAgICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7ICAKICAgICAgICAgICAgICB9IkNlIjsgCiAgICAgICAgICAgIH0iVmFsdWUiOwogICAgICAgICAgICBvYnMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlSZWwgIHRoZW57CiAgICAgICAgICAgICAgZW50cmlSZWwgLT4gY29uZGl0aW9uLmV2aWRlbmNlID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBldmlkZW5jZSB0aGVuewogICAgICAgICAgICAgIGVudHJpUmVsLm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uMiB0aGVuIHsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5jb2RlIGFzIGNvZGUgdGhlbiB7CiAgICAgICAgICAgICAgICBjb2RlLmNvZGUgd2hlcmUgKGNvZGUuY29kZSA9ICc4OTI2MS0yJykgdGhlbiB7IAogICAgICAgICAgICAgICAgICBvYnMgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nIHRoZW4gewogICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgZW50cmlSZWwgLT4gZXZpZGVuY2UuZGV0YWlsICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpICJyZWYiOwogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5jb2RlIC0+IG9ic2VydmF0aW9uLmNvZGU7CiAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMiB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgICAgICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnRleHQgYXMgdGV4dCAtPiBvYnNlcnZhdGlvbi5ub3RlID0gY3JlYXRlKCdBbm5vdGF0aW9uJykgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZiAtPiBub3RlLnRleHQgPSAocmVmLnZhbHVlKSAidmFsIjsKICAgICAgICAgICAgICAgICAgfSJBbm5vbnRhdGlvbiI7IAogICAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2Iuc3RhdHVzID0nZmluYWwnOwogICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBvYi5zdGF0dXMgPSdyZWdpc3RlcmVkJzsKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9iLnN0YXR1cyA9J3BhcnRpYWwnOwogICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudmFsdWU6SU5UIGFzIGludC0+b2IudmFsdWU9KGludC52YWx1ZSkgInZhbHVlIjsKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CiAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZTpDRCBhcyB2YWwgdGhlbnsKICAgICAgICAgICAgICAgICAgICB2YWwtPm9iLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgICAgICAgICAgICAgICAgIH0ib3JpZ2lubHRleHQiOwogICAgICAgICAgICAgICAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0idmFsdWUiOwogICAgICAgICAgICAgICAgICAgICAgICB9InF1YWxpZmllciI7CiAgICAgICAgICAgICAgICAgICAgICB9InRyYW5zbGF0aW9uIjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgIH0idmFsIjsKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlOlBRIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICAgIHZhbC0+b2IudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB2YWwudmFsdWUgYXMgdmFsdWUtPnF1YW50aXR5LnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgIH0icXVhbnRpdHkiOwogICAgICAgICAgICAgICAgICB9InZhbHVlUXVhbnRpdHkiOwogICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudmFsdWU6U1QgYXMgdmFsdWUtPm9iLnZhbHVlID1jcmVhdGUoJ3N0cmluZycpLG9iLnZhbHVlPSAodmFsdWUuZGF0YVN0cmluZykgInZhbHVlIjsKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlOkNFIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICAgIHZhbC0+b2JzZXJ2YXRpb24udmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB2YWwub3JpZ2luYWxUZXh0IC0+IGNlLnRleHQ7CiAgICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOyAgCiAgICAgICAgICAgICAgICAgICAgfSJDZSI7IAogICAgICAgICAgICAgICAgICB9IlZhbHVlIjsgCiAgICAgICAgICAgICAgICAgfSJvYnNlciI7CiAgICAgICAgICAgICAgICB9IndoZXJlRGVjb3Jzb0NsaW5pY28iOwogICAgICAgICAgICAgICAgfSJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIH0iT2JzZXJ2YXRpb24yIjsKICAgICAgICAgICAgfSJldmlkZW5jZSI7CiAgICAgICAgIH0iRW50cnlSZWxhdGlvbnNoaXAxIjsKICAgICAgICAgb2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpUmVsICB0aGVuewogICAgICAgICAgZW50cmlSZWwub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24yIHRoZW4gewogICAgICAgICAgICBvYnNlcnZhdGlvbjIuY29kZSBhcyBjb2RlIHRoZW4gewogICAgICAgICAgICAgY29kZS5jb2RlIHdoZXJlIChjb2RlLmNvZGUgPSczMzk5OS00JykgdGhlbnsKICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yIC0+IGNvbmRpdGlvbi5jbGluaWNhbFN0YXR1cyA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgc3RhdHVzIHRoZW4gewogICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnRleHQgYXMgdGV4dCB0aGVuewogICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZzdGF0IC0+IHN0YXR1cy50ZXh0PShyZWZzdGF0LnZhbHVlKSJzdGF0cmVmIjsKICAgICAgICAgICAgICAgICAgfSJ0ZXh0c3RhdCI7CiAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yICAtPiBzdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlICB3aGVyZSAodmFsdWUuY29kZSA9ICdMQTE2NjY2LTInKS0+IGNvZGluZy5jb2RlID0gJ2FjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSAgd2hlcmUgKHZhbHVlLmNvZGUgPSAnTEExODYzMi0yJyktPiBjb2RpbmcuY29kZSA9ICdpbmFjdGl2ZSciaW5hY3RpdmUiOwogICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9jb25kaXRpb24tY2xpbmljYWwnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZTEiOwogICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgfSJjb2RlIjsgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgfSJ3aGVyZURlY29yc29DbGluaWNvIjsgCiAgICAgICAgICAgIH0iY29kZXN0YXR1cyI7ICAKICAgICAgICAgICB9Im9ic2VydmF0aW9uc3RhdHVzIjsgCiAgICAgICAgICB9ImVudHJ5cmVsYXRpb25zaGlwc3RhdHVzIjsgICAgICAgICAgIAogICAgICAgICAgfSJ3aGVyZUVudHJ5UGF0b2xvZ2ljYVByb3NzaW1hIjsKICAgICAgICB9ICJvYnNlcnZhdGlvbmNvbmRpdGlvbiI7CiAgICAgICAgfSJlbnRyeSI7CiAgICB9InN1YnNlY3Rpb24xIjsKIAogIC8vIEVTQU1FIFBCSUVUVElWTwogIHNlY3Rpb24yLmNvZGUgd2hlcmUoY29kZSA9ICcyOTU0NS0xJykgdGhlbiBDbGluaWNhbERvY3VtZW50U290dG9TZWN0aW9uT0JTKHNlY3Rpb24yLCBzZWMyLCBidW5kbGUsZW5jLHBhdGllbnQpICJlc2FtZU9iaWV0dGl2byI7CiAgICAgIC8vIFRFVEFQSUEgRkFSTUFDT0xPR0lDQQogICBzZWN0aW9uMi5jb2RlIHdoZXJlKGNvZGUgPSAnNDIzNDYtNycpIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNvdHRvU2VjdGlvbk1TKHNlY3Rpb24yLCBzZWMyLCBidW5kbGUscGF0aWVudCxlbmMpICJUZXJhcGlhRmFybWFjb2xvZ2ljYUFsbEluZ3Jlc3NvIjsKICAgIH0ic2VjMmZoaXIiOwogIH0iY29tcG9uZW50U2VjIjsKIH07Cn0KCgpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRlY29yc29Pc3BlZGFsaWVybyhzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPmJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpLCB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7ICAgICAgICAgIAogICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICB9InN0YXR1c2NvZGUiOwogICAgICBzcmMtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBzcmMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgY2RhVGV4dC0+b2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgIH0icmVmZXJlbmNlIjsKICB9ICJjZGFUZXh0IjsKICBzcmMuY29tcG9uZW50IGFzIGNvbXBvbmVudCB0aGVuIHsKICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNlY3Rpb24yIHRoZW57CiAgICAgIHNyYyB0aGVuICBDbGluaWNhbERvY3VtZW50U290dG9TZWN0aW9uT0JTIChzZWN0aW9uMiwgdGd0LCBidW5kbGUsZW5jLHBhdGllbnQpICJEZWNvcnNvIjsKICAgIH0iMSI7CiAgfSIyIjsKICAKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Db21wbGljYW56ZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgfSAiY2RhVGV4dCI7ICAKICB9ImV4aXN0IjsKCiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgIHNyYyAtPiBvYnNlcnZhdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgc3JjIC0+IG9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgIHNyYy5jb2RlIC0+IG9ic2VydmF0aW9uLmNvZGU7CiAgICAgICAgICBzcmMgd2hlcmUgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgICAgIGNkYVRleHQgLT4gb2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgICB9ImNkYVRleHQiOwogICAgICB9IndoZXJlIjsKCiAgc3JjLmVudHJ5IGFzIGVudHJ5MSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgIGVudHJ5MS5vYnNlcnZhdGlvbiBhcyBvYnMgdGhlbiBPYnNlcnZhdGlvbihvYnMsIHBhdGllbnQgLGVuYyAsb2JzZXJ2YXRpb24sIGJ1bmRsZSkgImFjdCI7CiAgfSJlbnRyeSI7CgogIC8vc3JjIHRoZW4gIENsaW5pY2FsRG9jdW1lbnRTb3R0b1NlY3Rpb25PQlMoc3JjLCB0Z3QsIGJ1bmRsZSxlbmMpICJEZWNvcnNvIjsKCn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uUmlzY29udHJpKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCksIHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsgICAgICAgICAgCiAgICBzcmMuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgc3JjIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgIHNyYy0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgIHNyYy0+b2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgIHNyYy0+b2JzZXJ2YXRpb24uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICAgIGNkYVRleHQtPm9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgfSJyZWZlcmVuY2UiOwogIH0gImNkYVRleHQiOwogIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgY29tcG9uZW50LnNlY3Rpb24gYXMgc2VjdGlvbjIgdGhlbnsKICAgICAgc3JjIHRoZW4gIENsaW5pY2FsRG9jdW1lbnRTb3R0b1NlY3Rpb25PQlMoc2VjdGlvbjIsIHRndCwgYnVuZGxlLGVuYyxwYXRpZW50KSAiRGVjb3JzbyI7CiAgICB9IjEiOwogIH0iMiI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uQ29uc3VsZW56YShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgfSAiY2RhVGV4dCI7ICAKICB9ImV4aXN0IjsKCiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgIHNyYyAtPiBvYnNlcnZhdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgc3JjIC0+IG9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgIHNyYy5jb2RlIC0+IG9ic2VydmF0aW9uLmNvZGU7CiAgICAgICAgICBzcmMgd2hlcmUgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgICAgIGNkYVRleHQgLT4gb2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgICB9ImNkYVRleHQiOwogICAgICB9IndoZXJlIjsKCiAgc3JjLmVudHJ5IGFzIGVudHJ5MSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgIGVudHJ5MS5vYnNlcnZhdGlvbiBhcyBvYnMgdGhlbiBPYnNlcnZhdGlvbkNvbnN1bGVuemEob2JzLCBwYXRpZW50ICxlbmMgLG9ic2VydmF0aW9uLCBidW5kbGUpICJhY3QiOwogIH0iZW50cnkiOwoKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Fc2FtaUVzZWd1aXRpUmljb3Zlcm8oc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkgdGhlbnsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgIH0gImNkYVRleHQiOyAgCiAgfSJleGlzdHMiOwoKICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgc3JjIC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBzcmMgLT4gb2JzZXJ2YXRpb24uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgIHNyYy0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgY2RhVGV4dCAtPiBvYnNlcnZhdGlvbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgIH0iY2RhVGV4dCI7CiAgICAgIH0id2hlcmUiOwoKICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgZW50cnkxLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIE9ic2VydmF0aW9uRXNhbWlEdXJhbnRlUmljb3Zlcm8ob2JzLCBwYXRpZW50ICxlbmMgLG9ic2VydmF0aW9uLCBidW5kbGUpICJhY3QiOwogIH0iZW50cnkiOwoKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25Qcm9jZWR1cmVFc2VndWl0ZVJpY292ZXJvKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpIHRoZW57CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgICBjZGFUZXh0IC0+IGZoaXJUZXh0LnN0YXR1cyA9ICdnZW5lcmF0ZWQnICJuYXJyYXRpdmVTdGF0dXMiOwogICAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgICB9ICJjZGFUZXh0IjsgIAogIH0iZXhpc3RzIjsKIAogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1Byb2NlZHVyZScpIGFzIHByb2NlZHVyZSwgIHByb2NlZHVyZS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycgKyAlcHJvY2VkdXJlLmlkKSB0aGVuIHsKICAgICAgc3JjIC0+IHByb2NlZHVyZS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgc3JjIC0+IHByb2NlZHVyZS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgICAgICAgIAogICAgICBzcmMtPnByb2NlZHVyZS5zdGF0dXMgPSd1bmtub3duJyJzdGF0dXNjb2RlIjsKICAgICAgY2RhVGV4dCAtPiBwcm9jZWR1cmUubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgICB9InJlZmVyZW5jZSI7CiAgICB9ImNkYVRleHQiOwogIH0id2hlcmUiOyAgCgogIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJvY2VkdXJlJykgYXMgcHJvY2VkdXJlLCAgcHJvY2VkdXJlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ1Byb2NlZHVyZScsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJyArICVwcm9jZWR1cmUuaWQpIHRoZW4gewogICAgc3JjIC0+IHByb2NlZHVyZS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYyAtPiBwcm9jZWR1cmUuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICBlbnRyeTEucHJvY2VkdXJlIGFzIHByb2NlZHVyZXNyYyB0aGVuewogICAgICBwcm9jZWR1cmVzcmMuY29kZSAtPiBwcm9jZWR1cmUuY29kZTsKICAgICAgcHJvY2VkdXJlc3JjLnRleHQgYXMgdHh0IC0+IHByb2NlZHVyZS5ub3RlIGFzIG5vdGUgdGhlbiB7CiAgICAgICAgdHh0LnJlZmVyZW5jZSBhcyByZWYgLT4gbm90ZS50ZXh0ID0gKHJlZi52YWx1ZSk7CiAgICAgIH0idGV4dCI7CiAgICAgIAogICAgICBwcm9jZWR1cmVzcmMgd2hlcmUgcHJvYy5zdGF0dXNDb2RlIC5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgcHJvY2VkdXJlc3JjLT5wcm9jZWR1cmUuc3RhdHVzID0ndW5rbm93bicic3RhdHVzY29kZSI7CiAgICAgIH0ic3RhdHVzIjsKICAgICAgcHJvY2VkdXJlc3JjLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2NvbXBsZXRlZCc7CiAgICAgIHByb2NlZHVyZXNyYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdpbi1wcm9ncmVzcyc7CiAgICAgIHByb2NlZHVyZXNyYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nc3RvcHBlZCc7CiAgICAgIHByb2NlZHVyZXNyYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgcHJvY2VkdXJlc3JjLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY2FuY2VsbGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J25vdC1kb25lJzsKICAgICAgcHJvY2VkdXJlc3JjLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0naGVsZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgcHJvY2VkdXJlc3JjLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nbmV3JykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J3ByZXBhcmF0aW9uJzsKICAgICAgcHJvY2VkdXJlc3JjLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nb2Jzb2xldGUnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nZW50ZXJlZC1pbi1lcnJvcic7CiAgICAgIHByb2NlZHVyZXNyYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J251bGxpZmllZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSd1bmtub3duJzsKICAgICAgcHJvY2VkdXJlc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmdCAtPiBwcm9jZWR1cmUucGVyZm9ybWVkID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmZ0LHBlcmlvZCk7CiAgICAgIHByb2NlZHVyZXNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaVJlbCAtPiAgYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBwcm9jZWR1cmUucmVhc29uUmVmZXJlbmNlICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW57CiAgICAgICAgZW50cmlSZWwtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgIGVudHJpUmVsLT5vYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgZW50cmlSZWwub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57CiAgICAgICAgICBvYnMuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgb2JzIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgIG9icy0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7ICAgICAgICAgICAKICAgICAgICB9Ik9ic2VydmF0aW9uVmFsdWUiOwogICAgICB9Ik9ic2VydmF0aW9uIjsgCiAgICB9IlByb2NlZHVyZSI7CiAgfSJFbnRyeSI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uQWxsZXJnaWUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIAogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkgdGhlbnsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgIH0gImNkYVRleHQiOyAgCiAgfSJleGlzdHMiOwoKICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdBbGxlcmd5SW50b2xlcmFuY2UnKSBhcyBhbGxlcmd5LCAgYWxsZXJneS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9BbGxlcmd5SW50b2xlcmFuY2UvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdBbGxlcmd5SW50b2xlcmFuY2UnLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiB7CiAgICAgIHNyYyAtPiBhbGxlcmd5LnBhdGllbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBzcmMgLT4gYWxsZXJneS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgc3JjIC0+IGFsbGVyZ3kuY2xpbmljYWxTdGF0dXMgPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIHN0YXR1cyB0aGVuIHsKICAgICAgICBzcmMgLT4gc3RhdHVzLnRleHQgPSAnc3RyaW5nJyAidGV4dCI7CiAgICAgICAgc3JjIC0+IHN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuewogICAgICAgICAgc3JjIC0+IGNvZGluZy5jb2RlID0gJ2FjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgIHNyYyAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwnInN5c3RlbSI7CiAgICAgICAgfSJjb2RpbmciOwogICAgICB9ImFsbGVyZ3kiOwogICAgICAgIHNyYy5jb2RlIC0+IGFsbGVyZ3kuY29kZTsKICAgICAgICBjZGFUZXh0IC0+IGFsbGVyZ3kubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgfSJjZGFUZXh0IjsKICB9IndoZXJlIjsgIAoKCiAgc3JjLmVudHJ5IGFzIGVudHJ5MSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdBbGxlcmd5SW50b2xlcmFuY2UnKSBhcyBhbGxlcmd5LCAgYWxsZXJneS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9BbGxlcmd5SW50b2xlcmFuY2UvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdBbGxlcmd5SW50b2xlcmFuY2UnLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiB7CiAgICBzcmMgLT4gYWxsZXJneS5wYXRpZW50PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYyAtPiBhbGxlcmd5LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOwogICAgZW50cnkxLmFjdCBhcyBhY3RhbGxpbnQgdGhlbiB7CiAgYWN0YWxsaW50LmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IGFsbGVyZ3kub25zZXQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlciB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXIpOwogIGFjdGFsbGludC5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeWFjdCB0aGVuIHsKICAgIGVudHJ5YWN0Lm9ic2VydmF0aW9uIGFzIGVudHJ5b2JzIHRoZW4gewogICAgICBlbnRyeW9icy52YWx1ZSBhcyBjb2RlIHRoZW57CiAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUxLT4gYWxsZXJneS50eXBlID0gdHJhbnNsYXRlKGNvZGUxLCcjQWxsZXJneVR5cGVNYXAnLCdjb2RlJykgInR5cGUiOwogICAgICAgIGNvZGUuY29kZSBhcyBjb2RlMiAtPiBhbGxlcmd5LmNhdGVnb3J5ID0gdHJhbnNsYXRlKGNvZGUyLCcjQWxsZXJneUNhdGVnb3J5TWFwJywnY29kZScpICJjYXRlZ29yeSI7ICAKICAgICAgfSJjb2RlIjsKICAgIAogICAgICBlbnRyeW9icy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWMgdGhlbiB7CiAgICAgICAgcGFydGljLnBhcnRpY2lwYW50Um9sZSBhcyBwcmF0Um9sZSB0aGVuIHsKICAgICAgICAgICBwcmF0Um9sZS5wbGF5aW5nRW50aXR5IGFzIHByYXRlbnQgdGhlbiB7CiAgICAgICAgICAgICAgIHByYXRlbnQgLT4gYWxsZXJneS5yZWFjdGlvbiA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgcHJhdGVudC5jb2RlIC0+IHJlYWN0aW9uLnN1YnN0YW5jZSAic3VicyI7CiAgICAgICAgICAgZW50cnlvYnMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlvYnMxIHdoZXJlICh0eXBlQ29kZT0nTUZTVCcpIHRoZW4gewogICAgICAgICAgIGVudHJ5b2JzMS5vYnNlcnZhdGlvbiBhcyBlbnRvYnMgdGhlbiB7CiAgICAgICAgICAgICBlbnRvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmYgIHRoZW57CiAgICAgICAgICAgIGVmZi5sb3cgYXMgbCAtPiByZWFjdGlvbi5vbnNldCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUobCxzdGFydCkgInZhbCI7CiAgICAgICAgICAgIH0iZWZmIjsKICAgICAgICAgICAgZW50b2JzLnZhbHVlLT5yZWFjdGlvbi5tYW5pZmVzdGF0aW9uICJtYW5pZmVzdCI7CiAgICAgICAgICAgICAgICAgICAgIH0ib2JzZXJ2IjsKICAgICAgICAgICAgICAgICAgIH0iZW50cnkiOwogICAgICAgICAgICAgICB9ImNvZCI7ICAKICAgICAgICAgIH0icmVhY3QiOwogICAgICAgIH0icHJhdGVudGl0IjsKICAgICAgIH0iUHJhdFJvbGUiOwoKICAgICAgIGVudHJ5b2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5b2JzMiB0aGVuIHsKICAgICAgICBlbnRyeW9iczIub2JzZXJ2YXRpb24gYXMgZW50b2JzIHRoZW4gewogICAgICAgICAgZW50b2JzLmNvZGUgYXMgY29kZSB3aGVyZSAoY29kZT0nU0VWJykgdGhlbiB7CiAgICAgICAgICBlbnRvYnMudmFsdWUgYXMgdmFsdWUgdGhlbnsKICAgICAgICAgICAgIHZhbHVlLmNvZGUgd2hlcmUodmFsdWUuY29kZSA9ICdNJykgLT5hbGxlcmd5LmNyaXRpY2FsaXR5ID0gJ3VuYWJsZS10by1hc3Nlc3MnImFjdGl2ZSI7CiAgICAgICAgICAgICB2YWx1ZS5jb2RlIHdoZXJlKHZhbHVlLmNvZGUgPSAnTCcpIC0+YWxsZXJneS5jcml0aWNhbGl0eSA9ICdsb3cnImFjdGl2ZSI7IAogICAgICAgICAgICAgdmFsdWUuY29kZSB3aGVyZSh2YWx1ZS5jb2RlID0gJ0gnKSAtPmFsbGVyZ3kuY3JpdGljYWxpdHkgPSAnaGlnaCciYWN0aXZlIjsgCiAgICAgICAgICAgICAgfSJlbnRvYnMiOwogICAgICAgICAgICAgfSAic2V2IjsKICAgICAgICAgICAgfSJzZXZlcml0eSI7CiAgICAgICAgICB9Im9ic2VydiI7CiAgICAgICAKCiAgICAgICBlbnRyeW9icy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeW9iczMgdGhlbiB7CiAgICAgICAgZW50cnlvYnMzLm9ic2VydmF0aW9uIGFzIGVudG9icyB0aGVuIHsKICAgICAgICAgIGVudG9icy5jb2RlIGFzIGNvZGUgd2hlcmUgKGNvZGU9JzMzOTk5LTQnKSB0aGVuIHsKICAgICAgICAgICBlbnRvYnMgLT4gYWxsZXJneS5jbGluaWNhbFN0YXR1cyA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgc3RhdHVzIHRoZW4gewogICAgICAgICAgIGVudG9icyAgLT4gc3RhdHVzLmNvZGluZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgIGVudG9icy52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgdmFsdWUuY29kZSAgd2hlcmUgKHZhbHVlLmNvZGUgPSAnTEExNjY2Ni0yJyktPiBjb2RpbmcuY29kZSA9ICdhY3RpdmUnImFjdGl2ZSI7CiAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlICB3aGVyZSAodmFsdWUuY29kZSA9ICdMQTE4NjMyLTInKS0+IGNvZGluZy5jb2RlID0gJ2luYWN0aXZlJyJhY3RpdmUiOwogICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgIH0idmFsdWUxIjsKICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgfSJjbGluaWNhbFN0YXR1cyI7CiAgICAgICAgICAgIH0ic3RhdCI7CiAgICAgICAgICB9Im9ib2JzM3NlcnYiOwogICAgICAgfSJlbnRyeTMiOwoKICAgICAgICBlbnRyeW9icy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeW9iczQgdGhlbiB7CiAgICAgICAgIGVudHJ5b2JzNC5hY3QgYXMgZW50YWN0IHRoZW4gewogICAgICAgICAgZW50YWN0LnRleHQgYXMgYWN0ZXh0IHRoZW4gewogICAgICAgICAgICAgIGFjdGV4dC5yZWZlcmVuY2UgYXMgcmVmdHh0IC0+IGFsbGVyZ3kubm90ZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgbm90ZSAgdGhlbiB7CiAgICAgICAgICAgICAgcmVmdHh0IGFzIHJlZi0+bm90ZS50ZXh0PSAocmVmLnZhbHVlKSAibm90eHQiOwogICAgICAgICAgICAgICAgfSJub3RldHh0IjsKICAgICAgICAgICAgICB9InR4dGFjdCI7CiAgICAgICAgICB9Im9ib2JzNHNlcnYiOwogICAgICAgfSJlbnRyeTQiOwoKICAgICAgICAgfSJwYXJ0aWMiOwogICAgICAgIH07CiAgICAgICB9OwogICAgICB9ImFsbGVyZ3kiOwp9Cgpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRpYWdub3NpRGltaXNzaW9uZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgfSAiY2RhVGV4dCI7ICAKICB9ImV4aXN0cyI7CgogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgc3JjIC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBzcmMgLT4gb2JzZXJ2YXRpb24uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgIHNyYy0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgY2RhVGV4dCAtPiBvYnNlcnZhdGlvbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgIH0iY2RhVGV4dCI7CiAgICAgIH0id2hlcmUiOwoKICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgIGVudHJ5MS5vYnNlcnZhdGlvbiBhcyBvYnMgdGhlbiBPYnNlcnZhdGlvbihvYnMsIHBhdGllbnQgLGVuYyAsb2JzZXJ2YXRpb24sIGJ1bmRsZSkgImFjdCI7CiAgfSJlbnRyeSI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uSXN0cnV6aW9uaUZvbGxvd1VwKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICB9ICJjZGFUZXh0IjsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ0NhcmVQbGFuJykgYXMgY2FyZVBsYW4sICBjYXJlUGxhbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9DYXJlUGxhbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0NhcmVQbGFuJywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0NhcmVQbGFuLycgKyAlY2FyZVBsYW4uaWQpIHRoZW4gewogICAgY2RhVGV4dC0+IGNhcmVQbGFuLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICB9InJlZmVyZW5jZSI7CiAgICBzcmMtPiBjYXJlUGxhbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgc3JjLT4gY2FyZVBsYW4uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICBzcmMgLT4gY2FyZVBsYW4uc3RhdHVzPSdhY3RpdmUnInN0YXR1cyI7CiAgICBzcmMgLT4gY2FyZVBsYW4uaW50ZW50PSdvcmRlciciaW50ZW50IjsKICB9ImVudHJ5IjsKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRmFybWFjb2xvZ2ljYUR1cmFudGVSaWNvdmVybyhzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgfSAiY2RhVGV4dCI7ICAKICB9ImV4aXN0cyI7CgogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicpIGFzIG1lZGljYXRpb25BZG0sICBtZWRpY2F0aW9uQWRtLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25BZG1pbmlzdHJhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24vJyArICVtZWRpY2F0aW9uQWRtLmlkKSB0aGVuIHsKICAgICAgY2RhVGV4dC0+bWVkaWNhdGlvbkFkbS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgICBjZGFUZXh0LT5tZWRpY2F0aW9uQWRtLmNvbnRleHQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgY2RhVGV4dC0+bWVkaWNhdGlvbkFkbS5tZWRpY2F0aW9uID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjb2RlY29uIHRoZW57CiAgICAgICAgY2RhVGV4dCAtPiBjb2RlY29uLnRleHQgPSAnc3RyaW5nJyAidGV4dCI7CiAgICAgIH0iY29kZSI7CiAgICAgIHNyYyAtPm1lZGljYXRpb25BZG0uZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICBzcmMtPnBlcmlvZC5zdGFydD0oc3RhcnQubm93KCkpImxvdyI7CiAgICAgICAgc3JjLT5wZXJpb2QuZW5kPShlbmQubm93KCkpImhpZ2giOwogICAgICAgIH0iUGVyaW9kIjsKICAgICAgICBzcmMgd2hlcmUgc3ViLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICBzcmMtPm1lZGljYXRpb25BZG0uc3RhdHVzID0nY29tcGxldGVkJyJzdGF0dXMiOwogICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgY2RhVGV4dCAtPiBtZWRpY2F0aW9uQWRtLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgfSJyZWZlcmVuY2UiOwogICAgfSJjZGFUZXh0IjsKICB9IndoZXJlIjsgIAoKICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicpIGFzIG1lZGljYXRpb25BZG0sICBtZWRpY2F0aW9uQWRtLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25BZG1pbmlzdHJhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24vJyArICVtZWRpY2F0aW9uQWRtLmlkKSB0aGVuIHsKICAgIGVudHJ5MS0+bWVkaWNhdGlvbkFkbS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgZW50cnkxLT5tZWRpY2F0aW9uQWRtLmNvbnRleHQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgZW50cnkxLnN1YnN0YW5jZUFkbWluaXN0cmF0aW9uIGFzIHNhIHRoZW57CiAgICAgICAgICAgICAgICBzYS50ZXh0IGFzIHR4IC0+IG1lZGljYXRpb25BZG0ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgIHNhLnBlcmZvcm1lciBhcyBwZXJmb3JtZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICBwZXJmb3JtZXIudGltZSBhcyB0aSAtPiBub3RlLnRpbWUgPSAodGkudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBhc3NFbnR5IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBhc3NFbnR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBhc3NFbnR5LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGFzc0VudHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzRW50eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9UZXJhcGlhRmFybWFjb2xvZ2ljYVJpY292ZXJvL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICBhc3NFbnR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsgCiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyJywgbWVkaWNhdGlvbkFkbS5wZXJmb3JtZXIgYXMgcGVyZiwgIHBlcmYuYWN0b3IgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSJhdXQiOwogICAgICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgYXNzRW50eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICAgICAgYXNzRW50eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICAgICAgICAgICAgICBhc3NFbnR5LmFzc2lnbmVkUGVyc29uIGFzIGFzc2kgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2kubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICAgIH0iYXNzaSI7CiAgICAgICAgICAgICAgICAgICAgfSJhc3NFbnRpdHkiOwogICAgICAgICAgICAgICAgICB9InBlcmYiOwogICAgICAgICAgICAgIHR4LnJlZmVyZW5jZSBhcyByZWYgLT4gbm90ZS50ZXh0ID0gKHJlZi52YWx1ZSk7CiAgICAgICAgICAgIH0idHgiOyAKICAgICAgc2Euc3RhdHVzQ29kZSBhcyBzdCAtPiBtZWRpY2F0aW9uQWRtLnN0YXR1cyA9IChzdC5jb2RlKTsKICAgICAgc2EuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gbWVkaWNhdGlvbkFkbS5lZmZlY3RpdmUgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpICJwZXJpb2QiOwogICAgICAKICAgICAgc2EgLT4gIG1lZGljYXRpb25BZG0uZG9zYWdlIGFzIGRvcyB0aGVuIHsKICAgICAgICBzYS5yb3V0ZUNvZGUgLT4gZG9zLnJvdXRlOyAgICAgICAgCiAgICAgIH0iZG9zIjsKICAgICAgc2EgLT4gIG1lZGljYXRpb25BZG0uZG9zYWdlIGFzIGRvcyB0aGVuIHsKICAgICAgICBzYS5hcHByb2FjaFNpdGVDb2RlIC0+IGRvcy5zaXRlOyAgICAgICAgCiAgICAgIH0iZG9zIjsKICAgICAgCgogICAgICBzYS5kb3NlUXVhbnRpdHkgYXMgZG9zZVF1YW50IC0+ICBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uUmVxdWVzdCcpIGFzIG1lZGljYXRpb25ScSwgIG1lZGljYXRpb25ScS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25SZXF1ZXN0JywgbWVkaWNhdGlvbkFkbS5yZXF1ZXN0ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycgKyAlbWVkaWNhdGlvblJxLmlkKSB0aGVuewogICAgICAgIGRvc2VRdWFudCAtPiBtZWRpY2F0aW9uUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZUluc3RydWN0aW9uIHRoZW57CiAgICAgICAgICBkb3NlUXVhbnQub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgIG90LnJlZmVyZW5jZSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi50ZXh0OwogICAgICAgICAgfSJvdCI7CiAgICAgICAgICBkb3NlUXVhbnQgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24uZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICBkb3NlUXVhbnQgLT4gZG9zYWdlUmF0ZS5kb3NlID0gY3JlYXRlKCdSYW5nZScpIGFzIGQgdGhlbnsKICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgZG9zZVF1YW50LmxvdyBhcyBsbyAtPiBsLnZhbHVlID0gKGxvLnZhbHVlKTsgCiAgICAgICAgICAgICAgICBkb3NlUXVhbnQubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkLmhpZ2ggPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgaCB0aGVuewogICAgICAgICAgICAgICAgZG9zZVF1YW50LmhpZ2ggYXMgaGkgLT4gaC52YWx1ZSA9IChoaS52YWx1ZSk7CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnVuaXQgPSAoaGkudW5pdCk7IAogICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgfSJkIjsKICAgICAgICAgIH0iZG9zYWdlUmF0ZSI7CiAgICAgICAgfSJEb3NhZ2UiOwogICAgICAgIHNhLT4gbWVkaWNhdGlvblJxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgc2EtPiBtZWRpY2F0aW9uUnEuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgc2EgLT4gbWVkaWNhdGlvblJxLnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICAgIHNhIC0+IG1lZGljYXRpb25ScS5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOwogICAgICAgIHNhLnJhdGVRdWFudGl0eSBhcyByYXRlUXVhbnRpdHkgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2VJbnN0cnVjdGlvbjEgdGhlbnsKICAgICAgICAgIHJhdGVRdWFudGl0eS5vcmlnaW5hbFRleHQgYXMgb3QgdGhlbnsKICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZUluc3RydWN0aW9uMS50ZXh0OwogICAgICAgICAgfSJvdCI7CiAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24xLmRvc2VBbmRSYXRlIGFzIGRvc2FnZVJhdGUgdGhlbnsKICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGRvc2FnZVJhdGUucmF0ZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyBkIHRoZW57CiAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGwgdGhlbnsKICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5sb3cgYXMgbG8gLT4gbC52YWx1ZSA9IChsby52YWx1ZSk7IAogICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmxvdyBhcyBsbyAtPiBsLnVuaXQgPSAobG8udW5pdCk7IAogICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZC5oaWdoID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGggdGhlbnsKICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5oaWdoIGFzIGhpIC0+IGgudmFsdWUgPSAoaGkudmFsdWUpOwogICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmhpZ2ggYXMgaGkgLT4gaC51bml0ID0gKGhpLnVuaXQpOyAKICAgICAgICAgICAgICB9ImxvdyI7CiAgICAgICAgICAgIH0iZCI7CiAgICAgICAgICB9ImRvc2FnZVJhdGUiOwogICAgICAgIH0iRG9zYWdlIjsKCiAgICAgICAKICAgICAgICBzYSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uJykgYXMgbWVkaWNhdGlvbiwgIG1lZGljYXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb24nLCBtZWRpY2F0aW9uQWRtLm1lZGljYXRpb24gID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbi8nICsgJW1lZGljYXRpb24uaWQpIHRoZW57CiAgICAgICAgc2EtPiBtZWRpY2F0aW9uUnEubWVkaWNhdGlvbj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycgKyAlbWVkaWNhdGlvbi5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICBzYS5hZG1pbmlzdHJhdGlvblVuaXRDb2RlIC0+IG1lZGljYXRpb24uZm9ybTsKICAgICAgICAgIHNhLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuIHsKICAgICAgICAgICAgY29uc3VtYWJsZS5tYW51ZmFjdHVyZWRQcm9kdWN0IGFzIG1hbnVmYWMgdGhlbnsKICAgICAgICAgICAgICAgIG1hbnVmYWMubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudXByb2QgdGhlbnsKICAgICAgICAgICAgICAgICAgbWFudXByb2QuY29kZSAtPiBtZWRpY2F0aW9uLmNvZGU7CiAgICAgICAgICAgICAKICAgICAgICAgIH0ibWFudWZhY3Rwcm9kdWN0IjsgCiAgICAgICAgfSJtYW51ZmFjIjsKICAgICAgfSJjb25zdW1hYmxlIjsKCiAgICAgICAgICBzYS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJSIHRoZW57CiAgICAgICAgICAgIGVudHJ5UlIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nR3JhbW1hdHVyYScgLT4gbWVkaWNhdGlvbi5pbmdyZWRpZW50IGFzIGluZ3JlZGllbnQgdGhlbnsKICAgICAgICAgICAgICAgICAgICBzYS5jb25zdW1hYmxlIGFzIGNvbnN1bWFibGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWZhY3R1cmVkUHJvZHVjdC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51ZmFjdHVyZWRNYXRlcmlhbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51ZmFjdHVyZWRNYXRlcmlhbC5jb2RlIGFzIGNvZGUgLT4gaW5ncmVkaWVudC5pdGVtID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyB2YWx1ZSB0aGVuIENFQ29kZWFibGVDb25jZXB0KGNvZGUsdmFsdWUpICJDRSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJtYXRlcmlhbCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9InByb2R1Y3QiOwogICAgICAgICAgICAgICAgICAgICAgICB9ImNvbnN1bWFibGUiOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBpbmdyZWRpZW50LnN0cmVuZ3RoIGFzIHN0cmVuZ3RoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBzdHJlbmd0aC5udW1lcmF0b3IgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gbnVtZXJhdG9yLnZhbHVlID0gKHZhbHVlLnZhbHVlKSAidmFsdWVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBzdHJlbmd0aC5kZW5vbWluYXRvciBhcyBkZW5vbWluYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IGRlbm9taW5hdG9yLnZhbHVlID0gMSAidmFsdWVEIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgICAgICAgIH0ic3RyZW5naHQiOwogICAgICAgICAgICAgICAgICAgIH0iaW5ncmVkaWVudCI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nUXVhbnRpdMOgIG5lbGxhIENvbmZlemlvbmUnIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IG1lZGljYXRpb24uYW1vdW50IGFzIGFtb3VudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gYW1vdW50Lm51bWVyYXRvciAgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gbnVtZXJhdG9yLnZhbHVlID0gKHZhbHVlLnZhbHVlKSAidmFsdWVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBhbW91bnQuZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBkZW5vbWluYXRvci52YWx1ZSA9IDEgInZhbHVlRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJkZW5vbWluYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iYW1vdW50IjsKICAgICAgICAgICAgICAgICAgfSJxdWFudGl0YSI7CiAgICAgICAgICAgICAgfSJvYnMiOwogICAgICAgICAgfSJlbnRyeVJyIjsKCiAgICAgICAgfSJtZWRpY2F0aW9uIjsKICAgICAgICAgIHNhLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5zdXBwbHkgYXMgc3VwIC0+IG1lZGljYXRpb25ScS5kaXNwZW5zZVJlcXVlc3QgYXMgZGlzcHJlcSB0aGVuIHsgICAgICAgICAgICAgIAogICAgICAgICAgICAgIHN1cCAtPiBkaXNwcmVxLnF1YW50aXR5ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIHF1YW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICBzdXAucXVhbnRpdHkgYXMgcSAtPiBxdWFudGl0eS52YWx1ZSA9IChxLnZhbHVlKTsKICAgICAgICAgICAgICB9InF1YW50aXR5IjsgICAgICAgICAgICAgIAogICAgICAgICAgICB9InN1YiI7ICAgICAgICAgICAKICAgICAgICAgIH0iZW50cnlSIjsKICAgICAgCiAgICAgIHNhLnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IHRoZW4gewogICAgICAgIHBhcnRpY2lwYW50LnRpbWUgYXMgdCAtPiBtZWRpY2F0aW9uUnEuYXV0aG9yZWRPbiA9ICh0LnZhbHVlKTsgICAgIAogICAgICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgIHRoZW57CiAgICAgICAgICBwYXJ0aWNpcGFudFItPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIHBhcnRpY2lwYW50Ui0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBwYXJ0aWNpcGFudFIgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgcGFydGljaXBhbnRSIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L1RlcmFwaWFGYXJtYWNvbG9naWNhUmljb3Zlcm8vcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgcGFydGljaXBhbnRSLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsgCiAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDEpICxtZWRpY2F0aW9uUnEucmVxdWVzdGVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkiYXV0IjsKICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgIHBhcnRpY2lwYW50Ui5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgcGFydGljaXBhbnRSLnBsYXlpbmdFbnRpdHkgYXMgYXNzaSB0aGVuIHsKICAgICAgICAgICAgICAgICAgYXNzaS5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgfSJhc3NpIjsKICAgICAgICAgICAgfSJwZXJmIjsKICAgICAgIAogICAgICAgIHNhLmVmZmVjdGl2ZVRpbWU6IEVJVkwgYXMgZWZmIC0+IG1lZGljYXRpb25ScS5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICBlZmYgLT4gZG9zYWdlLnRpbWluZyA9IGNyZWF0ZSgnVGltaW5nJykgYXMgdGltaW5nIHRoZW4gewogICAgICAgICAgICBlZmYgLT4gdGltaW5nLnJlcGVhdCBhcyByZXAgdGhlbiB7CiAgICAgICAgICAgICAgZWZmLmV2ZW50IGFzIGV2IC0+IHJlcC53aGVyZSA9IChldi5jb2RlKTsKICAgICAgICAgICAgfSJyZXAiOwogICAgICAgICAgfSJ0aW1pbmciOwogICAgICAgIH0icGVyaW9kIjsKICAKICAgICAgICBzYS5lZmZlY3RpdmVUaW1lOiBUUyBhcyBlZmYgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UsIGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZywgdGltaW5nLmV2ZW50ID0gKGVmZi52YWx1ZSkgInRpbSI7CiAgCiAgICAgICAgICAKICAgICAgICBzYS5lZmZlY3RpdmVUaW1lOiBQSVZMX1RTIGFzIGVmZiAtPiBtZWRpY2F0aW9uQWRtLmRvc2FnZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICBlZmYgLT4gZG9zYWdlLnJhdGUgPSBjcmVhdGUoJ1JhdGlvJykgYXMgcmF0aW8gdGhlbnsKICAgICAgICAgICAgZWZmIC0+IHJhdGlvLm51bWVyYXRvciA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFuIHRoZW57CiAgICAgICAgICAgICAgZWZmLnBlcmlvZCBhcyBwZXIgLT4gIHF1YW4udmFsdWUgPSAocGVyLnZhbHVlKTsKICAgICAgICAgICAgICBlZmYucGVyaW9kIGFzIHBlciAtPiAgcXVhbi51bml0ID0gKHBlci51bml0KTsKICAgICAgICAgICAgfSJxdWFudGkiOwogICAgICAgICAgICBlZmYgLT4gcmF0aW8uZGVub21pbmF0b3IgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbiB0aGVuewogICAgICAgICAgICAgIGVmZi5wZXJpb2QgLT4gIHF1YW4udmFsdWUgPSAnMSc7CiAgICAgICAgICAgICAgZWZmLnBlcmlvZCBhcyBwZXIgLT4gIHF1YW4udW5pdCA9IChwZXIudW5pdCk7CiAgICAgICAgICAgIH0icXVhbnRpIjsKICAgICAgICAgIH0icmF0aW8iOwogICAgICAgIH0iZWZmIjsgICAgIAoKICAgICAgfSJNZWRpY2F0aW9ucmVxdWVzdCI7CiAgICB9InNhIjsKCiAgfSJlbnRyeSI7Cn0ic2EiOwoKfQoKCgoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNvdHRvU2VjdGlvbk9CUyhzb3VyY2Ugc3JjIDogU2VjdGlvbiwgIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIgLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIHNyYy50ZXh0IGFzIGNkYVRleHQgLT5idW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCksIHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgCiAgICBzcmMuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgc3JjLT5vYnNlcnZhdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYy0+b2JzZXJ2YXRpb24uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICBzcmMgd2hlcmUgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgc3JjLT5vYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgfSJzdGF0dXNjb2RlIjsKICAgIGNkYVRleHQtPm9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7ICAgICAgCiAgICB9InJlZmVyZW5jZSI7CiAgfSAiY2RhVGV4dCI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTb3R0b1NlY3Rpb25NUyhzb3VyY2Ugc3JjIDogU2VjdGlvbiwgIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCx0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25TdGF0ZW1lbnQnKSBhcyBNZWRpY2F0aW9uc3RhdGVtZW50LCAgTWVkaWNhdGlvbnN0YXRlbWVudC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uU3RhdGVtZW50LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblN0YXRlbWVudCcsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uU3RhdGVtZW50LycgKyAlTWVkaWNhdGlvbnN0YXRlbWVudC5pZCksIHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dC0+TWVkaWNhdGlvbnN0YXRlbWVudC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgICBjZGFUZXh0IGFzIHQtPiBNZWRpY2F0aW9uc3RhdGVtZW50Lm1lZGljYXRpb249IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgbWVkaWNhdGlvbiwgbWVkaWNhdGlvbi50ZXh0PXQidGV4dCI7CiAgICB9InJlZmVyZW5jZSI7CiAgICAKICAgIHNyYy0+TWVkaWNhdGlvbnN0YXRlbWVudC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIAoKICAgICBzcmMtPk1lZGljYXRpb25zdGF0ZW1lbnQuc3RhdHVzID0ndW5rbm93bicic3RhdHVzIjsKICAgIAogIH0gImNkYVRleHQiOwp9CgoKZ3JvdXAgT2JzZXJ2YXRpb24gKHNvdXJjZSBvYnMgOiBPYnNlcnZhdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgb2IgOiBPYnNlcnZhdGlvbiwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSkgewoKICBvYnMtPm9iLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgb2JzLT5vYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgIAogIG9icy5jb2RlIC0+IG9iLmNvZGU7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2Iuc3RhdHVzID0nZmluYWwnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9iLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBvYi5zdGF0dXMgPSdjYW5jZWxsZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9iLnN0YXR1cyA9J3BhcnRpYWwnOwogIG9icyB3aGVyZSBvYnMuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICBvYnMtPm9iLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogIH0ic3RhdHVzY29kZSI7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKCiAgb2JzIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKSAidmFsdWUzIjsKICB9IndoZXJlIjsKCiAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9iLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgb2JzLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CiAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICB9ICJjb2RlIjsKICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgfSAidmFsdWUiOwogICAgICAgIH07CiAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOkNFIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICB9ICJjb2RlIjsKICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgfSAidmFsdWUiOwogICAgICAgIH07CiAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CgogIG9icy52YWx1ZTpQUSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICB2YWwudmFsdWUgYXMgdmFsdWUtPnF1YW50aXR5LnZhbHVlID0gdmFsdWU7CiAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgfSJxdWFudGl0eSI7CiAgfSJ2YWx1ZVF1YW50aXR5IjsKCiAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgb2JzLmludGVycHJldGF0aW9uQ29kZSAtPiBvYi5pbnRlcnByZXRhdGlvbjsKICAgIG9icy5tZXRob2RDb2RlIC0+IG9iLm1ldGhvZDsKICAgIG9icy5yZWZlcmVuY2VSYW5nZSBhcyByZWZSYW5nZSAtPiBvYi5yZWZlcmVuY2VSYW5nZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVmIHRoZW4gewogICAgICByZWZSYW5nZS5vYnNlcnZhdGlvblJhbmdlIGFzIG9ic1JhbmdlIC0+IHJlZi5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgTG93ICB0aGVuIHsKICAgICAgICAgIG9ic1JhbmdlLnZhbHVlOiBJVkxfUFEgYXMgdiAgdGhlbiB7CiAgICAgICAgICAgIHYubG93IGFzIGwxIHRoZW4gewogICAgICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlLT4gTG93LnZhbHVlID0gZGVjVmFsdWU7CiAgICAgICAgICAgICAgbDEudW5pdCBhcyBVbml0LT4gTG93LnVuaXQgPSBVbml0OwogICAgICAgICAgICB9ImRlY1ZhbHVlIjsgICAgICAgICAgCiAgICAgICAgICB9IklWTFBRIjsgICAgICAgICAgICAgICAgICAgICAgCiAgICAgIH0ib2JzUmFuZ2UiOyAgICAgICAgICAgICAgCiAgICB9InJlZlJhbmdlIjsgIAp9CgoKZ3JvdXAgT2JzZXJ2YXRpb25Db25zdWxlbnphIChzb3VyY2Ugb2JzIDogT2JzZXJ2YXRpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9iIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICAgIAogIG9icy0+b2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICBvYnMtPm9iLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAgCiAgb2JzLmNvZGUgLT4gb2IuY29kZTsKICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgb2JzIHdoZXJlIG9icy5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgb2JzLT5vYi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgIH0ic3RhdHVzY29kZSI7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyYyI7CiAgb2JzIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKSAidmFsdWUzYyI7CiAgIH0id2hlcmUiOwogIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogIG9icy52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgfSJjb2RlIjsKICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICB9InRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICB9ICJjb2RlIjsKICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgfSAidmFsdWUiOwogICAgICAgIH07CiAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CgogIG9icy52YWx1ZTpQUSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICB2YWwudmFsdWUgYXMgdmFsdWUtPnF1YW50aXR5LnZhbHVlID0gdmFsdWU7CiAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgfSJxdWFudGl0eSI7CiAgfSJ2YWx1ZVF1YW50aXR5IjsKCiAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CgogICAgb2JzLT5vYi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIG9icy0+b2IuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICBvYnMuaW50ZXJwcmV0YXRpb25Db2RlIC0+IG9iLmludGVycHJldGF0aW9uOwogICAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogICAgb2JzLnJlZmVyZW5jZVJhbmdlIGFzIHJlZlJhbmdlIC0+IG9iLnJlZmVyZW5jZVJhbmdlID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZWYgdGhlbiB7CiAgICAgIHJlZlJhbmdlLm9ic2VydmF0aW9uUmFuZ2UgYXMgb2JzUmFuZ2UgLT4gcmVmLmxvdyA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBMb3cgIHRoZW4gewogICAgICAgICAgb2JzUmFuZ2UudmFsdWU6IElWTF9QUSBhcyB2ICB0aGVuIHsKICAgICAgICAgICAgdi5sb3cgYXMgbDEgdGhlbiB7CiAgICAgICAgICAgICAgbDEudmFsdWUgYXMgZGVjVmFsdWUtPiBMb3cudmFsdWUgPSBkZWNWYWx1ZTsKICAgICAgICAgICAgICBsMS51bml0IGFzIFVuaXQtPiBMb3cudW5pdCA9IFVuaXQ7CiAgICAgICAgICAgIH0iZGVjVmFsdWUiOyAgICAgICAgICAKICAgICAgICAgIH0iSVZMUFEiOyAgICAgICAgICAgICAgICAgICAgICAKICAgICAgfSJvYnNSYW5nZSI7ICAgICAgICAgICAgICAKICAgIH0icmVmUmFuZ2UiOyAgCgoKICAgIG9icy5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxIHRoZW57CiAgICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBhc3NFbnRpdHkgdGhlbiB7CgogICAgICAgIGFzc0VudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc0VudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgYXNzRW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBhc3NFbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvQ29uc3VsZW56YS9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CgogICAgICAgIGFzc0VudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsgCiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgb2IucGVyZm9ybWVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkiYXV0IjsKICAgICAgICAgIH0iciI7CiAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgIGFzc0VudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBhc3NFbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgYXNzaSB0aGVuIHsKICAgICAgICAgIGFzc2kubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICB9ImFzc2kiOwogICAgICB9ImFzc0VudGl0eSI7CiAgICB9InBlcmYiOwoKICAgIG9icy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWNpcGFudCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdTZXJ2aWNlUmVxdWVzdCcpIGFzIHNlcnZpY2VSZXF1ZXN0LCAgc2VydmljZVJlcXVlc3QuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdTZXJ2aWNlUmVxdWVzdCcsIG9iLmJhc2VkT24gID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlUmVxdWVzdC5pZCkgdGhlbnsKICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0IC0+IHNlcnZpY2VSZXF1ZXN0LmF1dGhvcmVkT24gPSAodC52YWx1ZSk7CiAgICAgIG9icy0+c2VydmljZVJlcXVlc3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgb2JzLT5zZXJ2aWNlUmVxdWVzdC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgICAgb2JzIC0+IHNlcnZpY2VSZXF1ZXN0LnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICBvYnMgLT4gc2VydmljZVJlcXVlc3QuaW50ZW50PSdvcmRlciciaW50ZW50IjsKICAgICAgcGFydGljaXBhbnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRpY2lwYW50Um9sZSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuewogICAgICAgIHBhcnRpY2lwYW50Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvQ29uc3VsZW56YS9wYXJ0aWNpcGFudCciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKCiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OyAKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDMpLCBzZXJ2aWNlUmVxdWVzdC5wZXJmb3JtZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRW50aXR5IGFzIHBlIHRoZW57CiAgICAgICAgICBwZS5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgIH0icGUiOwogICAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgICB9InBhcnRpY2lwYW50IjsKfQoKZ3JvdXAgT2JzZXJ2YXRpb25Fc2FtaUR1cmFudGVSaWNvdmVybyAoc291cmNlIG9icyA6IE9ic2VydmF0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBvYiA6IE9ic2VydmF0aW9uLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgICAKICBvYnMtPm9iLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgb2JzLT5vYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgIAogIG9icy5jb2RlIC0+IG9iLmNvZGU7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2Iuc3RhdHVzID0nZmluYWwnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9iLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBvYi5zdGF0dXMgPSdjYW5jZWxsZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9iLnN0YXR1cyA9J3BhcnRpYWwnOwogIG9icyB3aGVyZSBvYnMuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgIG9icy0+b2Iuc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICB9InN0YXR1c2NvZGUiOwogIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMnIiOwogIG9icyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCkgInZhbHVlM3IiOwogIH0id2hlcmUiOwogIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogIG9icy52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgfSJjb2RlIjsKICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICB9InRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICB9ICJjb2RlIjsKICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgfSAidmFsdWUiOwogICAgICAgIH07CiAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CgogIG9icy52YWx1ZTpQUSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICB2YWwudmFsdWUgYXMgdmFsdWUtPnF1YW50aXR5LnZhbHVlID0gdmFsdWU7CiAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgfSJxdWFudGl0eSI7CiAgfSJ2YWx1ZVF1YW50aXR5IjsKCiAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CgogICAgb2JzLT5vYi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIG9icy0+b2IuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICBvYnMuaW50ZXJwcmV0YXRpb25Db2RlIC0+IG9iLmludGVycHJldGF0aW9uOwogICAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcik7CiAgICBvYnMucmVmZXJlbmNlUmFuZ2UgYXMgcmVmUmFuZ2UgLT4gb2IucmVmZXJlbmNlUmFuZ2UgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlZiB0aGVuIHsKICAgICAgcmVmUmFuZ2Uub2JzZXJ2YXRpb25SYW5nZSBhcyBvYnNSYW5nZSAtPiByZWYubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIExvdyAgdGhlbiB7CiAgICAgICAgICBvYnNSYW5nZS52YWx1ZTogSVZMX1BRIGFzIHYgIHRoZW4gewogICAgICAgICAgICB2LmxvdyBhcyBsMSB0aGVuIHsKICAgICAgICAgICAgICBsMS52YWx1ZSBhcyBkZWNWYWx1ZS0+IExvdy52YWx1ZSA9IGRlY1ZhbHVlOwogICAgICAgICAgICAgIGwxLnVuaXQgYXMgVW5pdC0+IExvdy51bml0ID0gVW5pdDsKICAgICAgICAgICAgfSJkZWNWYWx1ZSI7ICAgICAgICAgIAogICAgICAgICAgfSJJVkxQUSI7ICAgICAgICAgICAgICAgICAgICAgIAogICAgICB9Im9ic1JhbmdlIjsgICAgICAgICAgICAgIAogICAgfSJyZWZSYW5nZSI7ICAKCiAgICBvYnMucGVyZm9ybWVyIGFzIHBlcmZvcm1lciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMSB0aGVuewogICAgICBwZXJmb3JtZXIuYXNzaWduZWRFbnRpdHkgYXMgYXNzRW50aXR5IHRoZW4gewoKICAgICAgICBhc3NFbnRpdHktPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICBhc3NFbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGFzc0VudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgYXNzRW50aXR5IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L0VzYW1pRHVyYW50ZVJpY292ZXJvL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKCiAgICAgICAgYXNzRW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OyAKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBvYi5wZXJmb3JtZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgYXNzRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgIGFzc0VudGl0eS5hc3NpZ25lZFBlcnNvbiBhcyBhc3NpIHRoZW4gewogICAgICAgICAgYXNzaS5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgIH0iYXNzaSI7CiAgICAgIH0iYXNzRW50aXR5IjsKICAgIH0icGVyZiI7CiAgICAKICAgIG9icy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWNpcGFudCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdTZXJ2aWNlUmVxdWVzdCcpIGFzIHNlcnZpY2VSZXF1ZXN0LCAgc2VydmljZVJlcXVlc3QuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdTZXJ2aWNlUmVxdWVzdCcsIG9iLmJhc2VkT24gID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlUmVxdWVzdC5pZCkgdGhlbnsKICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0IC0+IHNlcnZpY2VSZXF1ZXN0LmF1dGhvcmVkT24gPSAodC52YWx1ZSk7CiAgICAgIG9icy0+c2VydmljZVJlcXVlc3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgb2JzLT5zZXJ2aWNlUmVxdWVzdC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgICAgb2JzIC0+IHNlcnZpY2VSZXF1ZXN0LnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICBvYnMgLT4gc2VydmljZVJlcXVlc3QuaW50ZW50PSdvcmRlciciaW50ZW50IjsKCiAgICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbnsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L0VzYW1pRHVyYW50ZVJpY292ZXJvL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwoKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7IAogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMyksIHNlcnZpY2VSZXF1ZXN0LnBlcmZvcm1lciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpImF1dCI7CiAgICAgICAgICB9InIiOwogICAgICB9ImlkZW50aWZpZXIiOwogICAgICBwYXJ0aWNpcGFudFJvbGUuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLnBsYXlpbmdFbnRpdHkgYXMgcGUgdGhlbnsKICAgICAgICAgIHBlLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgfSJwZSI7CiAgICAgIH0icGFydGljaXBhbnRSb2xlIjsKICAgfSJwYXJ0aWNpcGFudCI7Cn0KCmdyb3VwIHBlcmlvZFRpbWluZyhzb3VyY2UgZWZmZWN0aXZlVGltZTogUElWTF9UUywgdGFyZ2V0IHRpbWluZzogVGltaW5nKXsKICBlZmZlY3RpdmVUaW1lIC0+IHRpbWluZy5yZXBlYXQgYXMgciB0aGVuewogICAgZWZmZWN0aXZlVGltZS5wZXJpb2QgYXMgcCAtPiByLnBlcmlvZCA9IChwLnZhbHVlKTsgCiAgICBlZmZlY3RpdmVUaW1lLnBlcmlvZCBhcyBwIC0+IHIucGVyaW9kVW5pdCA9IChwLnVuaXQpOyAgIAogIH0icmVwZWF0IjsKfQoKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmdyb3VwIEFjdCAoc291cmNlIGNkYTogQWN0LCB0YXJnZXQgcGF0IDogUGF0aWVudCwgdGFyZ2V0IGFjIDogRGlhZ25vc3RpY1JlcG9ydCwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSl7CiAgY2RhLmNvZGUgLT4gYWMuY29kZTsKICBjZGEuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgY2RhLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgY2RhLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgY2RhLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgY2RhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBhYy5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyYSI7CiAgb2JzIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gYWMuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKSAidmFsdWUzYSI7CiAgIH0id2hlcmUiOwogIGNkYSAtPiBhYy5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlLycgKyAlcGF0LmlkKSAicmVmZXJlbmNlIjsKICBjZGEgLT4gYWMuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICBjZGEucGFydGljaXBhbnQgIGFzIHBhcnQtPiAgZW5jLnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IHRoZW57CiAgICAgcGFydCAgLT4gcGFydGljaXBhbnQudHlwZSBhcyB0eXBlIHRoZW4geyAKICAgICAgICAgIHBhcnQgLT4gdHlwZS5jb2RpbmcgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgIHBhcnQtPiBjb2RpbmcuY29kZSA9IChwYXJ0LnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgICAgcGFydC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1QYXJ0aWNpcGF0aW9uVHlwZScgInN5c3RlbSI7CiAgICAgICAgICB9ICJjb2RlVHlwZSI7IAogICAgICAgIH0idHlwZSI7CiAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgLT4gIHBhcnRpY2lwYW50LmluZGl2aWR1YWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSB0aGVuIHsKICAgICAgcGFydGljaXBhbnRSb2xlIC0+ICBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEpLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgdGhlbiB7IAoKICAgICAgcGFydGljaXBhbnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9BY3QvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgIH0iY29kaW5nIjsKICAgICAgfSJtZXRhIjsKCgogICAgICBwYXJ0aWNpcGFudFJvbGUuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRW50aXR5ICBhcyBwbGF5aW5nRW50aXR5IHRoZW57CiAgICAgICAgICBwbGF5aW5nRW50aXR5Lm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgfSJwbGF5aW5nRW50aXR5IjsKICAgICAgICAgfSJwYXJ0aWNpcGFuUm9sZUJ1bmQiOyAgCiAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgfSJwYXJ0aWNpcGFudCI7CiAgY2RhLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW4gewogICAgZW50cnlSZWxhdGlvbnNoaXAub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9icywgIG9icy5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09ic2VydmF0aW9uLycsIHV1aWQyKSwgYWMucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24scGF0LGVuYyxvYnMsYnVuZGxlKSAiT0JTIjsKICB9ImVudHJ5UmVsYXRpb25zaGlwIjsKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRGltaXNzaW9uZSAoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkgdGhlbiB7CiAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgICBjZGFUZXh0IC0+IGZoaXJUZXh0LnN0YXR1cyA9ICdnZW5lcmF0ZWQnICJuYXJyYXRpdmVTdGF0dXMiOwogICAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgICB9ICJjZGFUZXh0IjsgIAogIH0iZXhpc3QiOwoKICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uUmVxdWVzdCcpIGFzIG1lZGljYXRpb25ScSwgIG1lZGljYXRpb25ScS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25SZXF1ZXN0JywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycgKyAlbWVkaWNhdGlvblJxLmlkKSB0aGVuIHsKICAgICAgc3JjLT4gbWVkaWNhdGlvblJxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgIHNyYy0+IG1lZGljYXRpb25ScS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgc3JjIC0+IG1lZGljYXRpb25ScS5zdGF0dXM9J2FjdGl2ZScic3RhdHVzIjsKICAgICAgc3JjIC0+IG1lZGljYXRpb25ScS5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOwogICAgICBjZGFUZXh0LT5tZWRpY2F0aW9uUnEubWVkaWNhdGlvbiA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY29kZWNvbiB0aGVuewogICAgICAgIGNkYVRleHQgLT4gY29kZWNvbi50ZXh0ID0gJ3N0cmluZycgInRleHQiOwogICAgICB9ImNvZGUiOwogICAgICBjZGFUZXh0IC0+IG1lZGljYXRpb25ScS5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgIH0icmVmZXJlbmNlIjsKICAgIH0iY2RhVGV4dCI7CiAgfSJ3aGVyZSI7CgogIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvblJlcXVlc3QnKSBhcyBtZWRpY2F0aW9uUnEsICBtZWRpY2F0aW9uUnEuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblJlcXVlc3QvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uUmVxdWVzdCcsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZGljYXRpb25ScS5pZCkgdGhlbiB7CiAgICAgICAgc3JjLT4gbWVkaWNhdGlvblJxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgc3JjLT4gbWVkaWNhdGlvblJxLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOwogICAgICAgIHNyYyAtPiBtZWRpY2F0aW9uUnEuc3RhdHVzPSdhY3RpdmUnInN0YXR1cyI7CiAgICAgICAgc3JjIC0+IG1lZGljYXRpb25ScS5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOwogICAgICAgIGVudHJ5MS5zdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiBhcyBzdWJzdHJhY3QgdGhlbnsgICAgICAKICAgICAgICAgIHN1YnN0cmFjdC5jb25zdW1hYmxlIGFzIGNvbnMgdGhlbnsKICAgICAgICAgICAgY29ucy5tYW51ZmFjdHVyZWRQcm9kdWN0IGFzIG1hbjEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvbicpIGFzIG1lZGljYXRpb24sICBtZWRpY2F0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uJywgbWVkaWNhdGlvblJxLm1lZGljYXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIG1lZHJlZiwgIG1lZHJlZi5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycgKyAlbWVkaWNhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgbWFuMS5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtbSB0aGVuewogICAgICAgICAgICAgICAgbW0uY29kZSAtPiBtZWRpY2F0aW9uLmNvZGU7CiAgICAgICAgICAgICAgfSJtbSI7CiAgICAgICAgICAgICAgc3Vic3RyYWN0LmFkbWluaXN0cmF0aW9uVW5pdENvZGUgLT4gbWVkaWNhdGlvbi5mb3JtOwoKICAgICAgICAgICAgICBzdWJzdHJhY3QuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIHdoZXJlIGRpc3BsYXlOYW1lPSdHcmFtbWF0dXJhJyAtPiBtZWRpY2F0aW9uLmluZ3JlZGllbnQgYXMgaW5ncmVkaWVudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBzdWJzdHJhY3QuY29uc3VtYWJsZSBhcyBjb25zdW1hYmxlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3VtYWJsZS5tYW51ZmFjdHVyZWRQcm9kdWN0IGFzIG1hbnVmYWN0dXJlZFByb2R1Y3QgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWZhY3R1cmVkUHJvZHVjdC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51ZmFjdHVyZWRNYXRlcmlhbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFudWZhY3R1cmVkTWF0ZXJpYWwuY29kZSBhcyBjb2RlIC0+IGluZ3JlZGllbnQuaXRlbSA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgdmFsdWUgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RlLHZhbHVlKSAiQ0UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Im1hdGVyaWFsIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9InByb2R1Y3QiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb25zdW1hYmxlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IGluZ3JlZGllbnQuc3RyZW5ndGggYXMgc3RyZW5ndGggdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBzdHJlbmd0aC5udW1lcmF0b3IgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IG51bWVyYXRvci52YWx1ZSA9ICh2YWx1ZS52YWx1ZSkgInZhbHVlTiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAibnVtZXJhdG9yIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBzdHJlbmd0aC5kZW5vbWluYXRvciBhcyBkZW5vbWluYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBkZW5vbWluYXRvci52YWx1ZSA9IDEgInZhbHVlRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAiZGVub21pbmF0b3IiOwogICAgICAgICAgICAgICAgICAgICAgICAgICB9InN0cmVuZ2h0IjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJpbmdyZWRpZW50IjsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nUXVhbnRpdMOgIG5lbGxhIENvbmZlemlvbmUnIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBtZWRpY2F0aW9uLmFtb3VudCBhcyBhbW91bnQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBhbW91bnQubnVtZXJhdG9yICBhcyBudW1lcmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gbnVtZXJhdG9yLnZhbHVlID0gKHZhbHVlLnZhbHVlKSAidmFsdWVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJudW1lcmF0b3IiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IGFtb3VudC5kZW5vbWluYXRvciBhcyBkZW5vbWluYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBkZW5vbWluYXRvci52YWx1ZSA9IDEgInZhbHVlRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAiZGVub21pbmF0b3IiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJhbW91bnQiOwogICAgICAgICAgICAgICAgICAgICAgIH0icXVhbnRpdGEiOwogICAgICAgICAgICAgICAgICAgfSJvYnMiOwogICAgICAgICAgICAgIH0iZW50cnlSIjsKICAgICAgCiAgICAgICAgICAgICAgc3Vic3RyYWN0LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5zdXBwbHkgYXMgc3VwIC0+IG1lZGljYXRpb25ScS5kaXNwZW5zZVJlcXVlc3QgYXMgZGlzcHJlcSB0aGVuIHsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHN1cCAtPiBkaXNwcmVxLnF1YW50aXR5ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIHF1YW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBzdXAucXVhbnRpdHkgYXMgcSAtPiBxdWFudGl0eS52YWx1ZSA9IChxLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9InF1YW50aXR5IjsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfSJzdWIiOwogICAgICAgICAgICAgIH0iZW50cnkiOwogICAgICAgICAgICB9Im1hbjEiOwogICAgICAgICAgfSJjb25zIjsKICAgICAgICAgIHN1YnN0cmFjdC50ZXh0IGFzIHR4IC0+IG1lZGljYXRpb25ScS5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZiAtPiBub3RlLnRleHQgPSAocmVmLnZhbHVlKTsKICAgICAgICAgIH0idHgiOyAKICAgICAgICAgIHN1YnN0cmFjdC5zdGF0dXNDb2RlIGFzIHN0IC0+IG1lZGljYXRpb25ScS5zdGF0dXMgPSAoc3QuY29kZSk7CgogICAgICAgICAgc3Vic3RyYWN0LmVmZmVjdGl2ZVRpbWU6IElWTF9UUyBhcyBlZmYgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgZWZmIC0+IGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZyB0aGVuIHsKICAgICAgICAgICAgICBlZmYgLT4gdGltaW5nLnJlcGVhdCBhcyByZXAgdGhlbiB7CiAgICAgICAgICAgICAgICBlZmYgLT4gcmVwLmJvdW5kcyA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCkicGVyaW9kIjsKICAgICAgICAgICAgICB9InJlcCI7CiAgICAgICAgICAgIH0idGltaW5nIjsKICAgICAgICAgIH0icGVyaW9kIjsKCiAgICAgICAgICBzdWJzdHJhY3QuZWZmZWN0aXZlVGltZTogRUlWTF9UUyBhcyBlZmYgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgZWZmIC0+IGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZyB0aGVuIHsKICAgICAgICAgICAgICBlZmYgLT4gdGltaW5nLnJlcGVhdCBhcyByZXAgdGhlbiB7CiAgICAgICAgICAgICAgICBlZmYuZXZlbnQgYXMgZXYgLT4gcmVwLndoZW4gPSAoZXYuY29kZSk7CiAgICAgICAgICAgICAgfSJyZXAiOwogICAgICAgICAgICB9InRpbWluZyI7CiAgICAgICAgICB9InBlcmlvZCI7CgogICAgICAgICAgc3Vic3RyYWN0LmVmZmVjdGl2ZVRpbWU6IElWTF9UUyBhcyBlZmYgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UsIGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZywgdGltaW5nLmV2ZW50ID0gKGVmZi52YWx1ZSkgInRpbSI7CgogICAgICAgICAgc3Vic3RyYWN0LmVmZmVjdGl2ZVRpbWU6IFBJVkxfVFMgYXMgZWZmIC0+IG1lZGljYXRpb25ScS5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICAgIGVmZiAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcgdGhlbiBwZXJpb2RUaW1pbmcoZWZmLHRpbWluZykgImNvZCI7CiAgICAgICAgICB9ImVmZiI7ICAgICAKCiAgICAgICAgICBzdWJzdHJhY3QgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgc3Vic3RyYWN0LnJvdXRlQ29kZSAtPiBkb3NhZ2Uucm91dGU7ICAgICAgICAKICAgICAgICAgIH0iZG9zYWdlIjsKICAgICAgICAgIAogICAgICAgICAgc3Vic3RyYWN0IC0+IG1lZGljYXRpb25ScS5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICAgIHN1YnN0cmFjdC5hcHByb2FjaFNpdGVDb2RlIC0+IGRvc2FnZS5zaXRlOyAgICAgICAgCiAgICAgICAgICB9ImRvc2FnZSI7CgogICAgICAgICAgc3Vic3RyYWN0LmRvc2VRdWFudGl0eSBhcyBkb3NlUXVhbnQgLT4gbWVkaWNhdGlvblJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2VJbnN0cnVjdGlvbiB0aGVuewogICAgICAgICAgICBkb3NlUXVhbnQub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZUluc3RydWN0aW9uLnRleHQ7CiAgICAgICAgICAgIH0ib3QiOwogICAgICAgICAgICBkb3NlUXVhbnQgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24uZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkb3NhZ2VSYXRlLmRvc2UgPSBjcmVhdGUoJ1JhbmdlJykgYXMgZCB0aGVuewogICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGQubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGwgdGhlbnsKICAgICAgICAgICAgICAgICAgZG9zZVF1YW50LmxvdyBhcyBsbyAtPiBsLnZhbHVlID0gKGxvLnZhbHVlKTsgCiAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5sb3cgYXMgbG8gLT4gbC51bml0ID0gKGxvLnVuaXQpOyAKICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkLmhpZ2ggPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgaCB0aGVuewogICAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnZhbHVlID0gKGhpLnZhbHVlKTsgCiAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5oaWdoIGFzIGhpIC0+IGgudW5pdCA9IChoaS51bml0KTsKICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICB9ImQiOwogICAgICAgICAgICB9ImRvc2FnZVJhdGUiOwogICAgICAgICAgfSJEb3NhZ2UiOwogICAgICAgICAgCiAgICAgICAgICBzdWJzdHJhY3QucmF0ZVF1YW50aXR5IGFzIHJhdGVRdWFudGl0eSAtPiBtZWRpY2F0aW9uUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZUluc3RydWN0aW9uMSB0aGVuewogICAgICAgICAgICByYXRlUXVhbnRpdHkub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZUluc3RydWN0aW9uMS50ZXh0OwogICAgICAgICAgICB9Im90IjsKICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGRvc2FnZUluc3RydWN0aW9uMS5kb3NlQW5kUmF0ZSBhcyBkb3NhZ2VSYXRlIHRoZW57CiAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGRvc2FnZVJhdGUucmF0ZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyBkIHRoZW57CiAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudmFsdWUgPSAobG8udmFsdWUpOyAKICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmxvdyBhcyBsbyAtPiBsLnVuaXQgPSAobG8udW5pdCk7IAogICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5oaWdoIGFzIGhpIC0+IGgudmFsdWUgPSAoaGkudmFsdWUpOwogICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkuaGlnaCBhcyBoaSAtPiBoLnVuaXQgPSAoaGkudW5pdCk7IAogICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgIH0iZCI7CiAgICAgICAgICAgIH0iZG9zYWdlUmF0ZSI7CiAgICAgICAgICB9InJhdGVxIjsKICAgICAgICAgIAogICAgICAgICAgc3Vic3RyYWN0LnBhcnRpY2lwYW50IGFzIHBhcnQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgIHRoZW57CiAgICAgICAgICAgIHBhcnQudGltZSBhcyB0aW1lIC0+IG1lZGljYXRpb25ScS5hdXRob3JlZE9uID0gKHRpbWUudmFsdWUpOwogICAgICAgICAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0Um9sZSB0aGVuewogICAgICAgICAgICAgIHBhcnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgcGFydFJvbGUtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHBhcnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9UZXJhcGlhRmFybWFjb2xvZ2ljYVJpY292ZXJvL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7IAogICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQxKSAsbWVkaWNhdGlvblJxLnBlcmZvcm1lciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpImF1dCI7CiAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgICAgcGFydFJvbGUucGxheWluZ0VudGl0eSBhcyBhc3NpIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzc2kubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgfSJhc3NpIjsKICAgICAgICAgICAgICB9InBlcmYiOwogICAgICAgICAgIH0icGFydFJvbGUiOwogICAgICAgIH0icGFydGljaXBhbnQiOyAKICAgIH0ic3Vic3RyYWN0IjsKfQ==", "subType": "00"}}, "filename": "LetteraDimissioneOspedaliera_v2.8.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:34:08.056Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a4b04846375e3fecadbf"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/ProfiloSanitarioSinteticoBody", "version": "1.8", "template_id_root": ["2.16.840.1.113883.2.9.10.1.4.1.1"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9Qcm9maWxvU2FuaXRhcmlvU2ludGV0aWNvQm9keSIgPSAiUHJvZmlsb1Nhbml0YXJpb1NpbnRldGljb0JvZHkiCgpjb25jZXB0bWFwICJPQlNzdGF0dXMiIHsKcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtc3RhdHVzQ29kZSIKcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9vYnNlcnZhdGlvbi1zdGF0dXMiCgpzOmNvbXBsZXRlZCA9PSB0OmZpbmFsCnM6YWN0aXZlID09IHQ6cmVnaXN0ZXJlZApzOmFib3J0ZWQgPT0gdDpjYW5jZWxsZWQKczpzdXNwZW5kZWQgPT0gdDpwYXJ0aWFsCn0KY29uY2VwdG1hcCAiRXZlbnRTdGF0dXMiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLXN0YXR1c0NvZGUiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vaGw3Lm9yZy9maGlyL2V2ZW50LXN0YXR1cyIKICAgIAogICAgczoiY29tcGxldGVkIiA9PSB0OiJjb21wbGV0ZWQiCiAgICBzOiJhY3RpdmUiID09IHQ6ImluLXByb2dyZXNzIgogICAgczoiYWJvcnRlZCIgPT0gdDoic3RvcHBlZCIKICAgIHM6InN1c3BlbmRlZCIgPT0gdDoib24taG9sZCIKICAgIH0KY29uY2VwdG1hcCAiRmluYW5jaWFsU3RhdHVzIiB7CiAgICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My1zdGF0dXNDb2RlIgogICAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9mbS1zdGF0dXMiCiAgICAKICAgIHM6ImFjdGl2ZSIgPT0gdDoiYWN0aXZlIgogICAgczoiYWJvcnRlZCIgPT0gdDoiY2FuY2VsbGVkIgogICAgczoic3VzcGVuZGVkIiA9PSB0OiJkcmFmdCIKICAgIH0KY29uY2VwdG1hcCAiTWVkaWNhdGlvblN0YXR1c01hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtc3RhdHVzQ29kZSIKICAgIHByZWZpeCB0ID0gImh0dHA6Ly9obDcub3JnL2ZoaXIvQ29kZVN5c3RlbS9tZWRpY2F0aW9ucmVxdWVzdC1zdGF0dXMiCiAgICAKICAgIHM6Y29tcGxldGVkID09IHQ6Y29tcGxldGVkCiAgICBzOmFjdGl2ZSA9PSB0OmFjdGl2ZQogICAgczphYm9ydGVkID09IHQ6Y2FuY2VsbGVkCiAgICBzOnN1c3BlbmRlZCA9PSB0OiJvbi1ob2xkIgogICAgfQpjb25jZXB0bWFwICJjbS12My1hZG1pbmlzdHJhdGl2ZS1nZW5kZXIiIHsKcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtQWRtaW5pc3RyYXRpdmVHZW5kZXIiCnByZWZpeCB0ID0gImh0dHA6Ly9obDcub3JnL2ZoaXIvVmFsdWVTZXQvYWRtaW5pc3RyYXRpdmUtZ2VuZGVyIgoKczpNID09IHQ6bWFsZQpzOkYgPT0gdDpmZW1hbGUKfQoKY29uY2VwdG1hcCAiQWxsZXJneVR5cGVNYXAiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLXR5cGUiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCIKCiAgICBzOk9JTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpBTEcgPT0gdDphbGxlcmd5CiAgICBzOkRBTEcgPT0gdDphbGxlcmd5CiAgICBzOkVBTEcgPT0gdDphbGxlcmd5CiAgICBzOkZBTEcgPT0gdDphbGxlcmd5CiAgICBzOk5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6Rk5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RE5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RU5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RklOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkRJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpFSU5UID09IHQ6aW50b2xlcmFuY2UKICB9CiAgY29uY2VwdG1hcCAiQWxsZXJneUNhdGVnb3J5TWFwIiB7CiAgICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My10eXBlIgogICAgcHJlZml4IHQgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwiCgogICAgczpEQUxHID09IHQ6bWVkaWNhdGlvbgogICAgczpFQUxHID09IHQ6ZW52aXJvbWVudAogICAgczpGQUxHID09IHQ6Zm9vZAogICAgczpGTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpETkFJTlQgPT0gdDptZWRpY2F0aW9uCiAgICBzOkVOQUlOVCA9PSB0OmVudmlyb21lbnQKICAgIHM6RklOVCA9PSB0OmZvb2QKICAgIHM6RElOVCA9PSB0Om1lZGljYXRpb24KICAgIHM6RUlOVCA9PSB0OmVudmlyb21lbnQKICB9Cgpjb25jZXB0bWFwICJDcmljYWxpdHlNYXAiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtT2JzZXJ2YXRpb25WYWx1ZSIKICAgIHByZWZpeCB0ID0gImh0dHA6Ly9obDcub3JnL2ZoaXIvYWxsZXJneS1pbnRvbGVyYW5jZS1jcml0aWNhbGl0eSIKCiAgICBzOiBNID09IHQ6IGxvdwogICAgczogSCA9PSB0OiBoaWdoCiAgICBzOiBMID09IHQ6IGxvdwp9CgoKY29uY2VwdG1hcCAiQ2xpbmljYWxTdGF0dXNNYXAiIHsKICAgIHByZWZpeCBzID0gImh0dHBzOi8vbG9pbmMub3JnLzk5NDkzLTkvIgogICAgcHJlZml4IHQgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9jb25kaXRpb24tY2xpbmljYWwiCgogICAgczogIkxBMTY2NjYtMiIgPT0gdDogYWN0aXZlCiAgICBzOiAiTEExODYzMi0yIiA9PSB0OiBpbmFjdGl2ZQogICAgczogIkxBOTA0MS0wIiA9PSB0OiByZXNvbHZlZAp9Cgp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NsaW5pY2FsRG9jdW1lbnQiIGFsaWFzIENsaW5pY2FsRG9jdW1lbnQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzaWduZWRBdXRob3IiIGFsaWFzIEFzc2lnbmVkQXV0aG9yIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEVudGl0eSIgYWxpYXMgQXNzaWduZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc29jaWF0ZWRFbnRpdHkiIGFsaWFzIEFzc29jaWF0ZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0N1c3RvZGlhbk9yZ2FuaXphdGlvbiIgYWxpYXMgQ3VzdG9kaWFuT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uUGFydE9mIiBhbGlhcyBPcmdhbml6YXRpb25QYXJ0T2YgYXMgcXVlcmllZAp1c2VzICAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIHJhcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9TZWN0aW9uIiBhbGlhcyBTZWN0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9QYXRpZW50Um9sZSIgYWxpYXMgUGF0aWVudFJvbGUgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FEIiBhbGlhcyBBRCBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0J1bmRsZSIgYWxpYXMgQnVuZGxlIGFzIHRhcmdldAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQ29tcG9zaXRpb24iIGFsaWFzIENvbXBvc2l0aW9uIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QYXRpZW50IiBhbGlhcyBQYXRpZW50IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9FbmNvdW50ZXIiIGFsaWFzIEVuY291bnRlciBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUGVyc29uIiBhbGlhcyBQYXRpZW50IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9MaXN0IiBhbGlhcyBMaXN0IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QcmFjdGl0aW9uZXIiIGFsaWFzIFByYWN0aXRpb25lciBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uIiBhbGlhcyBPcmdhbml6YXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9BY3QiIGFsaWFzIEFjdCBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0lWTC1QUSIgYWxpYXMgSVZMX1BRIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BRIiBhbGlhcyBQUSBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NpbXBsZVF1YW50aXR5IiBhbGlhcyBTaW1wbGVRdWFudGl0eSBhcyB0YXJnZXQKCgppbXBvcnRzICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9DZGFUb0ZoaXJEYXRhVHlwZXMiCmltcG9ydHMgImh0dHA6Ly93d3cuZXkuY29tL2l0YWx5L2lnL2NkYS1maGlyLW1hcHMvU3RydWN0dXJlTWFwL0ZVTExIRUFERVIiCgpncm91cCBDZGFUb0J1bmRsZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSkgewogICAgY2RhIC0+ICAKICAgIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsIAogICAgYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0UEFULCByZXF1ZXN0UEFULm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUGF0aWVudCcpIGFzIHBhdGllbnQsICBwYXRpZW50LmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJywgdXVpZDIpLCAgYnVuZGxlLmVudHJ5IGFzIGUzLCBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUzLnJlc291cmNlID0gY3JlYXRlKCdFbmNvdW50ZXInKSBhcyBlbmNvdW50ZXIsICBlbmNvdW50ZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDMsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycsIHV1aWQzKSwgcmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJywgCiAgICBidW5kbGUuZW50cnkgYXMgZTQsIGU0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ0RvY3VtZW50UmVmZXJlbmNlJykgYXMgRG9jdW1lbnRSZWZlcmVuY2UsICBEb2N1bWVudFJlZmVyZW5jZS5pZCA9IHV1aWQoKSBhcyB1dWlkNCwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Eb2N1bWVudFJlZmVyZW5jZS8nLCB1dWlkNCkscmVxdWVzdC51cmwgPSAnRG9jdW1lbnRSZWZlcmVuY2UnIHRoZW4gewogICAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKGNkYSwgcGF0aWVudCwgY29tcG9zaXRpb24sIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNkYXRvYnVuZGxlIjsKICAgIGNkYS5yZWNvcmRUYXJnZXQgYXMgcmVjb3JkVGFyZ2V0IHRoZW57CiAgICAgICAgcmVjb3JkVGFyZ2V0LnBhdGllbnRSb2xlIGFzIHBhdGllbnQgdGhlbnsKICAgICAgICBwYXRpZW50LmlkIGFzIGlkIC0+IHBhdGllbnQuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0MSAtPiBpZGVudGlmaWVyLnZhbHVlID0gZXh0MSAidmFsdWUiOwogICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgfSJpZGZyIjsKICAgICAgICAgICAgcGF0aWVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuNycpIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjMnKSBvcihyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjE3Jykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTUnKSB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcmVxdWVzdFBBVC51cmwgPSBhcHBlbmQoJ1BhdGllbnQ/aWRlbnRpZmllcj0nLGV4dCkgIlVVSUQiOwogICAgICAgICAgICB9InJlY29yZCI7CiAgICAgICAgfSJyZWNQYXQiOwogICAgfSJwYXRpZW50IjsKICAgIH0gIkNsaW5pY2FsRG9jdW1lbnRUb0JvZHkiOwp9CgoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBjb21wb3NpdGlvbiA6IENvbXBvc2l0aW9uLCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgRG9jdW1lbnRSZWZlcmVuY2UgOiBEb2N1bWVudFJlZmVyZW5jZSkgewogICAgY2RhIC0+IGVuY291bnRlci5zdGF0dXMgPSAnZmluaXNoZWQnICJmaW5pc2hlZCI7CiAgICBjZGEgLT4gZW5jb3VudGVyLmNsYXNzID0gY3JlYXRlKCJDb2RpbmciKSBhcyBjb2RpbmcgdGhlbnsKICAgICAgICBjZGEgLT4gY29kaW5nLmNvZGUgPSAnc3VtbWFyeScgImNvZGUiOwogICAgfSJjb2RpbmciOwogICAgY2RhIC0+IGJ1bmRsZS5pZCA9IHV1aWQoKSAiaWQiOwogICAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICAgIGNkYSAtPiBidW5kbGUudHlwZSA9ICd0cmFuc2FjdGlvbicgInR5cGUiOwogICAgLy9jZGEuZWZmZWN0aXZlVGltZSAtPiBidW5kbGUudGltZXN0YW1wOwogICAgY2RhIC0+IGJ1bmRsZS50aW1lc3RhbXA9KHRpbWVzdGFtcC5ub3coKSkgImRhdGUiOwogICAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudENvbXBvc2l0aW9uKGNkYSwgY29tcG9zaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNvbXBvc2l0aW9uIjsKICAgIGNkYS5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgY29tcG9uZW50LnN0cnVjdHVyZWRCb2R5IGFzIGJvZHkgdGhlbiB7CiAgICAgICAgYm9keS5jb21wb25lbnQgYXMgY29tcG9uZW50ICB0aGVuIHsKICAgICAgICAgICAgY29tcG9uZW50LnNlY3Rpb24gYXMgc3JjU2VjdGlvbiB0aGVuIHsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlciwgY29tcG9zaXRpb24pOyAgICAgICAKICAgICAgICB9ICJzZWN0aW9uIjsKICAgICAgICB9ICJjb21wb25lbnQiOwogICAgfSJib2R5IjsKICAgIH0iZGlhZ25vc3RpYyI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyLCB0YXJnZXQgY29tcG9zaXRpb24gOiBDb21wb3NpdGlvbikgewogICAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgIHNyYy5lbnRyeSBhcyBlbnRyeSB0aGVuewogICAgICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICAgICAgICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgICAgICB9ICJjZGFUZXh0IjsKICAgICAgICAvLyBzZXppb25pIGNoZSBzb25vIHN0cnV0dHVyYXRlCiAgICAgICAgc3JjLmNvZGUgd2hlcmUgKGNvZGUgPSAnMzA5NTQtMicpIHRoZW57CiAgICAgICAgICAgIGVudHJ5Lm9yZ2FuaXplciBhcyBvcmdhbml6ZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUwLCBlMC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTAucmVzb3VyY2UgPSBjcmVhdGUoJ0RpYWdub3N0aWNSZXBvcnQnKSBhcyBkaWEsICBkaWEuaWQgPSB1dWlkKCkgYXMgdXVpZDAsICBlMC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGlhZ25vc3RpY1JlcG9ydC8nLCB1dWlkMCksIHJlcXVlc3QudXJsID0nRGlhZ25vc3RpY1JlcG9ydCcgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9EaWFnbm9zdGljUmVwb3J0LycgKyAlZGlhLmlkKSB0aGVuIERpYWdub3N0aWNSZXBvcnRGdW5jdGlvbihvcmdhbml6ZXIscGF0aWVudCxlbmMsZGlhLGJ1bmRsZSkgImRpYWdub3N0aWMiOyAvLyBhZGQgZnVuY3Rpb24gdG8gRGlhZ25vc3RpY1JlcG9ydAogICAgICAgIH0iZW50cnlPYnMiOwoKICAgICAgICBzcmMuY29kZSB3aGVyZSAoY29kZSA9ICcyOTc2Mi0yJykgb3IgKGNvZGUgPSAnMTAxNjItNicpIHRoZW57CiAgICAgICAgICAgIGVudHJ5Lm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEsICBvYnMxLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24sIHBhdGllbnQsIGVuYywgb2JzMSwgYnVuZGxlKSAib2JzMSI7CiAgICAgICAgfSJlbnRyeU9icyI7CiAgICAgICAgc3JjLmNvZGUgd2hlcmUgKGNvZGUgPSAnODcxNi0zJykgb3IgKGNvZGUgPSAnNDc0MjAtNScpIHRoZW57CiAgICAgICAgICAgIGVudHJ5Lm9yZ2FuaXplciBhcyBvcmdhbml6ZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMiwgIG9iczIuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczIuaWQpIHRoZW4gT2JzZXJ2YXRpb25Pcmdhbml6ZXIoc3JjLCBvcmdhbml6ZXIsIHBhdGllbnQsIGVuYywgb2JzMiwgYnVuZGxlKSAib2JzMiI7CiAgICAgICAgICAgIGVudHJ5Lm9ic2VydmF0aW9uIGFzIG9yZ2FuaXplciAtPiBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMyLCAgb2JzMi5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMi5pZCkgdGhlbiBPYnNlcnZhdGlvbk9yZ2FuaXplcihzcmMsIG9yZ2FuaXplciwgcGF0aWVudCwgZW5jLCBvYnMyLCBidW5kbGUpICJvYnMyIjsKICAgICAgICB9ICJvcmdhbml6ZXIiOwogICAgICAgIHNyYy5jb2RlIHdoZXJlIGNvZGUgPSAnMTE0NTAtNCcgdGhlbnsKICAgICAgICAgICAgZW50cnkuYWN0IGFzIGFjdCAtPiBidW5kbGUuZW50cnkgYXMgZTMsIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29uZGl0aW9uJykgYXMgY29uZGl0aW9uLCAgY29uZGl0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nLCB1dWlkMyksIHJlcXVlc3QudXJsID0gJ0NvbmRpdGlvbicsIHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nICsgJWNvbmRpdGlvbi5pZCkgdGhlbiBDb25kaXRpb25GdW5jdGlvbihhY3QgLGNvbmRpdGlvbiwgcGF0aWVudCwgZW5jLCBidW5kbGUpICJjb25kaXRpb24iOyAgICAgICAgCiAgICAgICAgfSJsaXN0YURlaVByb2JsZW1pIjsKICAgICAgICBzcmMuY29kZSB3aGVyZSAoY29kZSA9ICc0ODc2NS0yJykgdGhlbnsKICAgICAgICAgICAgZW50cnkuYWN0IGFzIGFjdCAtPiBidW5kbGUuZW50cnkgYXMgZTUsIGU1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnQWxsZXJneUludG9sZXJhbmNlJykgYXMgYWxsZXJneSwgIGFsbGVyZ3kuaWQgPSB1dWlkKCkgYXMgdXVpZDUsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycsIHV1aWQ1KSwgcmVxdWVzdC51cmwgPSAnQWxsZXJneUludG9sZXJhbmNlJywgdGd0LmVudHJ5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiBhbGxlcmd5RnVuY3Rpb24oYWN0LCBhbGxlcmd5LCBwYXRpZW50LGVuYykgImFsbGVyZ3kiOwogICAgICAgIH0gImVudHJ5QWN0IjsKICAgICAgICBzcmMuY29kZSB3aGVyZSBjb2RlID0gJzEwMTYwLTAnIHRoZW57CiAgICAgICAgICAgIGVudHJ5LnN1YnN0YW5jZUFkbWluaXN0cmF0aW9uIGFzIHN1YkFkbWluIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNiwgZTYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU2LnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uU3RhdGVtZW50JykgYXMgbWVkaWNhdGlvbnN0YXRlbWVudCwgIG1lZGljYXRpb25zdGF0ZW1lbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDYsICBlNi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblN0YXRlbWVudC8nLCB1dWlkNiksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25TdGF0ZW1lbnQnLCB0Z3QuZW50cnkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uU3RhdGVtZW50LycgKyAlbWVkaWNhdGlvbnN0YXRlbWVudC5pZCkgdGhlbiBNZWRpY2F0aW9uU3RhdGVtZW50KHN1YkFkbWluLCBtZWRpY2F0aW9uc3RhdGVtZW50LCBwYXRpZW50LCBlbmMsIGJ1bmRsZSkgIlRlcmFwaWFGYXJtYWNvbG9naWNhIjsKICAgICAgICB9InRlcmFwaWEiOwogICAgICAgIHNyYy5jb2RlIHdoZXJlIGNvZGUgPSAnMTEzNjktNicgdGhlbnsKICAgICAgICAgICAgZW50cnkuc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24gYXMgc3ViVkFDQyAtPiBidW5kbGUuZW50cnkgYXMgZTcsIGU3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGU3LnJlc291cmNlID0gY3JlYXRlKCdJbW11bml6YXRpb24nKSBhcyBpbW11bml6YXRpb24sICBpbW11bml6YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDcsICBlNy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvSW1tdW5pemF0aW9uLycsIHV1aWQ3KSwgcmVxdWVzdC51cmwgPSAnSW1tdW5pemF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0ltbXVuaXphdGlvbi8nICsgJWltbXVuaXphdGlvbi5pZCkgdGhlbiBJbW11bml6YXRpb24oc3ViVkFDQywgcGF0aWVudCwgZW5jLCBpbW11bml6YXRpb24sIGJ1bmRsZSkgImltbXVuaXphdGlvbiI7CiAgICAgICAgfSJ2YWNjIjsKICAgICAgICBzcmMuY29kZSB3aGVyZSBjb2RlID0gJzEwMTU3LTYnIHRoZW57CiAgICAgICAgICAgIGVudHJ5Lm9yZ2FuaXplciBhcyBvcmdhbml6ZXIgLT5idW5kbGUuZW50cnkgYXMgZTEyLCBlMTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMi5yZXNvdXJjZSA9IGNyZWF0ZSgnRmFtaWx5TWVtYmVySGlzdG9yeScpIGFzIGZhbWlseU1lbWJlciwgZmFtaWx5TWVtYmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxMiwgIGUxMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRmFtaWx5TWVtYmVySGlzdG9yeS8nLCB1dWlkMTIpLCByZXF1ZXN0LnVybCA9ICdGYW1pbHlNZW1iZXJIaXN0b3J5JywgdGd0LmVudHJ5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9GYW1pbHlNZW1iZXJIaXN0b3J5LycgKyAlZmFtaWx5TWVtYmVyLmlkKSB0aGVuIEZhbWlseU1lbWJlckZ1bmN0aW9uKG9yZ2FuaXplciwgZmFtaWx5TWVtYmVyLCBwYXRpZW50KSAiZmFtaWx5IjsgICAgICAgICAgICAKICAgICAgICB9ImZhbWlseSI7CiAgICAgICAgc3JjLmNvZGUgd2hlcmUgY29kZSA9ICc0NjI2NC04JyB0aGVuewogICAgICAgICAgICBlbnRyeS5zdXBwbHkgYXMgc3VwcGx5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlOCwgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ1Byb2NlZHVyZScpIGFzIHByb2NlZHVyZSwgIHByb2NlZHVyZS5pZCA9IHV1aWQoKSBhcyB1dWlkOCwgIGU4LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJywgdXVpZDgpLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnICwgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nICsgJXByb2NlZHVyZS5pZCkgdGhlbiBQcm9jZWR1cmUoc3VwcGx5LCBwYXRpZW50LCBlbmMsIHByb2NlZHVyZSwgYnVuZGxlKSAgInByb3Rlc2kiOwogICAgICAgIH0iaW1waWFudGkiOwogICAgICAgIHNyYy5jb2RlIHdoZXJlIGNvZGUgPSAnNDc1MTktNCcgdGhlbnsKICAgICAgICAgICAgZW50cnkucHJvY2VkdXJlIGFzIHByb2NlZHVyZSAtPiBidW5kbGUuZW50cnkgYXMgZTksIGU5LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGU5LnJlc291cmNlID0gY3JlYXRlKCdQcm9jZWR1cmUnKSBhcyBwcm9jZWR1cmUyLCAgcHJvY2VkdXJlMi5pZCA9IHV1aWQoKSBhcyB1dWlkOSwgIGU5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJywgdXVpZDkpLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycgKyAlcHJvY2VkdXJlMi5pZCkgdGhlbiBQcm9jZWR1cmUocHJvY2VkdXJlLCBwYXRpZW50LCBlbmMsIHByb2NlZHVyZTIsIGJ1bmRsZSkgICJ0cmF0dCI7CiAgICAgICAgfSJ0cmF0dGFtZW50aVByb2NlZHVyZSI7CiAgICAgICAgc3JjLmNvZGUgd2hlcmUgY29kZSA9ICc0NjI0MC04JyB0aGVuewogICAgICAgICAgICAvLyBlbnRyeS5lbmNvdW50ZXIgYXMgZW5jb3VudGVyIC0+IGVuYyB0aGVuewogICAgICAgICAgICAvLyAgICAgZW5jb3VudGVyLmlkIC0+IGVuYy5pZGVudGlmaWVyOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIC8vICAgICBlbmNvdW50ZXIgLT4gZW5jLnN0YXR1cyA9ICd1bmtub3duJyAic3RhdHVzIjsKICAgICAgICAgICAgLy8gICAgIGVuY291bnRlci5jb2RlIGFzIGNvZGUgLT4gZW5jLmNsYXNzSGlzdG9yeSBhcyBjbGFzc0hpc3RvcnkgdGhlbnsKICAgICAgICAgICAgLy8gICAgICAgICBjb2RlIC0+IGNsYXNzSGlzdG9yeS5jbGFzcyBhcyBjbGFzcyB0aGVuewogICAgICAgICAgICAvLyAgICAgICAgICAgICBjb2RlLmNvZGUgYXMgY29kZSAtPiBjbGFzcy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvZGUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY2xhc3Muc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNvZGUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjbGFzcy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgIC8vICAgICAgICAgfSJjbGFzcyI7CiAgICAgICAgICAgIC8vICAgICAgICAgZW5jb3VudGVyLmVmZmVjdGl2ZVRpbWUgLT4gY2xhc3NIaXN0b3J5LnBlcmlvZCAicGVyaW9kIjsKICAgICAgICAgICAgLy8gICAgIH0iaGlzdG9yeSI7CiAgICAgICAgICAgIC8vICAgICBlbmNvdW50ZXIudGV4dCBhcyB0ZXh0IC0+IGVuYy50eXBlIGFzIHR5cGUgdGhlbnsKICAgICAgICAgICAgLy8gICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gdHlwZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInRleHQiOwogICAgICAgICAgICAvLyAgICAgfSJ0eXBlIjsKICAgICAgICAgICAgLy8gICAgIGVuY291bnRlci5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIC0+IGVuYy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWNpcGFudCB0aGVuIFByYWN0aXRpb25lcihwZXJmb3JtZXIsZW5jLGJ1bmRsZSkgInBlcmZvcm1lciI7CiAgICAgICAgICAgIC8vIH0iZW5jb3VudGVyIjsgIAogICAgICAgICAgICBlbnRyeS5lbmNvdW50ZXIgYXMgZW5jb3VudGVyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOSwgZTkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ0VuY291bnRlcicpIGFzIGVuY291bnRlckYsICBlbmNvdW50ZXJGLmlkID0gdXVpZCgpIGFzIHV1aWQ5LCAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkOSksIHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicsIHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXJGLmlkKSB0aGVuIEVuY291bnRlckZ1bmN0aW9uKGVuY291bnRlciwgcGF0aWVudCwgZW5jLCBlbmNvdW50ZXJGLCBidW5kbGUpICAiZW5jb3VudGVyIjsKICAgICAgICAgICAgCgogICAgICAgIH0idmlzaXRlUmljb3ZlcmkiOwogICAgICAgIHNyYy5jb2RlIHdoZXJlIGNvZGUgPSAnNTc4MjctOCcgdGhlbnsKICAgICAgICAgICAgZW50cnkuYWN0IGFzIGFjdCAtPiBidW5kbGUuZW50cnkgYXMgZTEzLCBlMTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEzLnJlc291cmNlID0gY3JlYXRlKCdDb3ZlcmFnZScpIGFzIGNvdmVyYWdlLCAgY292ZXJhZ2UuaWQgPSB1dWlkKCkgYXMgdXVpZDEzLCAgZTEzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Db3ZlcmFnZS8nLCB1dWlkMTMpLCByZXF1ZXN0LnVybCA9ICdDb3ZlcmFnZScgLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ292ZXJhZ2UvJyArICVjb3ZlcmFnZS5pZCkgdGhlbiBDb3ZlcmFnZShhY3QsIHBhdGllbnQsIGVuYywgY292ZXJhZ2UsIGJ1bmRsZSkgICJlc2VuIjsKICAgICAgICB9ImVzZW56aW9uaSI7CiAgICAgICAgc3JjLmNvZGUgd2hlcmUgY29kZSA9J1BTU0lUOTknIHRoZW57CiAgICAgICAgICAgIGVudHJ5LmFjdCBhcyBhY3QgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNCwgZTE0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uQWZmaWxpYXRpb24nKSBhcyBhZmZpbGlhdGlvbiwgIGFmZmlsaWF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxNCwgIGUxNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uQWZmaWxpYXRpb24vJywgdXVpZDE0KSwgcmVxdWVzdC51cmwgPSAnT3JnYW5pemF0aW9uQWZmaWxpYXRpb24nLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uQWZmaWxpYXRpb24vJyArICVhZmZpbGlhdGlvbi5pZCkgdGhlbiBPcmdhbml6YXRpb25BZmZpbGlhdGlvbihhY3QsIHBhdGllbnQsIGVuYywgYWZmaWxpYXRpb24sIGJ1bmRsZSkgICJPcmdBZmZpbGlhdGlvbiI7CiAgICAgICAgfSJyZXRpUGF0b2xvZ2lhIjsKICAgIH0iZW50cnkiOwogICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuIHsKICAgICAgICBzcmMuY29kZSB3aGVyZSBjb2RlID0gJzE4Nzc2LTUnIHRoZW57CiAgICAgICAgICAgIHNyYyAtPiBidW5kbGUuZW50cnkgYXMgZTExLCBlMTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ2FyZVBsYW4nKSBhcyBjYXJlcGxhbiwgY2FyZXBsYW4uaWQgPSB1dWlkKCkgYXMgdXVpZDExLCAgZTExLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9DYXJlUGxhbi8nLCB1dWlkMTEpLCByZXF1ZXN0LnVybCA9ICdDYXJlUGxhbicsIHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ2FyZVBsYW4vJyArICVjYXJlcGxhbi5pZCkgdGhlbnsgICAgCiAgICAgICAgICAgICAgICBzcmMuZW50cnkgYXMgZW50cnkgdGhlbiBDYXJlUGxhbkZ1bmN0aW9uKGVudHJ5LCBjYXJlcGxhbiwgcGF0aWVudCwgZW5jLCBidW5kbGUpICJwcmVzdGF6aW9uaSI7CiAgICAgICAgICAgIH0icGlhbmlDdXJhIjsKICAgICAgICB9InJhY2NvZ2xpdG9yZSI7CiAgICB9ImVzaXN0ZSI7CiAgIAogICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAvLyBBbm1hbmVzaSBGYW1pbGlhcmUgbmFycmF0aXZhCiAgICAgICAgc3JjLmNvZGUgd2hlcmUgY29kZSA9ICcxMDE1Ny02JyB0aGVuewogICAgICAgICAgICBzcmMudGV4dCBhcyB0ZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxMiwgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTIucmVzb3VyY2UgPSBjcmVhdGUoJ0ZhbWlseU1lbWJlckhpc3RvcnknKSBhcyBmYW1pbHlNZW1iZXIsIGZhbWlseU1lbWJlci5pZCA9IHV1aWQoKSBhcyB1dWlkMTIsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0ZhbWlseU1lbWJlckhpc3RvcnkvJywgdXVpZDEyKSwgcmVxdWVzdC51cmwgPSAnRmFtaWx5TWVtYmVySGlzdG9yeScsIHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRmFtaWx5TWVtYmVySGlzdG9yeS8nICsgJWZhbWlseU1lbWJlci5pZCkgdGhlbiB7ICAgICAgICAgIAogICAgICAgICAgICBzcmMgLT4gZmFtaWx5TWVtYmVyLnBhdGllbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgc3JjIC0+IGZhbWlseU1lbWJlci5zdGF0dXMgPSAnaGVhbHRoLXVua25vd24nICJzdGF0dXNTIjsKICAgICAgICAgICAgdGV4dCAtPiBmYW1pbHlNZW1iZXIubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICB0ZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgICAgIHRleHQgLT4gIGZhbWlseU1lbWJlci5yZWxhdGlvbnNoaXAgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgcmVsYXRpb24gdGhlbiB7CiAgICAgICAgICAgICAgICB0ZXh0IGFzIHR4dCAtPiByZWxhdGlvbi50ZXh0PXR4dCAidGV4dCI7CiAgICAgICAgICAgICAgfSJtZWRpY2F0aW9uIjsKICAgICAgICAgICAgfSJmYW1pbHkiOwogICAgICAgIH0iZmFtaWx5cmFjY29nbGl0b3JlIjsKICAgICAgICAvL1BpYW5vIGRpIGN1cmEgbmFycmF0aXZhIAogICAgICAgIHNyYy5jb2RlIHdoZXJlIGNvZGUgPSAnMTg3NzYtNScgdGhlbnsKICAgICAgICAgICAgc3JjLnRleHQgYXMgdGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTExLCBlMTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ2FyZVBsYW4nKSBhcyBjYXJlcGxhbiwgY2FyZXBsYW4uaWQgPSB1dWlkKCkgYXMgdXVpZDExLCAgZTExLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9DYXJlUGxhbi8nLCB1dWlkMTEpLCByZXF1ZXN0LnVybCA9ICdDYXJlUGxhbicsIHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ2FyZVBsYW4vJyArICVjYXJlcGxhbi5pZCkgdGhlbnsgCiAgICAgICAgICAgICAgICBzcmMtPiBjYXJlcGxhbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgIC8vc3JjLT4gY2FyZXBsYW4uZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICAgICAgc3JjIC0+IGNhcmVwbGFuLnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICAgICAgICAgICAgc3JjIC0+IGNhcmVwbGFuLmludGVudD0nb3JkZXInImludGVudCI7IAogICAgICAgICAgICAgICAgdGV4dCAtPiBjYXJlcGxhbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICB0ZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICAgIH0icmVmZXJlbmNlIjsgICAKICAgICAgICAgICAgfSJwaWFuaUN1cmEiOwogICAgICAgIH0icmFjY29nbGl0b3JlIjsKICAgICAgICAvLyBzZXppb25pIGNoZSBzb25vIG5hcnJhdGl2ZQogICAgICAgIHNyYy5jb2RlIHdoZXJlIChjb2RlID0gJzMwOTU0LTInKSBvciAoY29kZSA9ICcyOTc2Mi0yJykgb3IgKGNvZGUgPSAnODcxNi0zJykgb3IgKGNvZGUgPSAnNDc0MjAtNScpIG9yIChjb2RlID0gJzQyMzQ4LTMnKSB0aGVuewogICAgICAgIHNyYy50ZXh0IGFzIHRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMywgZTEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMSwgIG9iczEuaWQgPSB1dWlkKCkgYXMgdXVpZDEzLCAgZTEzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMTMpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMS5pZCkgdGhlbiB7CiAgICAgICAgICAgIHNyYyAtPiBvYnMxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgLy9zcmMgLT4gb2JzMS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgIAogICAgICAgICAgICBzcmMgLT4gb2JzMS5zdGF0dXMgPSAncHJlbGltaW5hcnknICJvYnNzdCI7CiAgICAgICAgICAgIHNyYy5jb2RlIC0+IG9iczEuY29kZSAib2JzY2RlIjsKICAgICAgICAgICAgc3JjIC0+IG9iczEuc3RhdHVzID0gJ2ZpbmFsJyAic3RhdHVzUyI7CiAgICAgICAgICAgIHRleHQgLT4gb2JzMS5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgIHRleHQgYXMgdC0+IG5vdGUudGV4dCA9IGNyZWF0ZSgnc3RyaW5nJykgYXMgdGV4dE5vdGUgdGhlbiBFRHN0cmluZyh0LHRleHROb3RlKSAibm90ZSI7CiAgICAgICAgICAgIH0gIm5hcnJhdGl2ZSI7ICAgIAogICAgICAgIH0idHh0c2VjIjsKICAgIH0ibmFycmF0aXZlIjsKfSJjb2RlIjsKICAgIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNlYyAtPiB0Z3Quc2VjdGlvbiBhcyB0Z3RTZWN0aW9uIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb24oY2RhLCBzZWMsIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSwgZW5jLCBkUmVwb3J0KTsKICAgIH0iY29tcG9uZW50IjsKfQoKZ3JvdXAgUHJvY2VkdXJlKHNvdXJjZSBzcmM6IGNkYUVsZW1lbnQgLCB0YXJnZXQgcGF0aWVudDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlcjogRW5jb3VudGVyLCB0YXJnZXQgdGd0OiBQcm9jZWR1cmUsIHRhcmdldCBidW5kbGU6IEJ1bmRsZSl7CiAgICAKICAgIC8vdG9BU0sKICAgIHNyYy50ZXh0IGFzIHR4IC0+IHRndC5ub3RlIGFzIG5vdGUgdGhlbiB7CiAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZmYgLT4gbm90ZS50ZXh0ID0gKHJlZmYudmFsdWUpICJyIjsKICAgIH0idHgiOwogICAgc3JjLnRlbXBsYXRlSWQgd2hlcmUgcm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjEwLjEuNC4zLjEwLjMnIHRoZW57CiAgICAgICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3QucGVyZm9ybWVkID0gKGVmZmVjdGl2ZVRpbWUudmFsdWUpOwogICAgICAgIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogICAgfSJyZWYiOwoKICAgIHNyYyAtPiB0Z3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgLy9zcmMgLT4gdGd0LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOwogICAgc3JjLnN0YXR1c0NvZGUgYXMgcyB0aGVuIHsKICAgICAgICBzLmNvZGUgYXMgY29zLT4gdGd0LnN0YXR1cyA9IHRyYW5zbGF0ZShjb3MsICcjRXZlbnRTdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICB9InN0YXR1cyI7CiAgICBzcmMgd2hlcmUgc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSAtPiB0Z3Quc3RhdHVzID0gJ3Vua25vd24nICJzdGF0dXMyIjsKICAgIHNyYy50ZW1wbGF0ZUlkIHdoZXJlIHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS4xMC4xLjQuMy45LjEnIHRoZW57CiAgICAgICAgc3JjIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2VSZXMsICBkZXZpY2VSZXMuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnRGV2aWNlJywgdGd0LnVzZWRSZWZlcmVuY2UgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJyArICVkZXZpY2VSZXMuaWQpIHRoZW57CiAgICAgICAgICAgIHNyYyAtPiBkZXZpY2VSZXMucGF0aWVudD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAgICAgICAgICAgIAogICAgICAgICAgICBzcmMuY29kZSAtPiBkZXZpY2VSZXMudHlwZTsKICAgICAgICB9ImRldmljZSI7CiAgICAgICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAodmFsdWUuZXhpc3RzKCkpIC0+IHRndC5wZXJmb3JtZWQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUxIjsKICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IHRndC5wZXJmb3JtZWQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CiAgICB9InByZXNlbnphUHJvdGVzaUltcGlhbnRvIjsKICAgIHNyYy50ZW1wbGF0ZUlkIHdoZXJlIHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS4xMC4xLjQuMy45LjInIHRoZW57CiAgICAgICAgc3JjLmNvZGUgYXMgY29kZSAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgIGNvZGUuZGlzcGxheU5hbWUgYXMgZGlzcGxheU5hbWUgLT4gbm90ZS50ZXh0ID0gKGRpc3BsYXlOYW1lKSAidGV4dCI7CiAgICAgICAgfSJub3RlIjsKICAgIH0iYXNzZW56YSI7CiAgICBzcmMudGVtcGxhdGVJZCB3aGVyZSByb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuMTAuMS40LjMuMTEuMScgdGhlbnsKICAgICAgICBzcmMuaWQgLT4gdGd0LmlkZW50aWZpZXIgImlkIjsKICAgICAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0LnBlcmZvcm1lZCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgICAgIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgd2hlcmUgKGxvdy5leGlzdHMoKSkgLT4gdGd0LnBlcmZvcm1lZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKCiAgICAgICAgc3JjLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUzLCBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMSwgIG9iczEuaWQgPSB1dWlkKCkgYXMgdXVpZDMsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDMpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5yZWFzb25SZWZlcmVuY2UgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgb2JzMSwgYnVuZGxlKSAib2JzZXJ2YXRpb24iOwogICAgICAgIH0iZW50cnlSZWxQcm9jZWR1cmUiOwogICAgfSJwcm9jZWR1cmVUcmF0dGFtZW50aSI7Cn0KCmdyb3VwIE9ic2VydmF0aW9uKHNvdXJjZSBjZGEsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9iIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsgIAogICAgY2RhLT4gb2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgLy9jZGEtPiBvYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgCiAgICAKICAgIGNkYS5pZCAtPiBvYi5pZGVudGlmaWVyOwogICAgY2RhLmNvZGUgLT4gb2IuY29kZTsKICAgIGNkYSAtPiBvYi5zdGF0dXMgPSAnZmluYWwnICJTdGF0cyI7CiAgICAvL3ZhbHVlIGRhdGF0eXBlCiAgICBjZGEudmFsdWU6U1QgYXMgc3QgLT4gb2IudmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksICBvYi52YWx1ZT0gKHN0LmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgICBjZGEudmFsdWU6QkwgYXMgYm9vbGVhbiAtPm9iLnZhbHVlPShib29sZWFuLnZhbHVlKSJib29sZWFuIjsKICAgIGNkYS52YWx1ZTpJTlQgYXMgaW50IC0+IG9iLnZhbHVlID0gKGludC52YWx1ZSkgImludHZhbCI7CiAgICBjZGEudmFsdWU6Q0UgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAicmVmZXJlbmNlIjsKICAgICAgICB9Im9yaWdpbmFsVGV4dCI7CiAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB9ICJjb2RlIjsKICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgICAgICB9ImNvZGluZyI7CiAgICAgIH0idmFsIjsKICAgICAgY2RhLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInJlZmVyZW5jZSI7CiAgICAgICAgfSJvcmlnaW5hbFRleHQiOwogICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgfSAiY29kZSI7CiAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9ICJ0cmFuc2xhdGlvbiI7CiAgICAgICAgfSJjb2RpbmciOwogICAgICB9InZhbCI7CiAgICBjZGEudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgIH0icXVhbnRpdHkiOwogICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgIC8vCiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgIGNkYS50ZXh0IGFzIHRleHQgLT4gb2Iubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgIH0gIm5vdGUiOwogICAgY2RhLnN0YXR1c0NvZGUgYXMgcyB0aGVuIHsKICAgICAgICBzLmNvZGUgYXMgY29zLT4gb2Iuc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICB9InN0YXR1cyI7CiAgICAKICAgIC8vdG9BU0sgw6ggZ2l1c3RvIHNpYW5vIGludmVydGl0aT8KICAgIC8vIGNkYS5tZXRob2RDb2RlIC0+IG9iLmludGVycHJldGF0aW9uOwogICAgLy8gY2RhLmludGVycHJldGF0aW9uQ29kZSAtPiBvYi5tZXRob2Q7CiAgICBjZGEubWV0aG9kQ29kZSAtPiBvYi5tZXRob2Q7CiAgICBjZGEuaW50ZXJwcmV0YXRpb25Db2RlIC0+IG9iLmludGVycHJldGF0aW9uOwogICAgY2RhLnRhcmdldFNpdGVDb2RlIC0+IG9iLmJvZHlTaXRlOwoKICAgIC8vYWRkZWQgICAgCiAgICBjZGEucmVmZXJlbmNlUmFuZ2UgYXMgcmVmcmFuZ2UgdGhlbnsKICAgICAgICByZWZyYW5nZS5vYnNlcnZhdGlvblJhbmdlIGFzIG9ic3JhbmdlIHRoZW57CiAgICAgICAgICAgIG9ic3JhbmdlLnZhbHVlIGFzIHZhbCAtPiBvYi5yZWZlcmVuY2VSYW5nZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVmcmFuZ2VGSCB0aGVuewogICAgICAgICAgICAgICAgdmFsIC0+IHJlZnJhbmdlRkgubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGxvd2ZoaXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICB2YWwubG93IGFzIGwgLT4gbG93Zmhpci52YWx1ZSA9IChsLnZhbHVlKSAidmFsIjsKICAgICAgICAgICAgICAgICAgICB2YWwubG93IGFzIGwgLT4gbG93Zmhpci51bml0ID0gKGwudW5pdCkgInZhbCI7CiAgICAgICAgICAgICAgICB9ImRlIjsKICAgICAgICAgICAgICAgIHZhbCAtPiByZWZyYW5nZUZILmhpZ2ggPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgaGlnaGZoaXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICB2YWwuaGlnaCBhcyBoIC0+IGhpZ2hmaGlyLnZhbHVlID0gKGgudmFsdWUpICJ2YWwiOwogICAgICAgICAgICAgICAgICAgIHZhbC5oaWdoIGFzIGggLT4gaGlnaGZoaXIudW5pdCA9IChoLnVuaXQpICJ2YWwiOwogICAgICAgICAgICAgICAgfSJkZSI7CiAgICAgICAgICAgIH0icmVmRmhpciI7IAogICAgICAgIH0ib2JzcmFuZ2UiOwogICAgfSJyZWdyYW5nZSI7CgoKfSAgCgpncm91cCBPYnNlcnZhdGlvbk9yZ2FuaXplcihzb3VyY2Ugc2VjdGlvbjogc2VjdGlvbiwgc291cmNlIGNkYTpvcmdhbml6ZXIsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9iIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsgIAogICAgY2RhLT4gb2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgLy9jZGEtPiBvYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgCiAgICAKICAgIGNkYS5pZCAtPiBvYi5pZGVudGlmaWVyOyAgICAKICAgIHNlY3Rpb24uY29kZSAtPiBvYi5jb2RlOwogICAgY2RhIC0+IG9iLnN0YXR1cyA9ICdmaW5hbCcgIlN0YXRzIjsKICAgIC8vCiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgIGNkYS50ZXh0IGFzIHRleHQgLT4gb2Iubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgIH0gIm5vdGUiOwogICAgY2RhLnN0YXR1c0NvZGUgYXMgcyB0aGVuIHsKICAgICAgICBzLmNvZGUgYXMgY29zLT4gb2Iuc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICB9InN0YXR1cyI7CiAgICBjZGEuY29tcG9uZW50IGFzIGNvbXBvbmVudCB0aGVuewogICAgICAgIGNvbXBvbmVudC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbiAtPiBidW5kbGUuZW50cnkgYXMgZWksIGVpLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlaS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNpLCAgb2JzaS5pZCA9IHV1aWQoKSBhcyB1dWlkaSwgIGVpLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkaSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsb2IuaGFzTWVtYmVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzaS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlcnZhdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnNpLCBidW5kbGUpICJoYXNNZW1iZXIiOwogICAgfSJjb21wb25lbnQiOwp9ICAKCmdyb3VwIENvdmVyYWdlKHNvdXJjZSBzcmM6IGFjdCAsIHRhcmdldCBwYXRpZW50OiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyOiBFbmNvdW50ZXIsIHRhcmdldCB0Z3Q6IENvdmVyYWdlLCB0YXJnZXQgYnVuZGxlOiBCdW5kbGUpewogICAgc3JjLT4gdGd0LmJlbmVmaWNpYXJ5ID1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgc3JjLT4gdGd0LnBheW9yID1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgCiAgICBzcmMuaWQgYXMgaWQgLT4gdGd0LmlkZW50aWZpZXIgYXMgaWRmIHRoZW57CiAgICAgICAgaWQgLT4gaWRmLnZhbHVlID0gKGlkLnJvb3QpICJJRCI7CiAgICB9ImlkIjsKICAgIAogICAgc3JjLmNvZGUgLT4gdGd0LnR5cGU7CiAgICBzcmMuc3RhdHVzQ29kZSBhcyBzdGF0dXNDb2RlIHRoZW57CiAgICAgICAgc3RhdHVzQ29kZS5jb2RlIGFzIHMgLT4gdGd0LnN0YXR1cyA9IHRyYW5zbGF0ZShzLCcjRmluYW5jaWFsU3RhdHVzJywnY29kZScpICJzdGF0dXMiOwogICAgfSJzYyI7CiAgICBzcmMgd2hlcmUgc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSAtPiB0Z3Quc3RhdHVzID0gJ2FjdGl2ZScgInN0YXR1c0Fic2VudCI7CiAgICAKICAgIC8vIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gdGd0LnBlcmlvZCBhcyBwZXJpb2QgdGhlbnsKICAgIC8vICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsIC0+IHBlcmlvZC5zdGFydCA9IChsLnZhbHVlKTsKICAgIC8vIH0icGVyaW9kIjsKCiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0LnBlcmlvZCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAobG93LmV4aXN0cygpKSAtPiB0Z3QucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwoKCiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5hY3QgYXMgYWMgLT4gdGd0LmNsYXNzIGFzIGNsYXNzIHRoZW57CiAgICAgICAgICAgIGFjLnRleHQgYXMgdGV4dCAtPiBjbGFzcy50eXBlIGFzIHR5cGUgdGhlbnsKICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiB0eXBlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICB9InJlZiI7CiAgICAgICAgICAgIGFjIC0+IGNsYXNzLnZhbHVlID0gJ2NvbW1lbnRpJyAibm90ZSI7CiAgICAgICAgfSJRVUkiOwogICAgfSJlbnRyeXIiOwp9Cgpncm91cCBhbGxlcmd5RnVuY3Rpb24oc291cmNlIHNyYzogY2RhRWxlbWVudCwgdGFyZ2V0IHRndDogQWxsZXJneUludG9sZXJhbmNlLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIpIHsKICAgIHNyYyAtPiB0Z3QucGF0aWVudD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgLy9zcmMgLT4gdGd0LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKCiAgICAvL3RvQVNLCiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZUaW1lIHRoZW57CiAgICAgICAgZWZmVGltZS5sb3cgYXMgbCAtPiB0Z3QucmVjb3JkZWREYXRlIGFzIHIgdGhlbiBUU0RhdGVUaW1lKGwsIHIpICJ2YWx1ZSI7CiAgICB9ImVmZnRpbWUiOwogICAgCiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAxIHRoZW57CiAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAxLm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uMSB0aGVuewoKICAgICAgICAgICAgCiAgICAgICAgICAgIG9ic2VydmF0aW9uMS5pZCAtPiB0Z3QuaWRlbnRpZmllcjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLnRlbXBsYXRlSWQgd2hlcmUgcm9vdCA9ICcyLjE2Ljg0MC4xLjExMzg4My4yLjkuMTAuMS40LjMuMS40JyAtPiB0Z3QuY29kZSBhcyBjb2RlIHRoZW57CiAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjEgLT4gY29kZS5jb2RpbmcgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24xIC0+IGNvZGluZy5jb2RlID0gJ05vIGtub3duIGFsbGVyZ3knICJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lICAtPiB0Z3Qub25zZXQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CiAgICAgICAgICAgIH0gIk5vYWxsZXJneSI7CgogICAgICAgICAgICBvYnNlcnZhdGlvbjEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwoKCiAgICAgICAgICAgIG9ic2VydmF0aW9uMS52YWx1ZSBhcyBjb2RlIHRoZW57CiAgICAgICAgICAgICAgICBjb2RlLmNvZGUgYXMgY29kZTEtPiB0Z3QudHlwZSA9IHRyYW5zbGF0ZShjb2RlMSwnI0FsbGVyZ3lUeXBlTWFwJywnY29kZScpICJ0eXBlIjsgCiAgICAgICAgICAgICAgICBjb2RlLmNvZGUgYXMgY29kZTEgLT4gdGd0LmNhdGVnb3J5ID0gdHJhbnNsYXRlKGNvZGUxLCcjQWxsZXJneUNhdGVnb3J5TWFwJywnY29kZScpICJjYXRlZ29yeSI7ICAgCiAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgLy90b0FTSyBxdWkgZG92cmVpIGZhcmUgdW4gY29udHJvbGxvIHN1bCBjb2RlIAogICAgICAgICAgICBvYnNlcnZhdGlvbjEudmFsdWUgLT4gdGd0LmNvZGU7CgogICAgICAgICAgICBvYnNlcnZhdGlvbjEucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDIgd2hlcmUgKHR5cGVDb2RlID0gJ01GU1QnKSB0aGVuewogICAgICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMi5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlIC0+IHJlYWN0aW9uLm1hbmlmZXN0YXRpb24gIm1hbmlmZXN0YXRpb24iOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuY29kZSAtPiByZWFjdGlvbi5tYW5pZmVzdGF0aW9uICJtYW5pZmVzdGF0aW9uIjsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnRleHQgYXMgdHggdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR4LnJlZmVyZW5jZSBhcyByZWZmIC0+IHJlYWN0aW9uLmRlc2NyaXB0aW9uID0gKHJlZmYudmFsdWUpICJ0eCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0idHgiOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsb3cgLT4gcmVhY3Rpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGxvdywgdmFsdWUpICJ2YWx1ZVBlcmlvZExvdyI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmhpZ2ggYXMgaGlnaCAtPiB0Z3QubGFzdE9jY3VycmVuY2UgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGhpZ2gsIHZhbHVlKSAidmFsdWVQZXJpb2RIaWdoIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgICAgIH0ib2JzZXJ2MiI7CiAgICAgICAgICAgICAgICB9ImVudHJ5UjIiOwogICAgICAgICAgICAgICAgcGFydGljaXBhbnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRpY2lwYW50Um9sZSB0aGVuewogICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRW50aXR5IGFzIHBsYXlpbmdFbnRpdHkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgcGxheWluZ0VudGl0eS5jb2RlIC0+IHJlYWN0aW9uLnN1YnN0YW5jZSAicmVhY3Rpb24iOwogICAgICAgICAgICAgICAgICAgIH0icGxheWluZ0VudGl0eSI7CiAgICAgICAgICAgICAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgICAgICAgICAgIH0icGFydGljaXBhbnQiOwogICAgICAgICAgICBvYnNlcnZhdGlvbjEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAyIHdoZXJlICh0eXBlQ29kZSA9ICdNRlNUJykgdGhlbnsKICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMi5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgd2hlcmUgb2JzZXJ2YXRpb24xLnBhcnRpY2lwYW50LmV4aXN0cygpLm5vdCgpIC0+IHRndC5yZWFjdGlvbiBhcyByZWFjdGlvbiB0aGVuewogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZSAtPiByZWFjdGlvbi5tYW5pZmVzdGF0aW9uICJtYW5pZmVzdGF0aW9uIjsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudGV4dCBhcyB0eCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB0eC5yZWZlcmVuY2UgYXMgcmVmZiAtPiByZWFjdGlvbi5kZXNjcmlwdGlvbiA9IChyZWZmLnZhbHVlKSAidHgiOwogICAgICAgICAgICAgICAgICAgIH0idHgiOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgZWZmZWN0aXZlVGltZS5sb3cgYXMgbG93IC0+IHJlYWN0aW9uLm9uc2V0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShsb3csIHZhbHVlKSAidmFsdWVQZXJpb2RMb3ciOwogICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgIH0ib2JzZXJ2MiI7CiAgICAgICAgICAgIH0iZW50cnlSMiI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDMgd2hlcmUgKHR5cGVDb2RlID0gJ1NVQkonKSB0aGVuewogICAgICAgICAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAzLm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uMyB0aGVuewogICAgICAgIAogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMy52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGMtPiB0Z3QuY3JpdGljYWxpdHkgPSB0cmFuc2xhdGUoYywnI0NyaWNhbGl0eU1hcCcsJ2NvZGUnKSAidmFsdWUiOwogICAgICAgICAgICAgICAgICAgIH0iY3JpdGljYWxpdHkiOyAKICAgICAgICAgICAgICAgIH0ib2JzZXJ2MyI7CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDMuYWN0IGFzIGFjdCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgYWN0LnRleHQgYXMgdGV4dCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSJub3RlIjsKICAgICAgICAgICAgICAgIH0iYWN0IjsKICAgICAgICAgICAgfSJlbnRyeVIzIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwNCB3aGVyZSAodHlwZUNvZGUgPSAnUkVGUicpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDQub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb240ICB0aGVuewoKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjQgLT4gdGd0LmNsaW5pY2FsU3RhdHVzIGFzIGNsaW5pY2FsU3RhdHVzIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uNC52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgYXMgdmFsdSAtPiBjbGluaWNhbFN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUgd2hlcmUoY29kZSA9ICdMQTkwNDEtMCcpIC0+IGNvZGluZy5jb2RlID0gICdyZXNvbHZlZCcgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUgd2hlcmUoY29kZSA9ICdMQTE4NjMyLTInKSAtPiBjb2RpbmcuY29kZSA9ICAnaW5hY3RpdmUnICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1IHdoZXJlKGNvZGUgPSAnTEExNjY2Ni0yJykgLT4gY29kaW5nLmNvZGUgPSAgJ2FjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1LmRpc3BsYXlOYW1lIGFzIGRpc3BsYXktPiBjb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJykgImRpc3BsYXkiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjQudGV4dCBhcyB0eCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZiAtPiBjbGluaWNhbFN0YXR1cy50ZXh0ID0gKHJlZi52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0idHgiOwoKICAgICAgICAgICAgICAgICAgICB9ImNsaW5pY2FsU3RhdHVzIjsKICAgICAgICAgICAgICAgIH0ib2JzZXJ2NCI7CiAgICAgICAgICAgIH0iZW50cnlSNCI7CiAgICAgICAgfSJvYnNlcnZhdGlvbiI7CiAgICB9ImVudHJ5cmVsYXRpb25zaGlwIjsKfQoKZ3JvdXAgTWVkaWNhdGlvblN0YXRlbWVudChzb3VyY2Ugc3JjOiBzdWJBZG1pbiwgdGFyZ2V0IHRndDogTWVkaWNhdGlvbnN0YXRlbWVudCwgdGFyZ2V0IHBhdGllbnQ6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBidW5kbGU6IEJ1bmRsZSl7CiAgICAKICAgIHNyYyAtPiB0Z3Quc3ViamVjdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgIAogICAgLy9zcmMgLT4gdGd0LmNvbnRleHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAgCiAgICBzcmMuc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzICJzdGF0dXMiOyAKCiAgICAKICAgIHNyYy5pZCAtPiB0Z3QuaWRlbnRpZmllcjsKICAgIHNyYy50ZXh0IGFzIHRleHQgLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICB9Im5vdGUiOwogICAgCiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmYgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiB0Z3QuZWZmZWN0aXZlICA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmLCB2YWx1ZSkgInZhbHVlMSI7CiAgICBzcmMuZWZmZWN0aXZlVGltZTogSVZMX1RTIGFzIGVmZiAtPiB0Z3QuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSAgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmYsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwoKICAgIHNyYyAtPiB0Z3QuZG9zYWdlID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICBzcmMuZWZmZWN0aXZlVGltZTogUElWTF9UUyBhcyBlZmYgIHRoZW57CiAgICAgICAgICAgIGVmZiAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcgdGhlbiBwZXJpb2RUaW1pbmcoZWZmLHRpbWluZykgImNvZCI7CiAgICAgICAgfSJlZmYiOwogICAgCiAgICAgICAgc3JjIHdoZXJlICAoc3JjLmRvc2VRdWFudGl0eS5leGlzdHMoKSBvciBzcmMucmF0ZVF1YW50aXR5LmV4aXN0cygpIG9yIHNyYy5yb3V0ZUNvZGUuZXhpc3RzKCkgb3Igc3JjLmFwcHJvYWNoU2l0ZUNvZGUuZXhpc3RzKCkpIHRoZW57CiAgICAgICAgICAgIHNyYy5kb3NlUXVhbnRpdHkgYXMgZG9zZVF1YW50IHRoZW57CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZS50ZXh0OwogICAgICAgICAgICAgICAgfSJvdCI7ICAKICAgICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkb3NhZ2UuZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkb3NhZ2VSYXRlLmRvc2UgPSBjcmVhdGUoJ1JhbmdlJykgYXMgZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9zZVF1YW50LmxvdyBhcyBsbyAtPiBsLnZhbHVlID0gKGxvLnZhbHVlKTsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnZhbHVlID0gKGhpLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5oaWdoIGFzIGhpIC0+IGgudW5pdCA9IChoaS51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICB9ImQiOwogICAgICAgICAgICAgICAgfSJkb3NhZ2VSYXRlIjsKICAgICAgICAgICAgfSAiZG9zZVF1YW50aXR5IjsKICAgICAgICAgICAgc3JjLnJhdGVRdWFudGl0eSBhcyByYXRlUXVhbnRpdHkgdGhlbnsKICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5vcmlnaW5hbFRleHQgYXMgb3QgdGhlbnsKICAgICAgICAgICAgICAgICAgICBvdC5yZWZlcmVuY2UgLT4gZG9zYWdlLnRleHQ7CiAgICAgICAgICAgICAgICB9Im90IjsKICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eSAtPiBkb3NhZ2UuZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eSAtPiBkb3NhZ2VSYXRlLnJhdGUgPSBjcmVhdGUoJ1JhbmdlJykgYXMgZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmxvdyBhcyBsbyAtPiBsLnZhbHVlID0gKGxvLnZhbHVlKTsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkuaGlnaCBhcyBoaSAtPiBoLnZhbHVlID0gKGhpLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5oaWdoIGFzIGhpIC0+IGgudW5pdCA9IChoaS51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0iaGlnaCI7CiAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgIH0iZG9zYWdlUmF0ZSI7CiAgICAgICAgICAgIH0icmF0ZSI7CiAgICAgICAgCiAgICAgICAgICAgIHNyYy5yb3V0ZUNvZGUgLT4gZG9zYWdlLnJvdXRlICJyb3V0ZSI7CiAgICAgICAgICAgIHNyYy5hcHByb2FjaFNpdGVDb2RlIC0+IGRvc2FnZS5zaXRlICJzaXRlIjsKICAgICAgICAgICAgc3JjLnRhcmdldFNpdGVDb2RlIC0+IGRvc2FnZS5zaXRlICJzaXRlIjsKICAgIAogICAgICAgIH0icm91dGUiOyAgICAKICAgIH0iZG9zIjsKCgogICAgc3JjLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb24nKSBhcyBtZWRpY2F0aW9uLCAgbWVkaWNhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvbicsIHRndC5tZWRpY2F0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyBtZWRyZWYsICBtZWRyZWYucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbi8nICsgJW1lZGljYXRpb24uaWQpIHRoZW4gTWVkaWNhdGlvbihzcmMsIG1lZGljYXRpb24scGF0aWVudCxidW5kbGUpICJtZWRpY2F0aW9uIjsKICAgIH0iY29uc3VtYWJsZSI7Cgp9Cmdyb3VwIHBlcmlvZFRpbWluZyhzb3VyY2UgZWZmZWN0aXZlVGltZTogUElWTF9UUywgdGFyZ2V0IHRpbWluZzogVGltaW5nKXsKICAgIGVmZmVjdGl2ZVRpbWUgLT4gdGltaW5nLnJlcGVhdCBhcyByIHRoZW57CiAgICAgIGVmZmVjdGl2ZVRpbWUucGVyaW9kIGFzIHAgLT4gci5wZXJpb2QgPSAocC52YWx1ZSk7IAogICAgICBlZmZlY3RpdmVUaW1lLnBlcmlvZCBhcyBwIC0+IHIucGVyaW9kVW5pdCA9IChwLnVuaXQpOyAgIAogICAgfSJyZXBlYXQiOwogIH0KCmdyb3VwIE1lZGljYXRpb24oc291cmNlIHNyYzogICwgdGFyZ2V0IHRndDogTWVkaWNhdGlvbiwgdGFyZ2V0IHBhdGllbnQ6IFBhdGllbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpewoKICAgIHNyYy5jb25zdW1hYmxlIGFzIGNvbnN1bWFibGUgdGhlbnsKICAgICAgICBjb25zdW1hYmxlLm1hbnVmYWN0dXJlZFByb2R1Y3QgYXMgbWFudWZhY3R1cmVkUHJvZHVjdCB0aGVuewogICAgICAgICAgICBtYW51ZmFjdHVyZWRQcm9kdWN0Lm1hbnVmYWN0dXJlZE1hdGVyaWFsIGFzIG1hbnVmYWN0dXJlZE1hdGVyaWFsIHRoZW57CiAgICAgICAgICAgICAgICBtYW51ZmFjdHVyZWRNYXRlcmlhbC5jb2RlIC0+IHRndC5jb2RlICJDRSI7CiAgICAgICAgICAgICAgICBzcmMuYWRtaW5pc3RyYXRpb25Vbml0Q29kZSAtPiB0Z3QuZm9ybSAiZm9ybSI7CiAgICAgICAgICAgIH0ibWF0ZXJpYWwiOwogICAgICAgIH0icHJvZHVjdCI7CiAgICB9ImNvbnN1bWFibGUiOwoKICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVIgdGhlbnsKICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nR3JhbW1hdHVyYScgLT4gdGd0LmluZ3JlZGllbnQgYXMgaW5ncmVkaWVudCB0aGVuewogICAgICAgICAgICAgICAgc3JjLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgICAgICAgICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZFByb2R1Y3QubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudWZhY3R1cmVkTWF0ZXJpYWwgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZE1hdGVyaWFsLmNvZGUgYXMgY29kZSAtPiBpbmdyZWRpZW50Lml0ZW0gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIHZhbHVlIHRoZW4gQ0VDb2RlYWJsZUNvbmNlcHQoY29kZSx2YWx1ZSkgIkNFIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJtYXRlcmlhbCI7CiAgICAgICAgICAgICAgICAgICAgfSJwcm9kdWN0IjsKICAgICAgICAgICAgICAgIH0iY29uc3VtYWJsZSI7CiAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBpbmdyZWRpZW50LnN0cmVuZ3RoIGFzIHN0cmVuZ3RoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGgubnVtZXJhdG9yIGFzIG51bWVyYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBudW1lcmF0b3IudmFsdWUgPSAodmFsdWUudmFsdWUpICJ2YWx1ZU4iOwogICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGguZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgIH0ic3RyZW5naHQiOwogICAgICAgICAgICB9ImluZ3JlZGllbnQiOwogICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIHdoZXJlIGRpc3BsYXlOYW1lPSdRdWFudGl0w6AgbmVsbGEgQ29uZmV6aW9uZScgdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IHRndC5hbW91bnQgYXMgYW1vdW50IHRoZW57CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gYW1vdW50Lm51bWVyYXRvciAgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IG51bWVyYXRvci52YWx1ZSA9ICh2YWx1ZS52YWx1ZSkgInZhbHVlTiI7CiAgICAgICAgICAgICAgICAgICAgfSAibnVtZXJhdG9yIjsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBhbW91bnQuZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgIH0iYW1vdW50IjsKICAgICAgICAgICAgfSJxdWFudGl0YSI7CiAgICAgICAgfSJvYnMiOwogICAgfSJlbnRyeVIiOwp9Cgpncm91cCBJbW11bml6YXRpb24oc291cmNlIHN1YnN0YW5jZTogc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24sIHRhcmdldCBwYXRpZW50OiBQYXRpZW50LHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCB0Z3Q6IGltbXVuaXphdGlvbiwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKSB7CgogICAgICAgIHN1YnN0YW5jZSAtPiB0Z3QucGF0aWVudCAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInBhdGllbnRSZWYiOyAKICAgICAgICAvL3N1YnN0YW5jZSAtPiB0Z3QuZW5jb3VudGVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgImVuY291bnRlclJlZiI7IAoKICAgICAgICBzdWJzdGFuY2UuaWQgYXMgaWQgLT4gdGd0LmlkZW50aWZpZXIgYXMgaWRmIHRoZW57CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPiBpZGYuc3lzdGVtID0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgfSJpZCI7CiAgICAgICAgc3Vic3RhbmNlLnRleHQgYXMgdGV4dCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICAgICAgfSJub3RlIjsKICAgICAgICBzdWJzdGFuY2Uuc3RhdHVzQ29kZSAgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gdGd0LnN0YXR1cyA9J2NvbXBsZXRlZCc7ICAKICAgICAgICBzdWJzdGFuY2Uuc3RhdHVzQ29kZSAgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IHRndC5zdGF0dXMgPSdmaW5hbCc7ICAKICAgICAgICBzdWJzdGFuY2Uuc3RhdHVzQ29kZSAgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gdGd0LnN0YXR1cyA9J2VudGVyZXItaW4tZXJyb3InOyAgCiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NhbmNlbGxlZCcpIC0+IHRndC5zdGF0dXMgPSdub3QtZG9uZSc7IAoKICAgICAgICBzdWJzdGFuY2UuZWZmZWN0aXZlVGltZSBhcyB0aW1lIC0+IHRndC5vY2N1cnJlbmNlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0aW1lLCB2YWx1ZSkgImVmZnRpbWUiOwogICAgICAgIHN1YnN0YW5jZS5yb3V0ZUNvZGUgLT4gdGd0LnJvdXRlOwogICAgICAgIHN1YnN0YW5jZS5hcHByb2FjaFNpdGVDb2RlIC0+dGd0LnNpdGU7CiAgICAgICAgc3Vic3RhbmNlIC0+IHRndC5kb3NlUXVhbnRpdHkgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbnsKICAgICAgICAgIHN1YnN0YW5jZS5kb3NlUXVhbnRpdHkgYXMgcSB0aGVuewogICAgICAgICAgICBxIC0+IHF1YW50aXR5LnZhbHVlID0gKHEudmFsdWUpICJ2YWwiOwogICAgICAgICAgICBxIC0+IHF1YW50aXR5LnVuaXQgPSAocS51bml0KSAidW5pIjsgCiAgICAgICAgICB9InF1YSI7IAogICAgICAgIH0icSI7CgogICAgICAgIHN1YnN0YW5jZS5jb25zdW1hYmxlIGFzIGNvbnMgdGhlbnsKICAgICAgICAgIGNvbnMubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdCB0aGVuewogICAgICAgICAgICBtYW51ZmFjdC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51ZmFjdG1hdCB0aGVuewogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmNvZGUgLT4gdGd0LnZhY2NpbmVDb2RlOwogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmxvdE51bWJlclRleHQgYXMgdCAtPiB0Z3QubG90TnVtYmVyID0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICAgIH0ibWFudWZhY3RtYXQiOwogICAgICAgICAgICBtYW51ZmFjdC5tYW51ZmFjdHVyZXJPcmdhbml6YXRpb24gYXMgbWFudWZhY3RPcmcgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gIHRoZW57CiAgICAgICAgICAgICAgbWFudWZhY3RPcmcuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgIG1hbnVmYWN0T3JnIC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZCwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS8nLCB1dWlkKSwgdGd0Lm1hbnVmYWN0dXJlciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS8nICsgJW9yZ2FuaXphdGlvbi5pZCkgImlkYXNpIjsgICAgICAgCiAgICAgICAgICAgICAgICB9InIiIDsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIG1hbnVmYWN0T3JnLm5hbWUgYXMgbiAtPiBvcmdhbml6YXRpb24ubmFtZSA9IChuLm90aGVyKTsKICAgICAgICAgICAgICAgICAgbWFudWZhY3RPcmctPiBvcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICBtYW51ZmFjdE9yZy0+IG1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIG1hbnVmYWN0T3JnIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICBtYW51ZmFjdE9yZyAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9WYWNjaW5hemlvbmkvbWFudWZhY3R1cmVyT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICB9Im1hbnVmYWN0T3JnIjsgICAgICAgICAgCiAgICAgICAgICB9Im1hbnVmYWN0IjsKICAgICAgICB9ImNvbnMiOwogICAgICAgCiAgICAgICAgc3Vic3RhbmNlLnBhcnRpY2lwYW50IGFzIHBhcnQgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTG9jYXRpb24nKSBhcyBsb2NhdGlvbiwgIGxvY2F0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxIHRoZW57CiAgICAgICAgICAgICAgcGFydC0+IGxvY2F0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICBwYXJ0LT4gbWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBwYXJ0IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIHBhcnQgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvVmFjY2luYXppb25lL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgICAgcGFydC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydFJvbGUgdGhlbnsKICAgICAgICAgICAgcGFydFJvbGUuaWQgYXMgaWQgLT4gbG9jYXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgcGFydFJvbGUgLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ0xvY2F0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gbG9jYXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24nLCB1dWlkKSwgdGd0LmxvY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlLycgKyAlbG9jYXRpb24uaWQpICJpZGFzaSI7ICAgICAgIAogICAgICAgICAgICAgIH0iciIgOwogICAgICAgICAgfSJpZGVudGlmaWVyIjsgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgfSJyb2xlIjsKICAgICAgICB9InBhcnQiOwoKICAgICAgICBzdWJzdGFuY2UuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlyZWwxIHRoZW57CiAgICAgICAgICBlbnRyaXJlbDEub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57ICAgICAgICAgIAogICAgICAgICAgICBvYnMuY29kZSB3aGVyZSggY29kZSA9ICczMDk3My0yJykgdGhlbiB7CiAgICAgICAgICAgICAgb2JzIC0+IHRndC5wcm90b2NvbEFwcGxpZWQgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHByb3QgdGhlbnsKICAgICAgICAgICAgICAgIG9icy52YWx1ZSBhcyB2IHRoZW4gewogICAgICAgICAgICAgICAgICB2LnZhbHVlIGFzIGludCAtPiBwcm90LmRvc2VOdW1iZXIgPSAoaW50LnRvU3RyaW5nKCkpOyAKICAgICAgICAgICAgICAgIH0idmFsdWUiOyAKICAgICAgICAgICAgICB9InZhbCI7ICAgICAgICAgICAgCiAgICAgICAgICAgIH0iY29kZWNvbnRyb2wiOwogICAgICAgICAgfSJvYnMiOwogICAgICAgIH0iZW50cmlyZWwxIjsKCiAgICAgICAgc3Vic3RhbmNlLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpcmVsMiB0aGVuewogICAgICAgICAgZW50cmlyZWwyLm9ic2VydmF0aW9uIGFzIG9icyB0aGVueyAgICAgICAgICAKICAgICAgICAgICAgb2JzLmNvZGUgd2hlcmUoIGNvZGUgPSAnNTk3ODEtNScpdGhlbnsKICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsdWUgdGhlbnsKICAgICAgICAgICAgICAgIHZhbHVlLmhpZ2ggYXMgaCB0aGVuewogICAgICAgICAgICAgICAgICAgIGgudmFsdWUgYXMgdmFsdWUgLT4gdGd0LmV4cGlyYXRpb25EYXRlID0gdHJ1bmNhdGUodmFsdWUsIDEwKTsgLy90cnVuY2F0ZShkYXRlLCAxMCk7ICAgCiAgICAgICAgICAgICAgICB9InZhbCI7CiAgICAgICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgICAgIH0iY29kZWNvbnRyb2wiOwogICAgICAgICAgfSJvYnMiOwogICAgICAgIH0iZW50cmlyZWwyIjsKCiAgICAgICAgc3Vic3RhbmNlLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpcmVsNCB0aGVuewogICAgICAgICAgZW50cmlyZWw0Lm9ic2VydmF0aW9uIGFzIG9icyB0aGVueyAgICAgICAgICAKICAgICAgICAgICAgb2JzLmNvZGUgd2hlcmUoIGNvZGUgPSAnNTk3ODUtNicpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgdGd0LnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgICAgICAgICBvYnMgdGhlbiBPYnNlcnZhdGlvbjEoZW50cmlyZWw0LHBhdGllbnQsdGd0LGJ1bmRsZSxlbmMsb2JzZXJ2YXRpb24pICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgIH0iY29kZWNvbnRyb2wiOwogICAgICAgICAgfSJvYnMiOwogICAgICAgIH0iZW50cmlyZWw0IjsKICAgICAgCiAgICAgICAgc3Vic3RhbmNlLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpcmVsNSB0aGVuewogICAgICAgICAgICBlbnRyaXJlbDUub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57ICAgICAgICAgIAogICAgICAgICAgICAgIG9icy5jb2RlIHdoZXJlKCBjb2RlID0gJzc1MzIxLTAnKSBvciAoY29kZSA9ICc1MzIxLTAnKSAtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbiB7CiAgICAgICAgICAgICAgICBvYnMgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICwgcmVhY3Rpb24uZGV0YWlsICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzLCBwYXRpZW50LCBlbmNvdW50ZXIsIG9ic2VydmF0aW9uLCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgICAgfSJjb2RlY29udHJvbCI7CiAgICAgICAgICAgIH0ib2JzIjsKICAgICAgICB9ImVudHJpcmVsNSI7CgogICAgICAgIHN1YnN0YW5jZS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaXJlbDUgdGhlbnsKICAgICAgICAgICAgZW50cmlyZWw1LmFjdCBhcyBhY3QgdGhlbnsgICAgICAgICAgCiAgICAgICAgICAgICAgYWN0LnRleHQgYXMgdHggLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICAgICAgICAgIH0ibm90ZSI7CiAgICAgICAgICAgIH0ib2JzIjsKICAgICAgICB9ImVudHJpcmVsNSI7CiAgCn0KCmdyb3VwIENvbmRpdGlvbkZ1bmN0aW9uIChzb3VyY2Ugc3JjOiBjZGFFbGVtZW50LCB0YXJnZXQgdGd0OiBDb25kaXRpb24sIHRhcmdldCBwYXRpZW50IDogcGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IGVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSkgewogICAgCiAgICBzcmMuaWQgLT4gdGd0LmlkZW50aWZpZXI7CiAgICBzcmMgLT4gdGd0LnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgIC8vc3JjIC0+IHRndC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgCiAgICBzcmMuc3RhdHVzQ29kZSBhcyBzdHNjb2RlIC0+IHRndC52ZXJpZmljYXRpb25TdGF0dXMgYXMgdmVyaWZzdGF0dXMgdGhlbiB7IAogICAgICAgIHN0c2NvZGUgYXMgY29kZVMgLT4gdmVyaWZzdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGNvZGVTLmNvZGUgLT4gY29kaW5nLmNvZGUgPSAnY29uZmlybWVkJyAiY29kZSI7CiAgICAgICAgICAgIGNvZGVTIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2NvbmRpdGlvbi12ZXItc3RhdHVzJyAic3lzdGVtIjsKICAgICAgICAgICAgY29kZVMgLT4gY29kaW5nLmRpc3BsYXk9IGNhc3QoJ0NvbmZpcm1lZCcsICdzdHJpbmcnKSAiZGlzcGxheSI7CiAgICB9ImNvZGluZyI7ICAgIAogICAgfSJ2ZXJpZnN0YXR1cyI7CiAgICBzcmMgd2hlcmUgZW50cnlSZWxhdGlvbnNoaXAuZXhpc3RzKCkubm90KCkgdGhlbnsKICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3Qub25zZXQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CiAgICB9Im9uc2V0IjsKCiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5vYnNlcnZhdGlvbiBhcyBvYnNlbnRyeSB0aGVuewogICAgICAgICAgICAKICAgICAgICAgICAgLy90b0FTSwogICAgICAgICAgICBvYnNlbnRyeS52YWx1ZSAtPiB0Z3QuY29kZTsKCiAgICAgICAgICAgIG9ic2VudHJ5LmNvZGUgLT4gdGd0LmNhdGVnb3J5OwogICAgICAgICAgICBvYnNlbnRyeS5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiB0Z3Qub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUxIjsKICAgICAgICAgICAgb2JzZW50cnkuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgICAgICAgICAgb2JzZW50cnkudGV4dCBhcyB0ZXh0IC0+IHRndC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICAgICAgICAgIH0ibm90ZSI7CiAgICAgICAgICAgIG9ic2VudHJ5LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UjIgdGhlbnsKICAgICAgICAgICAgICAgIGVudHJ5UjIub2JzZXJ2YXRpb24gYXMgb2JzZW50cnkyIHRoZW57CgogICAgICAgICAgICAgICAgICAgIG9ic2VudHJ5Mi5jb2RlIHdoZXJlIGNvZGUgPSc4OTI2MS0yJyB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBvYnNlbnRyeTIgLT4gdGd0LmV2aWRlbmNlIGFzIGV2aWRlbmNlLCBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnN5LCAgb2JzeS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZXZpZGVuY2UuZGV0YWlsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnN5LmlkKSB0aGVuIE9ic2VydmF0aW9uKG9ic2VudHJ5MiwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnN5LCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgfSJvYnNlcnZhdGlvbiI7CgogICAgICAgICAgICAgICAgICAgIG9ic2VudHJ5Mi5jb2RlIHdoZXJlIGNvZGUgPSAnMzM5OTktNCcgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZW50cnkyLnZhbHVlIGFzIHZhbHVlIC0+IHRndC5jbGluaWNhbFN0YXR1cyBhcyBjbGluaWNhbHN0YXR1cyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGFzIHZhbCAtPiBjbGluaWNhbHN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgd2hlcmUoY29kZSA9ICdMQTkwNDEtMCcpIC0+IGNvZGluZy5jb2RlID0gICdyZXNvbHZlZCcgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCB3aGVyZShjb2RlID0gJ0xBMTg2MzItMicpIC0+IGNvZGluZy5jb2RlID0gICdpbmFjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbCB3aGVyZShjb2RlID0gJ0xBMTY2NjYtMicpIC0+IGNvZGluZy5jb2RlID0gICdhY3RpdmUnICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2NvbmRpdGlvbi1jbGluaWNhbCcgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXktPiBjb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJykgImRpc3BsYXkiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOyAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlbnRyeTIudGV4dCBhcyB0ZXh0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IGNsaW5pY2Fsc3RhdHVzLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9InRleHQiOwogICAgICAgICAgICAgICAgICAgICAgICB9ImNsaW5pY2Fsc3RhdHVzIjsKICAgICAgICAgICAgICAgICAgICB9ImNsaW5pY2FsU3RhdHVzMiI7CgogICAgICAgICAgICAgICAgICAgIG9ic2VudHJ5Mi5jb2RlIHdoZXJlIGNvZGUgPSdTRVYnIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VudHJ5Mi52YWx1ZSAtPiB0Z3Quc2V2ZXJpdHk7CiAgICAgICAgICAgICAgICAgICAgfSJzZXZlcml0eSI7CiAgICAgICAgICAgICAgICB9Im9ic2VydmF0aW9uIjsKICAgICAgICAgICAgICAgIGVudHJ5UjIuYWN0IGFzIGFjdCB0aGVuewogICAgICAgICAgICAgICAgICAgIGFjdC50ZXh0IGFzIHRleHQgLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInRleHQiOwogICAgICAgICAgICAgICAgICAgIH0ibm90ZSI7CiAgICAgICAgICAgICAgICB9ImFjdCI7CiAgICAgICAgICAgIH0iZW50cnlSIjsKICAgICAgICB9IkVudHJ5UmVsT2JzZXZhdGlvbiI7CiAgICB9ICJlbnRyeVIiOwp9Cgpncm91cCBGYW1pbHlNZW1iZXJGdW5jdGlvbihzb3VyY2Ugc3JjIDogb3JnYW5pemVyLCB0YXJnZXQgdGd0IDogZmFtaWx5TWVtYmVyLCB0YXJnZXQgcGF0aWVudCA6IHBhdGllbnQpewogICAgc3JjIC0+IHRndC5wYXRpZW50ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJwYXRSZWZlcmVuY2UiOyAgICAKICAgIHNyYy5pZCAtPiB0Z3QuaWRlbnRpZmllcjsgCiAgICBzcmMuc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3QuZGF0ZSA9IGNyZWF0ZSgnZGF0ZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlKGVmZmVjdGl2ZVRpbWUsdmFsdWUpICJkYXRlIjsKICAgIHNyYy5zdWJqZWN0IGFzIHN1YmplY3QgdGhlbnsKICAgICAgICBzdWJqZWN0LnJlbGF0ZWRTdWJqZWN0IGFzIHJlbGF0ZWRTdWJqZWN0IHRoZW57CiAgICAgICAgICAgIHJlbGF0ZWRTdWJqZWN0LmNvZGUgLT4gdGd0LnJlbGF0aW9uc2hpcCAicmVsYXRpb25zaGlwQ29kZSI7CiAgICAgICAgICAgIHJlbGF0ZWRTdWJqZWN0LnN1YmplY3QgYXMgc3ViamVjdCAtPiB0Z3Quc2V4IGFzIHNleCB0aGVuIHsKICAgICAgICAgICAgICAgIHN1YmplY3QuYWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlIGFzIGFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZSAtPiBzZXguY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUuY29kZSBhcyBzZXhDb2RlLT4gY29kaW5nLmNvZGUgPSB0cmFuc2xhdGUoc2V4Q29kZSwgJyNjbS12My1hZG1pbmlzdHJhdGl2ZS1nZW5kZXInLCAnY29kZScpICJnZW5kZXIiOwogICAgICAgICAgICAgICAgICAgIGFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZSAtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvYWRtaW5pc3RyYXRpdmUtZ2VuZGVyJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUuZGlzcGxheU5hbWUgYXMgZG4gLT4gY29kaW5nLmRpc3BsYXkgPSBkbjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJzdWJqZWN0IjsKICAgICAgICB9InJlbGF0ZWRTdWIiOwogICAgfSJyZWxhdGlvbnNoaXAiOwogICAgc3JjLmNvbXBvbmVudCBhcyBjb21wb25lbnQgLT4gdGd0LmNvbmRpdGlvbiBhcyBjb25kaXRpb24gdGhlbnsKICAgICAgICBjb21wb25lbnQub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSAtPiBjb25kaXRpb24uY29kZSAiY29kZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLnRleHQgYXMgdGV4dCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInZhbHVlIjsKICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgICBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlIC0+IHRndC5zdGF0dXM7CiAgICAgICAgICAgIC8vb2JzZXJ2YXRpb24uZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IGNvbmRpdGlvbi5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgICAgICAgICAgLy8gb2JzZXJ2YXRpb24uZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IGNvbmRpdGlvbi5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbnsKICAgICAgICAgICAgLy8gICAgIGVmZmVjdGl2ZVRpbWUgLT4gdmFsdWUuc3RhcnQgPSAoZWZmZWN0aXZlVGltZS52YWx1ZSkgInZhIjsKICAgICAgICAgICAgLy8gfSJ2YWx1ZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIC0+IGNvbmRpdGlvbi5vdXRjb21lICJjb2RlYWJsZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgICAgICAgICAgZW50cnlSLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuewogICAgICAgICAgICAgICAgICAgIG9icyB3aGVyZSAoY29kZS5jb2RlID0nMzUyNjctNCcpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9icy52YWx1ZSBhcyB2YWx1ZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ0FnZScpIGFzIEFnZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnZhbHVlIGFzIHZhbHVlQWdlIC0+IEFnZS52YWx1ZSA9IHZhbHVlQWdlICJhZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS5jb2RlID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS51bml0IGFzIHVuaXQgLT4gQWdlLnVuaXQgPSB1bml0ICJ1bml0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IEFnZS5zeXN0ZW0gPSAnaHR0cDovL3VuaXRzb2ZtZWFzdXJlLm9yZycgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgfSAidmFsdWUiOwogICAgICAgICAgICAgICAgfSJpbnNvcmdlbnphIjsKICAgICAgICAgICAgICAgICAgICBvYnMgd2hlcmUgKGNvZGUuY29kZSA9JzM5MDE2LTEnKSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsdWUgLT4gdGd0LmRlY2Vhc2VkID0gY3JlYXRlKCdBZ2UnKSBhcyBBZ2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSBhcyB2YWx1ZUFnZSAtPiBBZ2UudmFsdWUgPSB2YWx1ZUFnZSAiYWdlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnVuaXQgYXMgdW5pdCAtPiBBZ2UuY29kZSA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBBZ2Uuc3lzdGVtID0gJ2h0dHA6Ly91bml0c29mbWVhc3VyZS5vcmcnICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgICAgIH0iZGVhdGgiOwogICAgICAgICAgICB9Im9ic2VyIjsKICAgICAgICAgICAgfSJFbnRyeVJlbCI7CiAgICAgICAgfSJvYnNlcnZhdGlvbiI7CiAgICB9ImNvbXBvbmVudCI7Cn0KCmdyb3VwIFByYWN0aXRpb25lcihzb3VyY2Ugc3JjIDogcGVyZm9ybWVyLCB0YXJnZXQgdGd0OiBFbmNvdW50ZXIsIHRhcmdldCBidW5kbGU6IEJ1bmRsZSl7CiAgICBzcmMgLT4gYnVuZGxlLmVudHJ5IGFzIGUyMiwgZTIyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUyMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyMSB0aGVueyAgICAgICAKICAgICAgICBzcmMuYXNzaWduZWRFbnRpdHkgYXMgYXNzaWduZWRFbnRpdHkgLT4gdGd0LnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IHRoZW57CgogICAgICAgICAgICBzcmMudGltZSBhcyB0aW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gIHBhcnRpY2lwYW50LnBlcmlvZCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUodGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgICAgICAgICBzcmMudGltZSBhcyB0aW1lIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+ICBwYXJ0aWNpcGFudC5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QodGltZSwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBzcmMudGltZSBhcyB0aW1lIC0+IHBhcnRpY2lwYW50LnBlcmlvZCBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgLy8gICAgIHRpbWUgLT4gcGVyaW9kLnN0YXJ0ICJzdGFydCI7CiAgICAgICAgICAgIC8vIH0gInBlcmlvZCI7IAoKICAgICAgICAgICAgYXNzaWduZWRFbnRpdHkuaWQgYXMgaWQgLT5wcmFjdGl0aW9uZXIxLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuewogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCAiZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIxLmlkID0gKHIgKyAnLScgKyBleHQpIGFzIHV1aWQyMiwgIGUyMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyMiksIHBhcnRpY2lwYW50LmluZGl2aWR1YWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIxLmlkKSAiaWQiOwogICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgYXNzaWduZWRFbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgIGFzc2lnbmVkRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImRpdmVyc28iOwogICAgICAgICAgICBhc3NpZ25lZEVudGl0eSAtPiBwcmFjdGl0aW9uZXIxLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIHNyYy0+IG1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgc3JjIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIHNyYyAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9WaXNpdGVSaWNvdmVyaS9wZXJmb3JtZXIvJyAiY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgIGFzc2lnbmVkRW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyMS5hZGRyZXNzOyAgICAgIAogICAgICAgICAgICBhc3NpZ25lZEVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lcjEudGVsZWNvbTsKICAgICAgICAgICAgYXNzaWduZWRFbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW57CiAgICAgICAgICAgICAgICBwZXJzb24ubmFtZSAtPiAgcHJhY3RpdGlvbmVyMS5uYW1lICJuYW1lIjsgCiAgICAgICAgICAgICAgICBwZXJzb24uYmlydGhUaW1lIC0+IHByYWN0aXRpb25lcjEuYmlydGhEYXRlOwogICAgICAgICAgICB9InBhcnRuYW1lIjsKICAgICAgICB9InBhcnRpY2lwYW50IjsKICAgIH0icmVzdXJjZUNyZWF0aW9uIjsKfQoKZ3JvdXAgQ2FyZVBsYW5GdW5jdGlvbihzb3VyY2Ugc3JjOiBlbnRyeSwgdGFyZ2V0IHRndDogQ2FyZVBsYW4sIHRhcmdldCBwYXRpZW50OlBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXI6IGVuYywgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKICAgIHNyYyAtPiB0Z3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgCiAgICBzcmMgLT4gdGd0LnN0YXR1cyA9J3Vua25vd24nICJzdGF0dXMiOwogICAgc3JjIC0+IHRndC5pbnRlbnQgPSAncGxhbicgImludGVudCI7CiAgICBzcmMgLT4gdGd0LmFjdGl2aXR5IGFzIGFjdGl2aXR5IHRoZW57ICAKICAgICAgICBzcmMgLT4gYWN0aXZpdHkuZGV0YWlsIGFzIGRldGFpbCB0aGVuewogICAgICAgICAgICBzcmMub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsgCiAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbiAgdGhlbnsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbiAtPiBkZXRhaWwuc3RhdHVzID0gJ3Vua25vd24nICJzdGF0dXMiOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEsICBvYnMxLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBkZXRhaWwucmVhc29uUmVmZXJlbmNlICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlcnZhdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnMxLCBidW5kbGUpICJvYnMxIjsKICAgICAgICAgICAgICAgIH0iYWN0aXZpdHkiOwogICAgICAgICAgICB9ImVudHJ5T2JzIjsKICAgIAogICAgICAgICAgICBzcmMuc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24gYXMgc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24gLT4gdGd0LmFjdGl2aXR5IGFzIGFjdGl2aXR5IHRoZW57IAogICAgICAgICAgICAgICAgc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25SZXF1ZXN0JykgYXMgbWVkcmUxLCAgbWVkcmUxLmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblJlcXVlc3QnLCBhY3Rpdml0eS5yZWZlcmVuY2UgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZHJlMS5pZCkgdGhlbiBNZWRpY2F0aW9uUmVxdWVzdChzdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLG1lZHJlMSxidW5kbGUpIlRlcmFwaWUiOwogICAgICAgICAgICB9ImVudHJ5U3ViIjsKICAgIAogICAgICAgICAgICBzcmMucHJvY2VkdXJlIGFzIHByb2NlZHVyZUMgLT4gYnVuZGxlLmVudHJ5IGFzIGU4LCBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJvY2VkdXJlJykgYXMgcHJvY2VkdXJlLCAgcHJvY2VkdXJlLmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nLCB1dWlkOCksIHJlcXVlc3QudXJsID0gJ1Byb2NlZHVyZScgLCBhY3Rpdml0eS5vdXRjb21lUmVmZXJlbmNlICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nICsgJXByb2NlZHVyZS5pZCkgdGhlbiBQcm9jZWR1cmUocHJvY2VkdXJlQywgcGF0aWVudCwgZW5jb3VudGVyLCBwcm9jZWR1cmUsIGJ1bmRsZSkgInByb2MiOwogICAgICAgICAgICAKICAgICAgICAgICAgc3JjLmVuY291bnRlciBhcyBlbmNvdW50ZXJDREEgLT4gYnVuZGxlLmVudHJ5IGFzIGUzLCBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUzLnJlc291cmNlID0gY3JlYXRlKCdFbmNvdW50ZXInKSBhcyBlbmNvdW50ZXJGSElSLCAgZW5jb3VudGVyRkhJUi5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJywgdXVpZDMpLHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicsIHRndC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyRkhJUi5pZCkgdGhlbnsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgLy9lbmNvdW50ZXJDREEgLT4gZW5jb3VudGVyRkhJUi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJlbmNvdW50ZXJIZWFkZXIiOwogICAgICAgICAgICAgICAgZW5jb3VudGVyQ0RBIC0+IGVuY291bnRlckZISVIuc3ViamVjdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmUGF0aWVudCI7CgogICAgICAgICAgICAgICAgZW5jb3VudGVyQ0RBLmlkIC0+IGVuY291bnRlckZISVIuaWRlbnRpZmllcjsKICAgICAgICAgICAgICAgIGVuY291bnRlckNEQS5zdGF0dXNDb2RlIC0+IGVuY291bnRlckZISVIuc3RhdHVzOwogICAgICAgICAgICAgICAgZW5jb3VudGVyQ0RBIHdoZXJlIHN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgLT4gZW5jb3VudGVyRkhJUi5zdGF0dXMgPSAndW5rbm93bicgInN0YXR1cyI7CiAgICAgICAgICAgICAgICBlbmNvdW50ZXJDREEuY29kZSBhcyBjb2RlIC0+IGVuY291bnRlckZISVIuY2xhc3MgYXMgY2xhc3MgdGhlbnsKICAgICAgICAgICAgICAgICAgICBjb2RlLmNvZGUgYXMgY29kZSAtPiBjbGFzcy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgY29kZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjbGFzcy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICBjb2RlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY2xhc3MuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgfSJjbGFzcyI7CiAgICAgICAgICAgICAgICBlbmNvdW50ZXJDREEudGV4dCBhcyB0ZXh0IC0+IGVuY291bnRlckZISVIudHlwZSBhcyB0eXBlIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiB0eXBlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICAgICAgfSJ0ZXh0IjsKCiAgICAgICAgICAgICAgICBlbmNvdW50ZXJDREEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IGVuY291bnRlckZISVIucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSxzdGFydCkgInZhbCI7CiAgICAgICAgICAgICAgICB9ImVmZnQiOwoKICAgICAgICAgICAgfSJ2aXN0ZSI7CiAgICAgICAgICAgIAogICAgICAgICAgICBzcmMuYWN0IGFzIGFjdCB0aGVueyAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGFjdC5pZCAtPiB0Z3QuaWRlbnRpZmllcjsKICAgICAgICAgICAgICAgIGFjdC5jb2RlIC0+IGFjdGl2aXR5Lm91dGNvbWVDb2RlYWJsZUNvbmNlcHQ7CiAgICAgICAgICAgICAgICBhY3QudGV4dCBhcyB0ZXh0IC0+IGFjdGl2aXR5LnByb2dyZXNzID0gY3JlYXRlKCdBbm5vdGF0aW9uJykgYXMgcHJvZ3Jlc3MgdGhlbnsKICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gcHJvZ3Jlc3MudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICB9InRleHQiOwogICAgICAgICAgICAgICAgYWN0LmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBkZXRhaWwuc2NoZWR1bGVkID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSxzdGFydCkgInZhbCI7CiAgICAgICAgICAgICAgICB9ImVmZnQiOwogICAgICAgICAgICAgICAgYWN0IC0+IGRldGFpbC5zdGF0dXMgPSAnY29tcGxldGVkJyAic3RhdHVzIjsKICAgICAgICAgICAgfSAiYWN0IjsKICAgICAgICB9ImRldGFpbCI7CiAgICB9ImFjdGl2aXR5SW5pIjsKfQoKCmdyb3VwIE1lZGljYXRpb25SZXF1ZXN0KHNvdXJjZSBzcmMgOiBzdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyOiBFbmNvdW50ZXIsIHRhcmdldCB0Z3Q6IE1lZGljYXRpb25SZXF1ZXN0LCB0YXJnZXQgYnVuZGxlOiBCdW5kbGUpewogICAgLy9kZWZhdWx0ICArIG1hbmRhdG9yeQogICAgc3JjIC0+IHRndC5zdWJqZWN0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgIC8vc3JjIC0+IHRndC5lbmNvdW50ZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOwogICAgc3JjIC0+IHRndC5pbnRlbnQgPSAnb3JkZXInICJpbnRlbnQiOwogICAgc3JjIHdoZXJlIHN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgLT4gdGd0LnN0YXR1cyA9ICd1bmtub3duJyAic3QiOwogICAgc3JjLnN0YXR1c0NvZGUgYXMgc2MgdGhlbiB7CiAgICAgICAgc2MuY29kZSBhcyBjb3MtPiB0Z3Quc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNNZWRpY2F0aW9uU3RhdHVzTWFwJywgJ2NvZGUnKSAiY29kZVMiOwogICAgfSJzdGF0dXMiOwogICAgLy8KICAgIAogICAgc3JjLmlkIC0+IHRndC5pZGVudGlmaWVyOwogICAgc3JjLnRleHQgYXMgdHh0IC0+IHRndC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICB0eHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICB9Im5vdGUiOwoKICAgIHNyYy5lZmZlY3RpdmVUaW1lOiBJVkxfVFMgYXMgZWZmIC0+IHRndC5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgZWZmIC0+IGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZyB0aGVuIHsKICAgICAgICAgIGVmZiAtPiB0aW1pbmcucmVwZWF0IGFzIHJlcCB0aGVuIHsKICAgICAgICAgICAgZWZmIC0+IHJlcC5ib3VuZHMgID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZiwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CiAgICAgICAgICB9InJlcCI7CiAgICAgICAgfSJ0aW1pbmciOwogICAgICB9InBlcmlvZCI7CgogICAgICBzcmMuZWZmZWN0aXZlVGltZTogRUlWTF9UUyBhcyBlZmZlIC0+IHRndC5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgZWZmZSAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcgdGhlbiB7CiAgICAgICAgICBlZmZlIC0+IHRpbWluZy5yZXBlYXQgYXMgcmVwIHRoZW4gewogICAgICAgICAgICBlZmZlLmV2ZW50Q29kZSBhcyBldiAtPiByZXAud2hlbiA9IChldi5jb2RlKTsKICAgICAgICAgIH0icmVwIjsKICAgICAgICB9InRpbWluZyI7CiAgICAgIH0icGVyaW9kIjsKCiAgICAgIHNyYy5lZmZlY3RpdmVUaW1lOiBJVkxfVFMgYXMgZWZmIC0+IHRndC5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlLCBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcsIHRpbWluZy5ldmVudCA9IChlZmYudmFsdWUpICJ0aW0iOwoKICAgICAgc3JjLmVmZmVjdGl2ZVRpbWU6IFBJVkxfVFMgYXMgZWZmIC0+IHRndC5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgZWZmIC0+IGRvc2FnZS50aW1pbmcgPSBjcmVhdGUoJ1RpbWluZycpIGFzIHRpbWluZyB0aGVuIHBlcmlvZFRpbWluZyhlZmYsdGltaW5nKSAiY29kIjsKICAgICAgfSJlZmYiOwogICAgCiAgICBzcmMgd2hlcmUgKHNyYy5kb3NlUXVhbnRpdHkuZXhpc3RzKCkgb3Igc3JjLnJhdGVRdWFudGl0eS5leGlzdHMoKSkgdGhlbnsKICAgICAgICBzcmMgLT4gIHRndC5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlSW5zdHJ1Y3Rpb24gdGhlbnsKICAgICAgICAgICAgc3JjLmRvc2VRdWFudGl0eSBhcyBkb3NlUXVhbnQgdGhlbnsKICAgICAgICAgICAgICAgIGRvc2VRdWFudC5vcmlnaW5hbFRleHQgYXMgb3QgdGhlbnsKICAgICAgICAgICAgICAgICAgICBvdC5yZWZlcmVuY2UgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24udGV4dDsKICAgICAgICAgICAgICAgIH0ib3QiOyAgCiAgICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24uZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGRvc2FnZVJhdGUuZG9zZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyBkIHRoZW57CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5sb3cgYXMgbG8gLT4gbC52YWx1ZSA9IChsby52YWx1ZSk7IAogICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5sb3cgYXMgbG8gLT4gbC51bml0ID0gKGxvLnVuaXQpOyAKICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkLmhpZ2ggPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgaCB0aGVuewogICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5oaWdoIGFzIGhpIC0+IGgudmFsdWUgPSAoaGkudmFsdWUpOwogICAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5oaWdoIGFzIGhpIC0+IGgudW5pdCA9IChoaS51bml0KTsgCiAgICAgICAgICAgICAgICB9ImxvdyI7CiAgICAgICAgICAgICAgICB9ImQiOwogICAgICAgICAgICB9ImRvc2FnZVJhdGUiOwogICAgICAgIH0gImRvc2VRdWFudGl0eSI7CiAgICAgICAgICAgIHNyYy5yYXRlUXVhbnRpdHkgYXMgcmF0ZVF1YW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZUluc3RydWN0aW9uLnRleHQ7CiAgICAgICAgICAgICAgICB9Im90IjsKICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi5kb3NlQW5kUmF0ZSBhcyBkb3NhZ2VSYXRlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGRvc2FnZVJhdGUucmF0ZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyBkIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eSAtPiBkLmxvdyA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBsIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudmFsdWUgPSAobG8udmFsdWUpOyAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5sb3cgYXMgbG8gLT4gbC51bml0ID0gKGxvLnVuaXQpOyAKICAgICAgICAgICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZC5oaWdoID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGggdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5oaWdoIGFzIGhpIC0+IGgudmFsdWUgPSAoaGkudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmhpZ2ggYXMgaGkgLT4gaC51bml0ID0gKGhpLnVuaXQpOyAKICAgICAgICAgICAgICAgICAgICAgICAgfSJoaWdoIjsKICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgfSJkb3NhZ2VSYXRlIjsKCiAgICAgICAgICAgIH0icmF0ZSI7CiAgICAgICAgCiAgICAgICAgc3JjLnJvdXRlQ29kZSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi5yb3V0ZSAicm91dGUiOwogICAgICAgIHNyYy5hcHByb2FjaFNpdGVDb2RlIC0+IGRvc2FnZUluc3RydWN0aW9uLnNpdGUgInNpdGUiOwogICAgICAgIHNyYy50YXJnZXRTaXRlQ29kZSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi5zaXRlICJzaXRlIjsKCiAgICAgICAgfSJkb3NhZ2VJbiI7CiAgICB9ImNvbmRpdGlvbiI7CgogICAgc3JjLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uJykgYXMgbWVkaWNhdGlvbiwgIG1lZGljYXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb24nLCB0Z3QubWVkaWNhdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgbWVkcmVmLCAgbWVkcmVmLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb24vJyArICVtZWRpY2F0aW9uLmlkKSB0aGVuIE1lZGljYXRpb24oc3JjLG1lZGljYXRpb24scGF0aWVudCxidW5kbGUpICJtZWRpY2F0aW9uIjsgICAgICAgCiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5zdXBwbHkgYXMgc3VwcGx5IC0+IHRndC5kaXNwZW5zZVJlcXVlc3QgYXMgZGlzcGVuc2VSZXF1ZXN0IHRoZW57CiAgICAgICAgICAgIHN1cHBseS5xdWFudGl0eSBhcyBxdWFudGl0eUNEQSAtPiBkaXNwZW5zZVJlcXVlc3QucXVhbnRpdHkgYXMgcXVhbnRpdHlGSElSIHRoZW57CiAgICAgICAgICAgICAgICBxdWFudGl0eUNEQSAtPiBxdWFudGl0eUZISVIudmFsdWUgPSAocXVhbnRpdHlDREEudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgIH0icXVhbnRpdHkiOwogICAgICAgIH0ic3VwcGx5IjsKICAgIH0iZW50cnlSIjsKCiAgICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbnsKICAgICAgICBwYXJ0aWNpcGFudCB0aGVuIFByYWN0aXRpb25lcihwYXJ0aWNpcGFudCwgdGd0LCBidW5kbGUpICJmdW5jdGlvbiI7IAogICAgICAgIHBhcnRpY2lwYW50LmVmZmVjdGl2ZVRpbWUgLT4gdGd0LmF1dGhvcmVkT24gImF1dG9yIjsgCiAgICB9IlBhcnRlY2lwYW50IjsKfQoKZ3JvdXAgT3JnYW5pemF0aW9uQWZmaWxpYXRpb24oc291cmNlIHNyYzogYWN0LCB0YXJnZXQgcGF0aWVudDogUGF0aWVudCwgdGFyZ2V0IGVuYzogRW5jb3VudGVyLCB0YXJnZXQgdGd0OiBPcmdBZmZpbGlhdGlvbiwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKICAgIAogICAgc3JjLmlkLT4gdGd0LmlkZW50aWZpZXI7CiAgICAvLyBzcmMuY29kZSAtPiB0Z3Quc3BlY2lhbHR5IGFzIHNwZWNpYWx0eSB0aGVuewogICAgLy8gICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVIgdGhlbnsKICAgIC8vICAgICAgICAgZW50cnlSLnRleHQgYXMgdGV4dCB0aGVuewogICAgLy8gICAgICAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IHNwZWNpYWx0eS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInZhbHVlIjsKICAgIC8vICAgICAgICAgfSJ0ZXh0IjsKICAgIC8vICAgICB9ICJlbnRyeVIiOwogICAgLy8gfSAic3BlY2lhbHR5IjsKICAgIHNyYy5zdGF0dXNDb2RlIHdoZXJlIGNvZGUgPSAnYWN0aXZlJyAtPiB0Z3QuYWN0aXZlID0gdHJ1ZTsKICAgIHNyYy5zdGF0dXNDb2RlIHdoZXJlKGNvZGUgPSAnYWN0aXZlJykubm90KCkgLT4gdGd0LmFjdGl2ZSA9IGZhbHNlOyAgCiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gdGd0LnBlcmlvZDsKICAgIC8vc3JjLmNvZGUgLT4gdGd0LnNwZWNpYWx0eTsKCiAgICAgICAgICAgIHNyYyAtPiB0Z3Quc3BlY2lhbHR5ID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBzcGVjIHRoZW57CiAgICAgICAgICAgICAgICBzcmMuY29kZSBhcyBjb2RlICAgdGhlbnsKICAgICAgICAgICAgICAgICAgICBjb2RlIC0+IHNwZWMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBjb2RlIC0+IGNkLmNvZGUgPSAoY29kZS5jb2RlKSAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgLT4gY2QuZGlzcGxheSA9IChjb2RlLmRpc3BsYXlOYW1lKSAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuY29kZVN5c3RlbSBhcyByIC0+IGNkLnN5c3RlbSA9IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIH0iY2QiOwogICAgICAgICAgICAgICAgfSJzcGVjIjsgIAoKICAgICAgICAgICAgICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeSB0aGVuewogICAgICAgICAgICAgICAgICAgIGVudHJ5LmFjdCBhcyBhIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIGEudGV4dCBhcyB0eCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZmYgLT4gc3BlYy50ZXh0ID0gKHJlZmYudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9InJlZiI7ICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9ImFjdCI7CiAgICAgICAgICAgICAgICB9ImVudHJ5IjsKICAgICAgICAgICAgfSJhIjsKfQoKZ3JvdXAgRGlhZ25vc3RpY1JlcG9ydEZ1bmN0aW9uKHNvdXJjZSBzcmM6IG9yZ2FuaXplciwgdGFyZ2V0IHBhdGllbnQ6IFBhdGllbnQsIHRhcmdldCBlbmM6IEVuY291bnRlciwgdGFyZ2V0IHRndDogRGlhZ25vc3RpY1JlcG9ydCwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKCiAgICBzcmMgLT4gdGd0LnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAKICAgIC8vc3JjIC0+IHRndC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCgogICAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgICBzcmMuc3RhdHVzQ29kZSB3aGVyZSBjb2RlID0gJ2NvbXBsZXRlZCcgLT4gdGd0LnN0YXR1cyA9ICdmaW5hbCc7CiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmYgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiB0Z3QuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmYsIHZhbHVlKSAidmFsdWUxIjsKICAgIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZiB3aGVyZSAobG93LmV4aXN0cygpKSAtPiB0Z3QuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwoKICAgIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW57CiAgICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlaSwgZWkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGVpLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2ksICBvYnNpLmlkID0gdXVpZCgpIGFzIHV1aWRpLCAgZWkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWRpKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QucmVzdWx0ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzaS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlcnZhdGlvbiwgcGF0aWVudCwgZW5jLCBvYnNpLCBidW5kbGUpICJoYXNNZW1iZXIiOwogICAgfSJjb21wb25lbnQiOwoKfQoKZ3JvdXAgRW5jb3VudGVyRnVuY3Rpb24oc291cmNlIHNyYzogY2RhRWxlbWVudCAsIHRhcmdldCBwYXRpZW50OiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyOiBFbmNvdW50ZXIsIHRhcmdldCB0Z3Q6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKICAgIHNyYy5pZCAtPiB0Z3QuaWRlbnRpZmllcjsKICAgIHNyYy5zdGF0dXNDb2RlIC0+IHRndC5zdGF0dXM7CiAgICBzcmMgd2hlcmUgc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSAtPiB0Z3Quc3RhdHVzID0gJ3Vua25vd24nICJzdGF0dXMiOwogICAgc3JjLmNvZGUgYXMgY29kZSAtPiB0Z3QuY2xhc3MgYXMgY2xhc3MgdGhlbnsKICAgICAgICBjb2RlIC0+IGNsYXNzLmNvZGUgPSAoY29kZS5jb2RlKSAiY29kZSI7CiAgICAgICAgY29kZSAtPiBjbGFzcy5kaXNwbGF5ID0gKGNvZGUuZGlzcGxheU5hbWUpICJkaXNwbGF5IjsKICAgICAgICBjb2RlLmNvZGVTeXN0ZW0gYXMgciAtPmNsYXNzLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICB9ImNvIjsKCiAgICAvLyBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmUgLT4gdGd0LnBlcmlvZCBhcyBwZXJpb2QgdGhlbnsKICAgIC8vICAgICBlZmZlY3RpdmUubG93IGFzIGwgLT4gcGVyaW9kLnN0YXJ0ID0gKGwudmFsdWUpICJ2YWx1ZSI7CiAgICAvLyAgICAgZWZmZWN0aXZlLmhpZ2ggYXMgaCAtPiBwZXJpb2QuZW5kID0gKGgudmFsdWUpICJ2YWx1ZSI7CiAgICAvLyB9ImVmZiI7CiAgICBzcmMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZiAgLT4gdGd0LnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgIH0id2hlcmUiOwogICAgICAgIC8vIGVmZmVjdGl2ZVRpbWUgPSB0aW1lLXN0YW1wCiAgICAgICAgc3JjIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpLm5vdCgpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmV0aW1lMSAtPiB0Z3QucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgIGVmZmVjdGl2ZXRpbWUxIC0+IHBlcmlvZC5zdGFydCA9ICBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZXRpbWUxLHN0YXJ0KSAidmFsIjsgCiAgICAgICAgfSJlZmZ0IjsKICAgICAgICB9IndoZXJlIjsKICAgIC8vIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZiB3aGVyZSAodmFsdWUuZXhpc3RzKCkpIC0+IHRndC5wZXJpb2QgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZiwgdmFsdWUpICJ2YWx1ZTEiOwogICAgLy8gc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IHRndC5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QoZWZmLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgIAoKICAgIHNyYy50ZXh0IGFzIHR4IC0+IHRndC50eXBlIGFzIHR5IHRoZW57CiAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZmYgLT4gdHkudGV4dCA9IChyZWZmLnZhbHVlKSAidGV4dFR5cGUiOwogICAgfSJ0ZXh0IjsKICAgIHNyYy5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIC0+IHRndC5wYXJ0aWNpcGFudCBhcyBwYXJ0IHRoZW57CgogICAgICAgIHBlcmZvcm1lciAtPiBwYXJ0LnBlcmlvZCBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgcGVyZm9ybWVyLnRpbWUgYXMgdGltZSAtPiAgcGVyaW9kLnN0YXJ0IGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lLHN0YXJ0KSAidmFsIjsgCiAgICAgICAgfSJwZXJpb2QiOwogICBwZXJmb3JtZXIuYXNzaWduZWRFbnRpdHkgYXMgYXNzZW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJywgdGd0LnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXJ0aWNpcGFudDEsIHBhcnRpY2lwYW50MS5pbmRpdmlkdWFsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VwYXJ0LCByZWZlcmVuY2VwYXJ0LnJlZmVyZW5jZSA9ICAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbnsKICAgICAgICAgICAgYXNzZW50aXR5LmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgICAgICBhc3NlbnRpdHkgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCAgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuIHsKICAgICAgICAgICAgICAgIGFzc2VudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhc3NlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzZW50aXR5IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L2VuY291bnRlci9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgYXNzZW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhc3NlbnRpdHktPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAicGVyZm9ybWVyIjsKICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICBhc3NlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgIGFzc2VudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICBhc3NlbnRpdHkuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsgICAgICAKICAgICAgICAgICAgICAgIGFzc2VudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgICAgICAgYXNzZW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICAgICAgICAgIH0ibmFtZSI7CiAgICAgICAgfSJhc3NpZ25lZEVudGl0eSI7CiAgICB9InBlcmZvcm1lciI7ICAgIAp9IjAxIjsKCn0K", "subType": "00"}}, "filename": "ProfiloSanitarioSinteticoBody_v1.8.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:34:40.777Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a4da4846375e3fecadc0"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/RefertodilaboratorioFULLBODY", "version": "2.2", "template_id_root": ["2.16.840.1.113883.2.9.10.1.1"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9SZWZlcnRvZGlsYWJvcmF0b3Jpb0ZVTExCT0RZIiA9ICJSZWZlcnRvZGlsYWJvcmF0b3Jpb0ZVTExCT0RZIgoKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9DbGluaWNhbERvY3VtZW50IiBhbGlhcyBDbGluaWNhbERvY3VtZW50IGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc2lnbmVkQXV0aG9yIiBhbGlhcyBBc3NpZ25lZEF1dGhvciBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzaWduZWRFbnRpdHkiIGFsaWFzIEFzc2lnbmVkRW50aXR5IGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NvY2lhdGVkRW50aXR5IiBhbGlhcyBBc3NvY2lhdGVkRW50aXR5IGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9DdXN0b2RpYW5Pcmdhbml6YXRpb24iIGFsaWFzIEN1c3RvZGlhbk9yZ2FuaXphdGlvbiBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uUGFydE9mIiBhbGlhcyBPcmdhbml6YXRpb25QYXJ0T2YgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgcmFwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NlY3Rpb24iIGFsaWFzIFNlY3Rpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnRSb2xlIiBhbGlhcyBQYXRpZW50Um9sZSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQUQiIGFsaWFzIEFEIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQnVuZGxlIiBhbGlhcyBCdW5kbGUgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Db21wb3NpdGlvbiIgYWxpYXMgQ29tcG9zaXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnQiIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VuY291bnRlciIgYWxpYXMgRW5jb3VudGVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QZXJzb24iIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1ByYWN0aXRpb25lciIgYWxpYXMgUHJhY3RpdGlvbmVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9TcGVjaW1lbiIgYWxpYXMgU3BlY2ltZW4gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1Byb2NlZHVyZSIgYWxpYXMgUHJvY2VkdXJlIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIE9yZ2FuaXphdGlvbiBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FjdCIgYWxpYXMgQWN0IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVBRIiBhbGlhcyBJVkxfUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vUFEiIGFsaWFzIFBRIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vU2ltcGxlUXVhbnRpdHkiIGFsaWFzIFNpbXBsZVF1YW50aXR5IGFzIHRhcmdldAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXplciIgYWxpYXMgT3JnYW5pemVyIGFzIHNvdXJjZQoKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvQ2RhVG9GaGlyRGF0YVR5cGVzIgppbXBvcnRzICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9GVUxMSEVBREVSIgoKZ3JvdXAgQ2RhVG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICBjZGEgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsICBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3RQQVQsIHJlcXVlc3RQQVQubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQYXRpZW50JykgYXMgcGF0aWVudCwgIHBhdGllbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nLCB1dWlkMiksIGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVyLCAgZW5jb3VudGVyLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMykscmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJywKIGJ1bmRsZS5lbnRyeSBhcyBlNiwgZTYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlNi5yZXNvdXJjZSA9IGNyZWF0ZSgnRG9jdW1lbnRSZWZlcmVuY2UnKSBhcyBEb2N1bWVudFJlZmVyZW5jZSwgIERvY3VtZW50UmVmZXJlbmNlLmlkID0gdXVpZCgpIGFzIHV1aWQ2LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RvY3VtZW50UmVmZXJlbmNlLycsIHV1aWQ2KSxyZXF1ZXN0LnVybCA9ICdEb2N1bWVudFJlZmVyZW5jZScgdGhlbiB7CiAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKGNkYSwgcGF0aWVudCwgY29tcG9zaXRpb24sIGVuY291bnRlciwgYnVuZGxlLERvY3VtZW50UmVmZXJlbmNlKSAiY2RhdG9idW5kbGUiOwogIGNkYS5yZWNvcmRUYXJnZXQgYXMgcmVjb3JkVGFyZ2V0IHRoZW57CiAgICByZWNvcmRUYXJnZXQucGF0aWVudFJvbGUgYXMgcGF0aWVudCB0aGVuewogICAgICAgIHBhdGllbnQuaWQgYXMgaWQtPiBwYXRpZW50LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0MSAtPiBpZGVudGlmaWVyLnZhbHVlID0gZXh0MSAidmFsdWUiOwogICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgfSJpZGZyIjsKICAgICAgICAgcGF0aWVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuNycpCiAgICAgICAgIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjMnKSBvcihyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjE3Jykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTUnKSAgdGhlbiB7CiAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiByZXF1ZXN0UEFULnVybCA9IGFwcGVuZCgnUGF0aWVudD9pZGVudGlmaWVyPScsZXh0KSAiVVVJRCI7CiAgICAgICAgICAgfSJleHQiOwogICAgICAgICB9InJlY29yZCI7CiAgIH0icGF0aWVudCI7CiB9ICJDbGluaWNhbERvY3VtZW50VG9Cb2R5IjsKfQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBjb21wb3NpdGlvbiA6IENvbXBvc2l0aW9uLCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlICwgdGFyZ2V0IGRvY3VtZW50cmVmZXJlbmNlIDogRG9jdW1lbnRSZWZlcmVuY2UpIHsKICBjZGEgLT4gYnVuZGxlLmlkID0gdXVpZCgpICJpZCI7CiAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICBjZGEgLT4gYnVuZGxlLnR5cGUgPSAndHJhbnNhY3Rpb24nICJ0eXBlIjsKICBjZGEgLT4gYnVuZGxlLnRpbWVzdGFtcD0odGltZXN0YW1wLm5vdygpKSAiZGF0ZSI7CiAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudENvbXBvc2l0aW9uKGNkYSwgY29tcG9zaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlLGRvY3VtZW50cmVmZXJlbmNlKSAiY29tcG9zaXRpb24iOwogIGNkYS5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgY29tcG9uZW50LnN0cnVjdHVyZWRCb2R5IGFzIGJvZHkgdGhlbiB7CiAgICAgIGJvZHkuY29tcG9uZW50IGFzIGNvbXBvbmVudCAgdGhlbiB7CgkgICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNyY1NlY3Rpb24gdGhlbiB7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbihjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIsZG9jdW1lbnRyZWZlcmVuY2UpOyAgICAgICAKICAgICAgIH07CiAgICAgIH07CiAgICB9ImJvZHkiOwogIH07Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyLHRhcmdldCBkb2N1bWVudHJlZmVyZW5jZSA6IERvY3VtZW50UmVmZXJlbmNlKSB7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgfSJjZGFUZXh0IjsKICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ0RpYWdub3N0aWNSZXBvcnQnKSBhcyBEaWFnbm9zdGljUmVwb3J0LCAgRGlhZ25vc3RpY1JlcG9ydC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EaWFnbm9zdGljUmVwb3J0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnRGlhZ25vc3RpY1JlcG9ydCcgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9EaWFnbm9zdGljUmVwb3J0LycgKyAlRGlhZ25vc3RpY1JlcG9ydC5pZCkgdGhlbiB7CiAgICBlbnRyeTEuYWN0IGFzIGFjdDEgdGhlbiBBY3QoYWN0MSwgcGF0aWVudCwgRGlhZ25vc3RpY1JlcG9ydCAsIGVuYyAsIGJ1bmRsZSkgImFjdCI7CiAgfSJlbnRyeSI7CiAgc3JjLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICBjb21wb25lbnQuc2VjdGlvbiBhcyBzZWMgLT4gdGd0LnNlY3Rpb24gYXMgdGd0U2VjdGlvbiB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKGNkYSwgc2VjLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jLGRvY3VtZW50cmVmZXJlbmNlKTsKICB9ImNvbXBvbmVudCI7Cn0KCmdyb3VwIE9ic2VydmF0aW9uIChzb3VyY2Ugb2JzIDogT2JzZXJ2YXRpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9iIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICAgIAogIG9icy0+b2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICBvYnMtPm9iLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKICBvYnMuY29kZSAtPiBvYi5jb2RlOwoKICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvYnMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZi0+IG9iLmVmZmVjdGl2ZT1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogIH0id2hlcmUiOwogIG9icy5pbnRlcnByZXRhdGlvbkNvZGUgLT4gb2IuaW50ZXJwcmV0YXRpb247CiAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogIG9icy52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgfSJjb2RlIjsKICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICB9InRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQ9cmVmZXJlbmNlOwogICAgICB9Im9yaWdpbmx0ZXh0IjsKICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICB9ImNvZGUiOwogICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5xdWFsaWZpZXIgYXMgcXVhbGlmaWVyIHRoZW57CiAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICB9InZhbHVlIjsKICAgICAgICB9InF1YWxpZmllciI7CiAgICAgIH0idHJhbnNsYXRpb24iOwogICAgfSJjb2RpbmciOwogIH0idmFsIjsKICBvYnMudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICB2YWwtPm9iLnZhbHVlID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIHF1YW50aXR5IHRoZW4gewogICAgICB2YWwudmFsdWUgYXMgdmFsdWUtPnF1YW50aXR5LnZhbHVlID0gdmFsdWU7CiAgICAgIHZhbC51bml0IGFzIHVuaXQtPiBxdWFudGl0eS51bml0ID0gdW5pdCAidW5pdCI7CiAgICB9InF1YW50aXR5IjsKICB9InZhbHVlUXVhbnRpdHkiOwogIG9icy52YWx1ZTpTVCBhcyB2YWx1ZS0+b2IudmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2IudmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwoKICAvL05vdGUgZSBjb21tZW50aQogIG9icy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcCB0aGVuIHsKICAgIGVudHJ5UmVsYXRpb25zaGlwLmFjdCBhcyBhY3QgdGhlbiB7CiAgICAgIGFjdC50ZXh0IGFzIHRleHQgdGhlbiB7CiAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG9iLm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICAgIHJlZmVyZW5jZS0+bm90ZS50ZXh0ID0ocmVmZXJlbmNlLnZhbHVlKSJyZWZlcmVuY2UiOwogICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgfSJ0ZXh0IjsKICAgIH0iQWN0IjsKICB9ImVudHJ5UmVsYXRpb25zaGlwIjsKCiAgLy9zdWJqZWN0CiAgb2JzLnN1YmplY3QgYXMgc2JqIHRoZW4gewogICAgc2JqLnJlbGF0ZWRTdWJqZWN0IGFzIHJlbGF0ZWRTdWJqLT4gcGF0aWVudC5leHRlbnNpb24gYXMgZXh0ZW5zaW9uMiB0aGVuIEV4dFN1YmplY3RBbmltYWwocmVsYXRlZFN1YmosIGV4dGVuc2lvbjIpOwogIH0ic3ViamVjdCI7CiAgCiAgLy9wZXJmb3JtZXIKICBvYnMucGVyZm9ybWVyIGFzIHBlcmZvcm1lciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScgdGhlbnsKICAgIHBlcmZvcm1lciAtPiBvYi5wZXJmb3JtZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBlbnRpdHkgdGhlbiB7CiAgICAgICAgZW50aXR5LmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGVudGl0eSAtPiBidW5kbGUuZW50cnkgYXMgZTIsICBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW4gewogICAgICAgICAgZW50aXR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgZW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIGVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgZW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICBlbnRpdHktPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAicGVyZm9ybWVyIjsKICAgICAgICAgICAgfSJyIjsKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgICBlbnRpdHkuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsgICAgICAKICAgICAgICAgIGVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgZW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICAgIH0ibmFtZSI7CiAgICAgICAgICAvL29yZ2FuaXphdGlvbgogICAgICAgICAgZW50aXR5LnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTMsICBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbiAgdGhlbiB7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlT3JnLCAgcmVmZXJlbmNlT3JnLnJlZmVyZW5jZSA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMykiYXV0IjsKICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTQsICBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCBlNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMSwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJyB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7IAogICAgICAgICAgICAgIE9yZ1BhcnRPZi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24xLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpICAib3JnIjsKICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBPcmdQYXJ0T2YuY29kZSAtPiBvcmdhbml6YXRpb24xLnR5cGU7CiAgICAgICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgICAgIE9yZ1BhcnRPZi53aG9sZU9yZ2FuaXphdGlvbiBhcyB3aG9sZU9yZ2FuIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgIGU1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiB0aGVuewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+b3JnYW5pemF0aW9uMi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL3BlcmZvcm1lci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMi5pZCAgPSAociArJy0nKyBleHQpIGFzIHV1aWQ1LCAgZTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNSksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpICJvcmciOwogICAgICAgICAgICAgICAgICB9InIiOyAKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uMi50ZWxlY29tOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICAgICAgfSJPcmdQYXJ0T2YiOwogICAgICAgICAgfSJyZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7IAogICAgICAgIH0icHJhY3RpdGlvbmVyIjsKICAgICAgfSJlbnRpdHkiOwogICAgfSJwcmFjdGl0aW9uZXJSb2xlIjsKICB9InBlcmZvcm1lciI7CgogIC8vYXV0aG9yCiAgb2JzLmF1dGhvciBhcyBzcmNBdXRob3IgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlNiwgZTYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU2LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDYsICBlNi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkNiksIHJlcXVlc3QudXJsPSdQcmFjdGl0aW9uZXJSb2xlJywgb2IucGVyZm9ybWVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VhdXQsICByZWZlcmVuY2VhdXQucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpIHRoZW4gewogICAgc3JjQXV0aG9yLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIHRoZW4gewogICAgICBhc3NpZ25lZEF1dGhvci5jb2RlIGFzIGNvZGljZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGUgYXMgY29kZTIgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RpY2UsY29kZTIpOwogICAgICBhc3NpZ25lZEF1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTcsICBlNy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlNy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQ3IHRoZW4gewogICAgICAgIHNyY0F1dGhvci5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgYXNzaWduZWRBdXRob3ItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9hdXRob3InImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgICBlNy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBhc3NpZ25lZEF1dGhvci5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOyAgICAgIAogICAgICAgIGFzc2lnbmVkQXV0aG9yLnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgLy9wZXJzb24KICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgIH0iYmlydGgiOwogICAgICAgIH0ibmFtZSI7CiAgICAgIH0iQVNTQVV0aCI7CiAgICAgIC8vb3JnYW5pemF0aW9uCiAgICAgIGFzc2lnbmVkQXV0aG9yLnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTgsICBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDMsICAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSJvcmciOwogICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbi50ZWxlY29tOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgT3JnUGFydE9mIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOSwgIGU5LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlOS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMSB0aGVuIHsKICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMS5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgIGU5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpICJvcmciOwogICAgICAgICAgICB9InIiOyAKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICBPcmdQYXJ0T2YuY29kZSAtPiBvcmdhbml6YXRpb24xLnR5cGU7CiAgICAgICAgICBPcmdQYXJ0T2Yuc3RhdHVzQ29kZSBhcyBzdGF0dXMgd2hlcmUgKHZhbHVlID0nYWN0aXZlJykgLT4gb3JnYW5pemF0aW9uMS5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgb3JnYW5pemF0aW9uMS5hY3RpdmUgPSAndHJ1ZSc7CiAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTEwLCAgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgdGhlbnsKICAgICAgICAgICAgd2hvbGVPcmdhbi0+b3JnYW5pemF0aW9uMi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgZTEwLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKSAgICAib3JnIjsKICAgICAgICAgICAgICB9InIiOyAKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgd2hvbGVPcmdhbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uMi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICB3aG9sZU9yZ2FuLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uMi50ZWxlY29tOwogICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgfSJPcmdQYXJ0T2YiOwogICAgICB9InJlcHJlc2VudGVkT3JnYW5pemF0aW9uIjsgCiAgICAgIC8vZGV2aWNlCiAgICAgIGFzc2lnbmVkQXV0aG9yLmFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlIGFzIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTEsICBlMTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMTEucmVzb3VyY2UgPSBjcmVhdGUoJ0RldmljZScpIGFzIGRldmljZSwgIGRldmljZS5pZCA9IHV1aWQoKSBhcyB1dWlkMTEsICBlMTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nLCB1dWlkMTEpLCByZXF1ZXN0LnVybCA9J0RldmljZScsIHRndC5hdXRob3IgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycgKyAlZGV2aWNlLmlkKSB0aGVuewogICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLnRlbXBsYXRlSWQgLT4gZGV2aWNlLmlkZW50aWZpZXI7IAogICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLmNvZGUgLT4gZGV2aWNlLnR5cGU7CiAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2UubWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG1hbnVmYWN0dXJlck1vZGVsTmFtZSB0aGVuewogICAgICAgICAgbWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG0tPiBkZXZpY2UubWFudWZhY3R1cmVyID0gKG0uZGlzcGxheU5hbWUpICJkaXNwbGF5UnVsZSI7CiAgICAgICAgfSJtYW51ZmFjdHVyZXIiOyAKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS5zb2Z0d2FyZU5hbWUgYXMgc29mdHdhcmVOYW1lIC0+IGRldmljZS5kZXZpY2VOYW1lIGFzIGRldmljZU5hbWUgdGhlbnsKICAgICAgICAgIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2VOYW1lLnR5cGUgPSAnb3RoZXInICJ0eXBlTmFtZSI7CQkKICAgICAgICAgIHNvZnR3YXJlTmFtZSBhcyBzIC0+IGRldmljZU5hbWUubmFtZSA9IChzLmRpc3BsYXlOYW1lKSAibmFtZSI7CiAgICAgICAgfSJkZXZpY2VOYW1lIjsKICAgICAgfSJEZXZpY2UiOwogICAgfSJhc3NpZ25lZEF1dGhvciI7CiAgfSJhdXRob3IiOwoKICAvL3BhcnRpY2lwYW50IHBlcnNvbgogIG9icy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWNpcGFudCB3aGVyZSh0eXBlQ29kZSE9J0RFVicpIC0+ICBvYi5lbmNvdW50ZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpIHRoZW4gewogICAgcGFydGljaXBhbnQgLT4gZW5jb3VudGVyLnBhcnRpY2lwYW50IGFzIEZoaXJQYXJ0aWNpcGFudCB0aGVuIHsKICAgICAgcGFydGljaXBhbnQgYXMgcCAtPiBGaGlyUGFydGljaXBhbnQudHlwZSBhcyB0eXBlIHRoZW4geyAKICAgICAgICBwIC0+IHR5cGUuY29kaW5nIGFzIGNvZGluZyB0aGVuewogICAgICAgICAgcC0+IGNvZGluZy5jb2RlID0gKHAudHlwZUNvZGUpICJjb2RpY2UiOwogICAgICAgICAgcC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1QYXJ0aWNpcGF0aW9uVHlwZScgInN5c3RlbSI7CiAgICAgICAgfSAiY29kZVR5cGUiOyAKICAgICAgfSJ0eXBlIjsKICAgIH0iZmhpclBhcnRpY2lwYW50IjsKICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMiwgICBlMTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMTIucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkMTIgLCAgZTEyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxMiksIHJlcXVlc3QudXJsID0gJ1ByYWN0aXRpb25lclJvbGUnLCBlbmNvdW50ZXIucGFydGljaXBhbnQgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHBhcnRpY2lwYW50MSwgcGFydGljaXBhbnQxLmluZGl2aWR1YWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZXBhcnQsIHJlZmVyZW5jZXBhcnQucmVmZXJlbmNlID0gICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpIHRoZW4geyAKICAgICAvLyBwYXJ0aWNpcGFudC50aW1lIC0+IHBhcnRpY2lwYW50MS5wZXJpb2Q7CiAgICAgIHBhcnRpY2lwYW50LnRpbWUgYXMgdGltZTEgLT4gcGFydGljaXBhbnQxLnBlcmlvZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgdGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lMSxzdGFydCkgInZhbCI7CiAgICAgICB9InRpbWUiOwogICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0aW1lMSAtPiBwYXJ0aWNpcGFudDEucGVyaW9kID1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKHRpbWUxLHBlcmlvZCk7CiAgICAgIHBhcnRpY2lwYW50LmZ1bmN0aW9uQ29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgIC8vbm9uIG1hcHBhIGkgMiBwcmVjZWRlbnRpCiAgICAgIHBhcnRpY2lwYW50Um9sZSAgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMywgZTEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxMy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW4gewogICAgICAgIHBhcnRpY2lwYW50Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgIGUxMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQ0KSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAib3JnIjsKICAgICAgICAgIH0iciI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgcGFydGljaXBhbnRSb2xlLnBsYXlpbmdFbnRpdHkgYXMgcGxheWluZ0VudGl0eSB0aGVuIHsKICAgICAgICAgIHBsYXlpbmdFbnRpdHkubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgIHBsYXlpbmdFbnRpdHkuYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICB9Im5hbWUiOwogICAgICB9InByYWN0aXRpb25lciI7CiAgICB9InBhcnRSb2xlIjsKICB9InBhcnRpY2lwYW50RW5jb3VudGVyIjsKCiAgLy9wYXJ0aWNpcGFudCBkZXZpY2UKICBvYnMucGFydGljaXBhbnQgYXMgZGV2UGFydGljaXBhbnQgd2hlcmUodHlwZUNvZGU9J0RFVicpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTQsIGUxNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTE0LnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDE0LCAgZTE0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJywgdXVpZDE0KSwgcmVxdWVzdC51cmw9J0RldmljZScsIG9iLmRldmljZSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbiB7CiAgICBkZXZQYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlRGV2IHRoZW4gewogICAgICBwYXJ0aWNpcGFudFJvbGVEZXYucGxheWluZ0RldmljZSBhcyBwbGF5aW5nRGV2aWNlIHRoZW4gewogICAgICAgIHBsYXlpbmdEZXZpY2UuY29kZSAtPiBkZXZpY2UudHlwZTsKICAgICAgICBwbGF5aW5nRGV2aWNlLm1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgIG1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtLT4gZGV2aWNlLm1hbnVmYWN0dXJlciA9IChtLmRpc3BsYXlOYW1lKSAiZGlzcGxheVJ1bGUiOwogICAgICAgIH0ibWFudWZhY3R1cmVyIjsgCiAgICAgICAgcGxheWluZ0RldmljZS5zb2Z0d2FyZU5hbWUgYXMgc29mdHdhcmVOYW1lIC0+IGRldmljZS5kZXZpY2VOYW1lIGFzIGRldmljZU5hbWUgdGhlbnsKICAgICAgICAgIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2VOYW1lLnR5cGUgPSAnb3RoZXInICJ0eXBlTmFtZSI7CQkKICAgICAgICAgIHNvZnR3YXJlTmFtZSBhcyBzIC0+IGRldmljZU5hbWUubmFtZSA9IChzLmRpc3BsYXlOYW1lKSAibmFtZSI7CiAgICAgICAgfSJkZXZpY2VOYW1lIjsKICAgICAgfSJwbGF5aW5nRGV2aWNlIjsKICAgIH0icGFydGljaXBhbnRSb2xlRGV2IjsKICB9ImRldlBhcnRpY2lwYW50IjsKCiAgLy9vYnNlcnZhdGlvbk1lZGlhCiAgb2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVyIHRoZW4gewogICAgZXIub2JzZXJ2YXRpb25NZWRpYSBhcyBvYnNNZWRpYSAtPiBidW5kbGUuZW50cnkgYXMgZTE1LCBlMTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxNS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWEnKSBhcyBtZWRpYTEsICBtZWRpYTEuaWQgPSB1dWlkKCkgYXMgdXVpZDE1LCAgZTE1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpYS8nLCB1dWlkMTUpLCByZXF1ZXN0LnVybD0nTWVkaWEnLCBvYi5kZXJpdmVkRnJvbSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGlhLycgKyAlbWVkaWExLmlkKSB0aGVuIHsKICAgICAgb2JzTWVkaWEtPiBtZWRpYTEuY29udGVudCA9IGNyZWF0ZSgnQXR0YWNobWVudCcpIGFzIEF0dGFjaG1lbnQgdGhlbiB7CiAgICAgICAgb2JzTWVkaWEgLT4gbWVkaWExLnN0YXR1cz0ndW5rbm93bicic3RhdHVzIjsKICAgICAgICBvYnNNZWRpYS52YWx1ZSBhcyB2YWx1ZU1lZGlhIHRoZW4gewogICAgICAgICAgdmFsdWVNZWRpYS5tZWRpYVR5cGUgYXMgdHlwZSAtPiBBdHRhY2htZW50LmNvbnRlbnRUeXBlPXR5cGUgInR5cGUiOwogICAgICAgICAgdmFsdWVNZWRpYSAtPiBBdHRhY2htZW50LmRhdGE9KHZhbHVlTWVkaWEuZGF0YUJhc2U2NEJpbmFyeSkgImRhdGEiOwogICAgICAgIH0idmFsdWVtZWRpYSI7CiAgICAgIH0gIkF0dGFjaG1lbnQiOwogICAgfSJtZWRpYSI7CiAgfSJvYnNlcnZhdGlvbk1lZGlhIjsKCiAgLy9yZWZlcmVuY2VSYW5nZSAgIAogIG9icy5yZWZlcmVuY2VSYW5nZSBhcyByZWZSYW5nZSAtPiBvYi5yZWZlcmVuY2VSYW5nZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVmIHRoZW4gewogICAgcmVmUmFuZ2Uub2JzZXJ2YXRpb25SYW5nZSBhcyBvYnNSYW5nZSB0aGVuIHsKICAgIG9ic1JhbmdlLnZhbHVlOlNUIGFzIHZhbHVlLT5yZWYudGV4dCA9Y3JlYXRlKCdzdHJpbmcnKSxyZWYudGV4dD0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgICAgIG9ic1JhbmdlIC0+IHJlZi5sb3cgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgTG93ICB0aGVuIHsKICAgICAgb2JzUmFuZ2UudmFsdWU6IElWTF9QUSBhcyB2ICB0aGVuIHsKICAgICAgICB2LmxvdyBhcyBsMSB0aGVuIHsKICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlLT4gTG93LnZhbHVlID0gZGVjVmFsdWU7CiAgICAgICAgICBsMS51bml0IGFzIFVuaXQtPiBMb3cudW5pdCA9IFVuaXQ7CiAgICAgICAgfSJkZWNWYWx1ZSI7IAogICAgICAgIHYtPnJlZi5oaWdoID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIGhpZ2ggIHRoZW4gewogICAgICAgICAgdi5oaWdoIGFzIGgxIHRoZW4gewogICAgICAgICAgICBoMS52YWx1ZSBhcyBkZWNWYWx1ZTEtPiBoaWdoLnZhbHVlID0gZGVjVmFsdWUxOwogICAgICAgICAgICBoMS51bml0IGFzIFVuaXQxLT4gaGlnaC51bml0ID0gVW5pdDE7CiAgICAgICAgICB9ImRlY1ZhbHVlIjsKICAgICAgICB9ImhpZ2giOyAgICAgICAgICAgCiAgICAgIH0iSVZMLVBRIjsKICAgICAgb2JzUmFuZ2UuaW50ZXJwcmV0YXRpb25Db2RlLT5yZWYudHlwZTsKICAgICAgb2JzUmFuZ2UucHJlY29uZGl0aW9uIGFzIHByZWNvbmRpdGlvbiB0aGVuIHsgCiAgICAgICAgcHJlY29uZGl0aW9uLmNyaXRlcmlvbiBhcyBjcml0ZXJpb24gdGhlbnsgCiAgICAgICAgICBjcml0ZXJpb24uY29kZSAtPiByZWYuYXBwbGllc1RvICJhcHBsaWVzVG8iOwogICAgICAgICAgY3JpdGVyaW9uLnZhbHVlOiBJVkxfUFEgYXMgdiB0aGVuIHsKICAgICAgICAgICAgdi5oaWdoIGFzIGwxIHRoZW4gewogICAgICAgICAgIGwxLT4gcmVmLmFnZSA9IGNyZWF0ZSgnUXVhbnRpdHknKWFzIGFnZSB0aGVuIHsKICAgICAgICAgICAgbDEgLT4gYWdlLmhpZ2ggYXMgaGlnaCB0aGVuIHsKICAgICAgICAgICAgICBsMS52YWx1ZSBhcyBkZWNWYWx1ZSAtPiBoaWdoLnZhbHVlID0gZGVjVmFsdWU7CiAgICAgICAgICAgICAgbDEudW5pdCBhcyBVbml0MS0+IGhpZ2gudW5pdCA9IFVuaXQxOwogICAgICAgICAgICAgICAgICAgICAgfSJoaWdoIjsKICAgICAgICAgICAgICAgICAgICB9ImFnZSI7CiAgICAgICAgICAgICAgICAgIH0gImxvdyI7IAogICAgICAgICAgICAgfSAidiI7IAogICAgICAgICAgfSAiY3JpdGVyaW9uIjsgCiAgICAgICB9InByZWNvbmRpdGlvbiI7CiAgICB9Im9ic1JhbmdlIjsgICAgICAgICAgICAgIAogIH0icmVmUmFuZ2UiOyAgCiB9InJlZiI7Cgp9Cgpncm91cCBPYnNlcnZhdGlvbjIgKHNvdXJjZSBvYnMgOiBPYnNlcnZhdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgb2IgOiBPYnNlcnZhdGlvbiwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgc291cmNlIGNkYTogQWN0LCB0YXJnZXQgc3BlY2ltZW5wIDogU3BlY2ltZW4pIHsKICAgIAogIG9icy0+b2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICBvYnMtPm9iLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKICBvYnMuY29kZSAtPiBvYi5jb2RlOwoKICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvYnMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZi0+IG9iLmVmZmVjdGl2ZT1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogIH0id2hlcmUiOwogIG9icy5pbnRlcnByZXRhdGlvbkNvZGUgLT4gb2IuaW50ZXJwcmV0YXRpb247CiAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogIG9icy52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgfSJjb2RlIjsKICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICB9InRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOlBRIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgfSJxdWFudGl0eSI7CiAgfSJ2YWx1ZVF1YW50aXR5IjsKICBvYnMudmFsdWU6U1QgYXMgdmFsdWUtPm9iLnZhbHVlID1jcmVhdGUoJ3N0cmluZycpLG9iLnZhbHVlPSAodmFsdWUuZGF0YVN0cmluZykgInZhbHVlIjsKCgogIC8vTm90ZSBlIGNvbW1lbnRpCiAgb2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW4gewogICAgZW50cnlSZWxhdGlvbnNoaXAuYWN0IGFzIGFjdCB0aGVuIHsKICAgICAgYWN0LnRleHQgYXMgdGV4dCB0aGVuIHsKICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gb2Iubm90ZSBhcyBub3RlIHRoZW4gewogICAgICAgICAgcmVmZXJlbmNlLT5ub3RlLnRleHQgPShyZWZlcmVuY2UudmFsdWUpInJlZmVyZW5jZSI7CiAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICB9InRleHQiOwogICAgfSJBY3QiOwogIH0iZW50cnlSZWxhdGlvbnNoaXAiOwoKICAvL3N1YmplY3QKICBvYnMuc3ViamVjdCBhcyBzYmogdGhlbiB7CiAgICBzYmoucmVsYXRlZFN1YmplY3QgYXMgcmVsYXRlZFN1YmotPiBwYXRpZW50LmV4dGVuc2lvbiBhcyBleHRlbnNpb24yIHRoZW4gRXh0U3ViamVjdEFuaW1hbChyZWxhdGVkU3ViaiwgZXh0ZW5zaW9uMik7CiAgfSJzdWJqZWN0IjsKCiAgY2RhIHdoZXJlIGNkYS5lbnRyeVJlbGF0aW9uc2hpcC5hY3QuZXhpc3RzKCkgdGhlbiB7CiAgLy9zcGVjaW1lbgogICAgb2JzLnNwZWNpbWVuIGFzIHNwbW4gIHRoZW4gewogICAgICBzcG1uLnNwZWNpbWVuUm9sZSBhcyBzcGVjaW1lblJvbGUgdGhlbnsgIAogICAgICAgIHNwZWNpbWVuUm9sZS5pZCBhcyBpZCB0aGVuewogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dG9icyB0aGVuewogICAgICAgICAgICBjZGEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbnsKICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5hY3QgYXMgYSB0aGVuewogICAgICAgICAgICAgICAgYS5zcGVjaW1lbiBhcyBzcCB0aGVuewogICAgICAgICAgICAgICAgICBzcC5zcGVjaW1lblJvbGUgYXMgc3ByIHRoZW57CiAgICAgICAgICAgICAgICAgICAgc3ByLmlkIHdoZXJlKGV4dGVuc2lvbiA9IGV4dG9icykgLT4gYnVuZGxlLmVudHJ5IGFzIGU0bywgZTRvLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNG8ucmVzb3VyY2UgPSBjcmVhdGUoJ1NwZWNpbWVuJykgYXMgc3BlY2ltZW4sIHNwZWNpbWVuLmlkID0gdXVpZCgpIGFzIHV1aWQ0bywgZTRvLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9TcGVjaW1lbi8nLCB1dWlkNG8pLCByZXF1ZXN0LnVybCA9ICdTcGVjaW1lbicsIG9iLnNwZWNpbWVuPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJyArICVzcGVjaW1lbi5pZCkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIHNwciAtPiBzcGVjaW1lbi5wYXJlbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJyArICVzcGVjaW1lbnAuaWQpICJyZWZlcmVuY2UiOyAgIAogICAgICAgICAgICAgICAgICAgICAgc3ByLmlkIC0+IHNwZWNpbWVuLmlkZW50aWZpZXI7CiAgICAgICAgICAgICAgICAgICAgICBzcGVjaW1lblJvbGUuc3BlY2ltZW5QbGF5aW5nRW50aXR5IGFzIHNwZW50IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHNwZW50LmNvZGUgLT4gc3BlY2ltZW4udHlwZTsKICAgICAgICAgICAgICAgICAgICAgIH0iZW50IjsKICAgICAgICAgICAgICAgICAgICAgIHNwci5zcGVjaW1lblBsYXlpbmdFbnRpdHkgYXMgc3BlY2ltZW5QbGF5aW5nRW50aXR5IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBzcGVjaW1lblBsYXlpbmdFbnRpdHkuY29kZSAtPiBzcGVjaW1lbi50eXBlOwogICAgICAgICAgICAgICAgICAgICAgfSJzcGVjaW1lblBsYXlpbmdFbnRpdHkiOyAgIAogICAgICAgICAgICAgICAgICAgICAgICBhIC0+IHNwZWNpbWVuLmNvbGxlY3Rpb249Y3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBjb2xsZWN0aW9uIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmV0aW1lIC0+IGNvbGxlY3Rpb24uY29sbGVjdGVkID1jcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZXRpbWUsdmFsdWUpInZhbHVlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBhIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gY29sbGVjdGlvbi5jb2xsZWN0ZWQ9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9IndoZXJlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBhLnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IC0+YnVuZGxlLmVudHJ5IGFzIGUxMCwgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxMC5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDExLCBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMTEpLCAgY29sbGVjdGlvbi5jb2xsZWN0b3IgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRpY2lwYW50Um9sZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUucGxheWluZ0VudGl0eSAgYXMgcGxheWluZ0VudGl0eSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmdFbnRpdHkubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJwbGF5aW5nRW50aXR5IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0icGFydGljaXBhbnRSb2xlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9InBhcnRpY2lwYW50IjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2xsZWN0aW9uIjsgIAogICAgICAgICAgICAgICAgICAgIH0iY29udCI7CiAgICAgICAgICAgICAgICAgIH0ic3ByIjsKICAgICAgICAgICAgICAgIH0ic3AiOwogICAgICAgICAgICAgIH0iYSI7CiAgICAgICAgICAgIH0iZW4iOyAgICAgICAgICAgICAKICAgICAgICAgIH0iZXh0b2JzIjsKICAgICAgICB9ImlkIjsgCiAgICB9InNwZWNpbWVuUm9sZSI7ICAKICAgIH0ic3BlY2ltZW4iOwogIH0iY29uZGl0aW9uYWN0ZXhpc3RzIjsKICAKICBjZGEgd2hlcmUgY2RhLmVudHJ5UmVsYXRpb25zaGlwLmFjdC5leGlzdHMoKS5ub3QoKSBhbmQgKG9icy5zcGVjaW1lbi5zcGVjaW1lblJvbGUuc3BlY2ltZW5QbGF5aW5nRW50aXR5LmNvZGUuY29kZSAhPSBzcGVjaW1lbnAudHlwZS5jb2RpbmcuY29kZSkgdGhlbiB7CiAgICBvYnMuc3BlY2ltZW4gYXMgc3BtbiAtPmJ1bmRsZS5lbnRyeSBhcyBlNG8sIGU0by5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTRvLnJlc291cmNlID0gY3JlYXRlKCdTcGVjaW1lbicpIGFzIHNwZWNpbWVuLCBzcGVjaW1lbi5pZCA9IHV1aWQoKSBhcyB1dWlkNG8sIGU0by5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJywgdXVpZDRvKSwgcmVxdWVzdC51cmwgPSAnU3BlY2ltZW4nLCBvYi5zcGVjaW1lbj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1NwZWNpbWVuLycgKyAlc3BlY2ltZW4uaWQpIHRoZW4gewogICAgICBzcG1uLnNwZWNpbWVuUm9sZSBhcyBzcGVjaW1lblJvbGUgdGhlbnsKICAgICAgICBzcGVjaW1lblJvbGUuaWQgIC0+IHNwZWNpbWVuLmlkZW50aWZpZXI7CiAgICAgc3BlY2ltZW5Sb2xlLnNwZWNpbWVuUGxheWluZ0VudGl0eSBhcyBzcGVjaW1lblBsYXlpbmdFbnRpdHkgdGhlbiB7CiAgICAgICAgICBzcGVjaW1lblBsYXlpbmdFbnRpdHkuY29kZSAtPiBzcGVjaW1lbi50eXBlOwogICAgICAgIH0ic3BlY2ltZW5QbGF5aW5nRW50aXR5IjsKICAgICAgfSJzcGVjaW1lblJvbGUiOwogICAgfSJzcGVjaW1lbiI7ICAgIAogIH0id2hlcmVub3RleGlzdHMiOwogIAogIC8vcGVyZm9ybWVyCiAgb2JzLnBlcmZvcm1lciBhcyBwZXJmb3JtZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ1ByYWN0aXRpb25lclJvbGUnIHRoZW57CiAgICBwZXJmb3JtZXIgLT4gb2IucGVyZm9ybWVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpIHRoZW4gewogICAgICBwZXJmb3JtZXIuYXNzaWduZWRFbnRpdHkgYXMgZW50aXR5IHRoZW4gewogICAgICAgIGVudGl0eS5jb2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICBlbnRpdHkgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCAgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuIHsKICAgICAgICAgIGVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgZW50aXR5LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIGVudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGVyZm9ybWVyJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgZW50aXR5LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgInBlcmZvcm1lciI7CiAgICAgICAgICAgIH0iciI7CiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImRpdmVyc28iOwogICAgICAgICAgZW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7ICAgICAgCiAgICAgICAgICBlbnRpdHkudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICAgIGVudGl0eS5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICBwZXJzb24uYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgICB9Im5hbWUiOwogICAgICAgICAgLy9vcmdhbml6YXRpb24KICAgICAgICAgIGVudGl0eS5yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiAgYnVuZGxlLmVudHJ5IGFzIGUzLCAgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUzLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGVyZm9ybWVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDMsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgcHJhY3RpdGlvbmVyUm9sZS5vcmdhbml6YXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZU9yZywgIHJlZmVyZW5jZU9yZy5yZWZlcmVuY2UgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpImF1dCI7CiAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbi50ZWxlY29tOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGU0LCAgZTQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT5vcmdhbml6YXRpb24xLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGVyZm9ybWVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOyAKICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24xLmlkICA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgb3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24xLmlkKSAgIm9yZyI7CiAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTUsICBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjIuaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDUpLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKSAib3JnIjsKICAgICAgICAgICAgICAgICAgfSJyIjsgCiAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uMi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgIH0iT3JnUGFydE9mIjsKICAgICAgICAgIH0icmVwcmVzZW50ZWRPcmdhbml6YXRpb24iOyAKICAgICAgICB9InByYWN0aXRpb25lciI7CiAgICAgIH0iZW50aXR5IjsKICAgIH0icHJhY3RpdGlvbmVyUm9sZSI7CiAgfSJwZXJmb3JtZXIiOwoKICAvL2F1dGhvcgogIG9icy5hdXRob3IgYXMgc3JjQXV0aG9yIC0+ICBidW5kbGUuZW50cnkgYXMgZTYsIGU2LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQ2LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDYpLCByZXF1ZXN0LnVybD0nUHJhY3RpdGlvbmVyUm9sZScsIG9iLnBlcmZvcm1lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlYXV0LCAgcmVmZXJlbmNlYXV0LnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgIHNyY0F1dGhvci5hc3NpZ25lZEF1dGhvciBhcyBhc3NpZ25lZEF1dGhvciB0aGVuIHsKICAgICAgYXNzaWduZWRBdXRob3IuY29kZSBhcyBjb2RpY2UgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlIGFzIGNvZGUyIHRoZW4gQ0VDb2RlYWJsZUNvbmNlcHQoY29kaWNlLGNvZGUyKTsKICAgICAgYXNzaWduZWRBdXRob3IgLT4gYnVuZGxlLmVudHJ5IGFzIGU3LCAgZTcucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTcucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkNyB0aGVuIHsKICAgICAgICBzcmNBdXRob3IuZnVuY3Rpb25Db2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICBhc3NpZ25lZEF1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vYXV0aG9yJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICAgZTcuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkiYXV0IjsKICAgICAgICAgIH0iciI7CiAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImRpdmVyc28iOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgYXNzaWduZWRBdXRob3IuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsgICAgICAKICAgICAgICBhc3NpZ25lZEF1dGhvci50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgIC8vcGVyc29uCiAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICBwZXJzb24uYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICB9Im5hbWUiOwogICAgICB9IkFTU0FVdGgiOwogICAgICAvL29yZ2FuaXphdGlvbgogICAgICBhc3NpZ25lZEF1dGhvci5yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiBhcyByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiAgYnVuZGxlLmVudHJ5IGFzIGU4LCAgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGU4LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24gdGhlbiB7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQzLCAgIGU4LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlT3JnLCAgcmVmZXJlbmNlT3JnLnJlZmVyZW5jZSA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMykib3JnIjsKICAgICAgICAgIH0iciI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTksICBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgdGhlbiB7CiAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9hdXRob3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24xLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgICBlOS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgb3JnYW5pemF0aW9uLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24xLmlkKSAib3JnIjsKICAgICAgICAgICAgfSJyIjsgCiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMCwgIGUxMC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTEwLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yIHRoZW57CiAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgIHdob2xlT3JnYW4tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9hdXRob3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2Yvd2hvbGVPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgd2hvbGVPcmdhbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsIGUxMC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMi5pZCkgICAgIm9yZyI7CiAgICAgICAgICAgICAgfSJyIjsgCiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgIH0id2hvbGVPcmdhbml6YXRpb24iOwogICAgICAgIH0iT3JnUGFydE9mIjsKICAgICAgfSJyZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7IAogICAgICAvL2RldmljZQogICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZEF1dGhvcmluZ0RldmljZSBhcyBhc3NpZ25lZEF1dGhvcmluZ0RldmljZSAtPiBidW5kbGUuZW50cnkgYXMgZTExLCAgZTExLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTExLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDExLCAgZTExLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJywgdXVpZDExKSwgcmVxdWVzdC51cmwgPSdEZXZpY2UnLCB0Z3QuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbnsKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS50ZW1wbGF0ZUlkIC0+IGRldmljZS5pZGVudGlmaWVyOyAKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS5jb2RlIC0+IGRldmljZS50eXBlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLm1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgIG1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtLT4gZGV2aWNlLm1hbnVmYWN0dXJlciA9IChtLmRpc3BsYXlOYW1lKSAiZGlzcGxheVJ1bGUiOwogICAgICAgIH0ibWFudWZhY3R1cmVyIjsgCiAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2Uuc29mdHdhcmVOYW1lIGFzIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2UuZGV2aWNlTmFtZSBhcyBkZXZpY2VOYW1lIHRoZW57CiAgICAgICAgICBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlTmFtZS50eXBlID0gJ290aGVyJyAidHlwZU5hbWUiOwkJCiAgICAgICAgICBzb2Z0d2FyZU5hbWUgYXMgcyAtPiBkZXZpY2VOYW1lLm5hbWUgPSAocy5kaXNwbGF5TmFtZSkgIm5hbWUiOwogICAgICAgIH0iZGV2aWNlTmFtZSI7CiAgICAgIH0iRGV2aWNlIjsKICAgIH0iYXNzaWduZWRBdXRob3IiOwogIH0iYXV0aG9yIjsKCiAgLy9wYXJ0aWNpcGFudCBwZXJzb24KICBvYnMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgd2hlcmUodHlwZUNvZGUhPSdERVYnKSAtPiAgb2IuZW5jb3VudGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSB0aGVuIHsKICAgIHBhcnRpY2lwYW50IC0+IGVuY291bnRlci5wYXJ0aWNpcGFudCBhcyBGaGlyUGFydGljaXBhbnQgdGhlbiB7CiAgICAgIHBhcnRpY2lwYW50IGFzIHAgLT4gRmhpclBhcnRpY2lwYW50LnR5cGUgYXMgdHlwZSB0aGVuIHsgCiAgICAgICAgcCAtPiB0eXBlLmNvZGluZyBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgIHAtPiBjb2RpbmcuY29kZSA9IChwLnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgIHAtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtUGFydGljaXBhdGlvblR5cGUnICJzeXN0ZW0iOwogICAgICAgIH0gImNvZGVUeXBlIjsgCiAgICAgIH0idHlwZSI7CiAgICB9ImZoaXJQYXJ0aWNpcGFudCI7CiAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsICAgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTEyLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEyICwgIGUxMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nLCB1dWlkMTIpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJywgZW5jb3VudGVyLnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXJ0aWNpcGFudDEsIHBhcnRpY2lwYW50MS5pbmRpdmlkdWFsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VwYXJ0LCByZWZlcmVuY2VwYXJ0LnJlZmVyZW5jZSA9ICAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsgCiAgICAgIC8vcGFydGljaXBhbnQudGltZSAtPiBwYXJ0aWNpcGFudDEucGVyaW9kOwogICAgICBwYXJ0aWNpcGFudC50aW1lIGFzIHRpbWUxIC0+IHBhcnRpY2lwYW50MS5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgIHRpbWUxIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUodGltZTEsc3RhcnQpICJ2YWwiOwogICAgICAgfSJ0aW1lIjsgCiAgICAgICBwYXJ0aWNpcGFudC50aW1lIGFzIHRpbWUxIC0+IHBhcnRpY2lwYW50MS5wZXJpb2QgPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QodGltZTEscGVyaW9kKTsKICAgICAgcGFydGljaXBhbnQuZnVuY3Rpb25Db2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgLy9ub24gbWFwcGEgaSAyIHByZWNlZGVudGkKICAgICAgcGFydGljaXBhbnRSb2xlICAtPiBidW5kbGUuZW50cnkgYXMgZTEzLCBlMTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTEzLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgcGFydGljaXBhbnRSb2xlLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wYXJ0aWNpcGFudCciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCAgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTEzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDQpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJvcmciOwogICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5jb2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUucGxheWluZ0VudGl0eSBhcyBwbGF5aW5nRW50aXR5IHRoZW4gewogICAgICAgICAgcGxheWluZ0VudGl0eS5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgcGxheWluZ0VudGl0eS5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgIH0iYmlydGgiOwogICAgICAgIH0ibmFtZSI7CiAgICAgIH0icHJhY3RpdGlvbmVyIjsKICAgIH0icGFydFJvbGUiOwogIH0icGFydGljaXBhbnRFbmNvdW50ZXIiOwoKICAvL3BhcnRpY2lwYW50IGRldmljZQogIG9icy5wYXJ0aWNpcGFudCBhcyBkZXZQYXJ0aWNpcGFudCB3aGVyZSh0eXBlQ29kZT0nREVWJykgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNCwgZTE0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTQucmVzb3VyY2UgPSBjcmVhdGUoJ0RldmljZScpIGFzIGRldmljZSwgIGRldmljZS5pZCA9IHV1aWQoKSBhcyB1dWlkMTQsICBlMTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nLCB1dWlkMTQpLCByZXF1ZXN0LnVybD0nRGV2aWNlJywgb2IuZGV2aWNlID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycgKyAlZGV2aWNlLmlkKSB0aGVuIHsKICAgIGRldlBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGVEZXYgdGhlbiB7CiAgICAgIHBhcnRpY2lwYW50Um9sZURldi5wbGF5aW5nRGV2aWNlIGFzIHBsYXlpbmdEZXZpY2UgdGhlbiB7CiAgICAgICAgcGxheWluZ0RldmljZS5jb2RlIC0+IGRldmljZS50eXBlOwogICAgICAgIHBsYXlpbmdEZXZpY2UubWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG1hbnVmYWN0dXJlck1vZGVsTmFtZSB0aGVuewogICAgICAgICAgbWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG0tPiBkZXZpY2UubWFudWZhY3R1cmVyID0gKG0uZGlzcGxheU5hbWUpICJkaXNwbGF5UnVsZSI7CiAgICAgICAgfSJtYW51ZmFjdHVyZXIiOyAKICAgICAgICBwbGF5aW5nRGV2aWNlLnNvZnR3YXJlTmFtZSBhcyBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlLmRldmljZU5hbWUgYXMgZGV2aWNlTmFtZSB0aGVuewogICAgICAgICAgc29mdHdhcmVOYW1lIC0+IGRldmljZU5hbWUudHlwZSA9ICdvdGhlcicgInR5cGVOYW1lIjsJCQogICAgICAgICAgc29mdHdhcmVOYW1lIGFzIHMgLT4gZGV2aWNlTmFtZS5uYW1lID0gKHMuZGlzcGxheU5hbWUpICJuYW1lIjsKICAgICAgICB9ImRldmljZU5hbWUiOwogICAgICB9InBsYXlpbmdEZXZpY2UiOwogICAgfSJwYXJ0aWNpcGFudFJvbGVEZXYiOwogIH0iZGV2UGFydGljaXBhbnQiOwoKICAvL29ic2VydmF0aW9uTWVkaWEKICBvYnMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZXIgdGhlbiB7CiAgICBlci5vYnNlcnZhdGlvbk1lZGlhIGFzIG9ic01lZGlhIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTUsIGUxNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTE1LnJlc291cmNlID0gY3JlYXRlKCdNZWRpYScpIGFzIG1lZGlhMSwgIG1lZGlhMS5pZCA9IHV1aWQoKSBhcyB1dWlkMTUsICBlMTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGlhLycsIHV1aWQxNSksIHJlcXVlc3QudXJsPSdNZWRpYScsIG9iLmRlcml2ZWRGcm9tID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWEvJyArICVtZWRpYTEuaWQpIHRoZW4gewogICAgICBvYnNNZWRpYS0+IG1lZGlhMS5jb250ZW50ID0gY3JlYXRlKCdBdHRhY2htZW50JykgYXMgQXR0YWNobWVudCB0aGVuIHsKICAgICAgICBvYnNNZWRpYSAtPiBtZWRpYTEuc3RhdHVzPSd1bmtub3duJyJzdGF0dXMiOwogICAgICAgIG9ic01lZGlhLnZhbHVlIGFzIHZhbHVlTWVkaWEgdGhlbiB7CiAgICAgICAgICB2YWx1ZU1lZGlhLm1lZGlhVHlwZSBhcyB0eXBlIC0+IEF0dGFjaG1lbnQuY29udGVudFR5cGU9dHlwZSAidHlwZSI7CiAgICAgICAgICB2YWx1ZU1lZGlhIC0+IEF0dGFjaG1lbnQuZGF0YT0odmFsdWVNZWRpYS5kYXRhQmFzZTY0QmluYXJ5KSAiZGF0YSI7CiAgICAgICAgfSJ2YWx1ZW1lZGlhIjsKICAgICAgfSAiQXR0YWNobWVudCI7CiAgICB9Im1lZGlhIjsKICB9Im9ic2VydmF0aW9uTWVkaWEiOwoKICAvL3JlZmVyZW5jZVJhbmdlICAgCiAgb2JzLnJlZmVyZW5jZVJhbmdlIGFzIHJlZlJhbmdlIC0+IG9iLnJlZmVyZW5jZVJhbmdlID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZWYgdGhlbiB7CiAgICByZWZSYW5nZS5vYnNlcnZhdGlvblJhbmdlIGFzIG9ic1JhbmdlIHRoZW4gewogICAgb2JzUmFuZ2UudmFsdWU6U1QgYXMgdmFsdWUtPnJlZi50ZXh0ID1jcmVhdGUoJ3N0cmluZycpLHJlZi50ZXh0PSAodmFsdWUuZGF0YVN0cmluZykgInZhbHVlIjsKICAgICAgb2JzUmFuZ2UgLT4gcmVmLmxvdyA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBMb3cgIHRoZW4gewogICAgICBvYnNSYW5nZS52YWx1ZTogSVZMX1BRIGFzIHYgIHRoZW4gewogICAgICAgIHYubG93IGFzIGwxIHRoZW4gewogICAgICAgICAgbDEudmFsdWUgYXMgZGVjVmFsdWUtPiBMb3cudmFsdWUgPSBkZWNWYWx1ZTsKICAgICAgICAgIGwxLnVuaXQgYXMgVW5pdC0+IExvdy51bml0ID0gVW5pdDsKICAgICAgICB9ImRlY1ZhbHVlIjsgCiAgICAgICAgdi0+cmVmLmhpZ2ggPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgaGlnaCAgdGhlbiB7CiAgICAgICAgICB2LmhpZ2ggYXMgaDEgdGhlbiB7CiAgICAgICAgICAgIGgxLnZhbHVlIGFzIGRlY1ZhbHVlMS0+IGhpZ2gudmFsdWUgPSBkZWNWYWx1ZTE7CiAgICAgICAgICAgIGgxLnVuaXQgYXMgVW5pdDEtPiBoaWdoLnVuaXQgPSBVbml0MTsKICAgICAgICAgIH0iZGVjVmFsdWUiOwogICAgICAgIH0iaGlnaCI7ICAgICAgICAgICAKICAgICAgfSJJVkwtUFEiOwogICAgICBvYnNSYW5nZS5pbnRlcnByZXRhdGlvbkNvZGUtPnJlZi50eXBlOwogICAgICBvYnNSYW5nZS5wcmVjb25kaXRpb24gYXMgcHJlY29uZGl0aW9uIHRoZW4geyAKICAgICAgICBwcmVjb25kaXRpb24uY3JpdGVyaW9uIGFzIGNyaXRlcmlvbiB0aGVueyAKICAgICAgICAgIGNyaXRlcmlvbi5jb2RlIC0+IHJlZi5hcHBsaWVzVG8gImFwcGxpZXNUbyI7CiAgICAgICAgICBjcml0ZXJpb24udmFsdWU6IElWTF9QUSBhcyB2IHRoZW4gewogICAgICAgICAgICB2LmhpZ2ggYXMgbDEgdGhlbiB7CiAgICAgICAgICAgbDEtPiByZWYuYWdlID0gY3JlYXRlKCdRdWFudGl0eScpYXMgYWdlIHRoZW4gewogICAgICAgICAgICBsMSAtPiBhZ2UuaGlnaCBhcyBoaWdoIHRoZW4gewogICAgICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlIC0+IGhpZ2gudmFsdWUgPSBkZWNWYWx1ZTsKICAgICAgICAgICAgICBsMS51bml0IGFzIFVuaXQxLT4gaGlnaC51bml0ID0gVW5pdDE7CiAgICAgICAgICAgICAgICAgICAgICB9ImhpZ2giOwogICAgICAgICAgICAgICAgICAgIH0iYWdlIjsKICAgICAgICAgICAgICAgICAgfSAibG93IjsgCiAgICAgICAgICAgICB9ICJ2IjsgCiAgICAgICAgICB9ICJjcml0ZXJpb24iOyAKICAgICAgIH0icHJlY29uZGl0aW9uIjsKICAgIH0ib2JzUmFuZ2UiOyAgICAgICAgICAgICAgCiAgfSJyZWZSYW5nZSI7ICAKIH0icmVmIjsKCn0KCmdyb3VwIE9ic2VydmF0aW9uMyAoc291cmNlIG9icyA6IE9ic2VydmF0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBvYiA6IE9ic2VydmF0aW9uLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCBzb3VyY2UgY2RhOiBBY3QpIHsKICAgIAogIG9icy0+b2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICBvYnMtPm9iLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKICBvYnMuY29kZSAtPiBvYi5jb2RlOwoKICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvYnMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZi0+IG9iLmVmZmVjdGl2ZT1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogIH0id2hlcmUiOwogIG9icy5pbnRlcnByZXRhdGlvbkNvZGUgLT4gb2IuaW50ZXJwcmV0YXRpb247CiAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogIG9icy52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgfSJjb2RlIjsKICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICB9InRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOlBRIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgfSJxdWFudGl0eSI7CiAgfSJ2YWx1ZVF1YW50aXR5IjsKICBvYnMudmFsdWU6U1QgYXMgdmFsdWUtPm9iLnZhbHVlID1jcmVhdGUoJ3N0cmluZycpLG9iLnZhbHVlPSAodmFsdWUuZGF0YVN0cmluZykgInZhbHVlIjsKCiAgLy9Ob3RlIGUgY29tbWVudGkKICBvYnMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbiB7CiAgICBlbnRyeVJlbGF0aW9uc2hpcC5hY3QgYXMgYWN0IHRoZW4gewogICAgICBhY3QudGV4dCBhcyB0ZXh0IHRoZW4gewogICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBvYi5ub3RlIGFzIG5vdGUgdGhlbiB7CiAgICAgICAgICByZWZlcmVuY2UtPm5vdGUudGV4dCA9KHJlZmVyZW5jZS52YWx1ZSkicmVmZXJlbmNlIjsKICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgIH0idGV4dCI7CiAgICB9IkFjdCI7CiAgfSJlbnRyeVJlbGF0aW9uc2hpcCI7CgogIC8vc3ViamVjdAogIG9icy5zdWJqZWN0IGFzIHNiaiB0aGVuIHsKICAgIHNiai5yZWxhdGVkU3ViamVjdCBhcyByZWxhdGVkU3Viai0+IHBhdGllbnQuZXh0ZW5zaW9uIGFzIGV4dGVuc2lvbjIgdGhlbiBFeHRTdWJqZWN0QW5pbWFsKHJlbGF0ZWRTdWJqLCBleHRlbnNpb24yKTsKICB9InN1YmplY3QiOwoKICAvL3NwZWNpbWVuCiAgLy8gY2RhIHdoZXJlIGNkYS5zcGVjaW1lbi5leGlzdHMoKSB0aGVuIHsKICAvLyBvYnMuc3BlY2ltZW4gLT4gb2Iuc3BlY2ltZW4gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9TcGVjaW1lbi8nICsgJXNwZWNpbWVucC5pZCkgInJlZiI7CiAgLy8gb2JzLnNwZWNpbWVuIGFzIHNwbW4gIHRoZW4geyAgICAKICAvLyAgIHNwbW4uc3BlY2ltZW5Sb2xlIGFzIHNwZWNpbWVuUm9sZSB0aGVueyAgICAgICAgCiAgLy8gICAgIHNwZWNpbWVuUm9sZS5zcGVjaW1lblBsYXlpbmdFbnRpdHkgYXMgZW50IHRoZW57CiAgLy8gICAgICAgZW50IHdoZXJlKHNwZWNpbWVucC50eXBlLmV4aXN0cygpLm5vdCgpKSB0aGVuewogIC8vICAgICAgICAgZW50LmNvZGUgLT4gc3BlY2ltZW5wLnR5cGU7CiAgLy8gICAgICAgfSJvbmNlIjsKICAvLyAgICAgfSJlbnQiOwogIC8vICAgfSJzcGVjaW1lblJvbGUiOyAgCiAgLy8gfSJzcGVjaW1lbiI7CiAgLy8gfSJjZGEiOwogIG9icy5zcGVjaW1lbiBhcyAgc3BtbiAtPmJ1bmRsZS5lbnRyeSBhcyBlNG8sIGU0by5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTRvLnJlc291cmNlID0gY3JlYXRlKCdTcGVjaW1lbicpIGFzIHNwZWNpbWVuLCBzcGVjaW1lbi5pZCA9IHV1aWQoKSBhcyB1dWlkNG8sIGU0by5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJywgdXVpZDRvKSwgcmVxdWVzdC51cmwgPSAnU3BlY2ltZW4nLCBvYi5zcGVjaW1lbj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1NwZWNpbWVuLycgKyAlc3BlY2ltZW4uaWQpIHRoZW4gewogICAgICBzcG1uLnNwZWNpbWVuUm9sZSBhcyBzcGVjaW1lblJvbGUgdGhlbnsKICAgICAgICAgIHNwZWNpbWVuUm9sZS5pZCBhcyBpZCAtPiBzcGVjaW1lbi5pZGVudGlmaWVyOwogICAgICAgICAgc3BlY2ltZW5Sb2xlLnNwZWNpbWVuUGxheWluZ0VudGl0eSBhcyBzcGVjaW1lblBsYXlpbmdFbnRpdHkgdGhlbiB7CiAgICAgICAgICBzcGVjaW1lblBsYXlpbmdFbnRpdHkuY29kZSAtPiBzcGVjaW1lbi50eXBlOwogICAgICAgICAgICB9InNwZWNpbWVuUGxheWluZ0VudGl0eSI7CiAgICAgICAgfSJzcGVjaW1lblJvbGUiOwogIH0ic3BlY2ltZW4iOwoKICAKICAvL3BlcmZvcm1lcgogIG9icy5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJyB0aGVuewogICAgcGVyZm9ybWVyIC0+IG9iLnBlcmZvcm1lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgICAgcGVyZm9ybWVyLmFzc2lnbmVkRW50aXR5IGFzIGVudGl0eSB0aGVuIHsKICAgICAgICBlbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgZW50aXR5IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMiwgIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgICAgICBlbnRpdHktPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIGVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgZW50aXR5IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgIGVudGl0eS0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJwZXJmb3JtZXIiOwogICAgICAgICAgICB9InIiOwogICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIGVudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICAgIGVudGl0eS5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOyAgICAgIAogICAgICAgICAgZW50aXR5LnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgcGVyc29uLmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICAgIH0iYmlydGgiOwogICAgICAgICAgfSJuYW1lIjsKICAgICAgICAgIC8vb3JnYW5pemF0aW9uCiAgICAgICAgICBlbnRpdHkucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMywgIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL3BlcmZvcm1lci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMyksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSJhdXQiOwogICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYWRkciAtPiBvcmdhbml6YXRpb24uYWRkcmVzczsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgT3JnUGFydE9mIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNCwgIGU0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIGU0LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24xLCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnIHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMS5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL3BlcmZvcm1lci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZiciY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJtZXRhIjsgCiAgICAgICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCAgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCkgICJvcmciOwogICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgICBPcmdQYXJ0T2Yuc3RhdHVzQ29kZSBhcyBzdGF0dXMgd2hlcmUgKHZhbHVlID0nYWN0aXZlJykgLT4gb3JnYW5pemF0aW9uMS5hY3RpdmUgPSBjcmVhdGUoJ2Jvb2xlYW4nKSwgb3JnYW5pemF0aW9uMS5hY3RpdmUgPSAndHJ1ZSc7CiAgICAgICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCAgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGU1LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yIHRoZW57CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGVyZm9ybWVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL3dob2xlT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkICA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ1KSwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMi5pZCkgIm9yZyI7CiAgICAgICAgICAgICAgICAgIH0iciI7IAogICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgICAgICAgIH0id2hvbGVPcmdhbml6YXRpb24iOwogICAgICAgICAgICB9Ik9yZ1BhcnRPZiI7CiAgICAgICAgICB9InJlcHJlc2VudGVkT3JnYW5pemF0aW9uIjsgCiAgICAgICAgfSJwcmFjdGl0aW9uZXIiOwogICAgICB9ImVudGl0eSI7CiAgICB9InByYWN0aXRpb25lclJvbGUiOwogIH0icGVyZm9ybWVyIjsKCiAgLy9hdXRob3IKICBvYnMuYXV0aG9yIGFzIHNyY0F1dGhvciAtPiAgYnVuZGxlLmVudHJ5IGFzIGU2LCBlNi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTYucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkNiwgIGU2LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQ2KSwgcmVxdWVzdC51cmw9J1ByYWN0aXRpb25lclJvbGUnLCBvYi5wZXJmb3JtZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZWF1dCwgIHJlZmVyZW5jZWF1dC5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICBzcmNBdXRob3IuYXNzaWduZWRBdXRob3IgYXMgYXNzaWduZWRBdXRob3IgdGhlbiB7CiAgICAgIGFzc2lnbmVkQXV0aG9yLmNvZGUgYXMgY29kaWNlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZSBhcyBjb2RlMiB0aGVuIENFQ29kZWFibGVDb25jZXB0KGNvZGljZSxjb2RlMik7CiAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNywgIGU3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGU3LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDcgdGhlbiB7CiAgICAgICAgc3JjQXV0aG9yLmZ1bmN0aW9uQ29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgYXNzaWduZWRBdXRob3ItPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29ic2VydmF0aW9uL2F1dGhvciciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3ItPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgIGU3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpImF1dCI7CiAgICAgICAgICB9InIiOwogICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7ICAgICAgCiAgICAgICAgYXNzaWduZWRBdXRob3IudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIudGVsZWNvbTsKICAgICAgICAvL3BlcnNvbgogICAgICAgIGFzc2lnbmVkQXV0aG9yLmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgcGVyc29uLmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgfSJuYW1lIjsKICAgICAgfSJBU1NBVXRoIjsKICAgICAgLy9vcmdhbml6YXRpb24KICAgICAgYXNzaWduZWRBdXRob3IucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlOCwgIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW4gewogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9hdXRob3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgICBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQzKSwgcHJhY3RpdGlvbmVyUm9sZS5vcmdhbml6YXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZU9yZywgIHJlZmVyZW5jZU9yZy5yZWZlcmVuY2UgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpIm9yZyI7CiAgICAgICAgICB9InIiOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbi5uYW1lID0gKHYub3RoZXIpOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYWRkciAtPiBvcmdhbml6YXRpb24uYWRkcmVzczsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hc09yZ2FuaXphdGlvblBhcnRPZiBhcyBPcmdQYXJ0T2YgLT4gYnVuZGxlLmVudHJ5IGFzIGU5LCAgZTkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGU5LnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24xIHRoZW4gewogICAgICAgICAgT3JnUGFydE9mLT5vcmdhbml6YXRpb24xLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mJyJjb2RlIjsKICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgIE9yZ1BhcnRPZi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24xLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCkgIm9yZyI7CiAgICAgICAgICAgIH0iciI7IAogICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgIE9yZ1BhcnRPZi53aG9sZU9yZ2FuaXphdGlvbiBhcyB3aG9sZU9yZ2FuIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTAsICBlMTAucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgIGUxMC5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMiB0aGVuewogICAgICAgICAgICB3aG9sZU9yZ2FuLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mL3dob2xlT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgIHdob2xlT3JnYW4uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkNCksIG9yZ2FuaXphdGlvbjEucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjIuaWQpICAgICJvcmciOwogICAgICAgICAgICAgIH0iciI7IAogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICB3aG9sZU9yZ2FuLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24yLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgICAgIHdob2xlT3JnYW4uYWRkciAtPiBvcmdhbml6YXRpb24yLmFkZHJlc3M7CiAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICB9Ik9yZ1BhcnRPZiI7CiAgICAgIH0icmVwcmVzZW50ZWRPcmdhbml6YXRpb24iOyAKICAgICAgLy9kZXZpY2UKICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRBdXRob3JpbmdEZXZpY2UgYXMgYXNzaWduZWRBdXRob3JpbmdEZXZpY2UgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMSwgIGUxMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnRGV2aWNlJykgYXMgZGV2aWNlLCAgZGV2aWNlLmlkID0gdXVpZCgpIGFzIHV1aWQxMSwgIGUxMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycsIHV1aWQxMSksIHJlcXVlc3QudXJsID0nRGV2aWNlJywgdGd0LmF1dGhvciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJyArICVkZXZpY2UuaWQpIHRoZW57CiAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2UudGVtcGxhdGVJZCAtPiBkZXZpY2UuaWRlbnRpZmllcjsgCiAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2UuY29kZSAtPiBkZXZpY2UudHlwZTsKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS5tYW51ZmFjdHVyZXJNb2RlbE5hbWUgYXMgbWFudWZhY3R1cmVyTW9kZWxOYW1lIHRoZW57CiAgICAgICAgICBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgYXMgbS0+IGRldmljZS5tYW51ZmFjdHVyZXIgPSAobS5kaXNwbGF5TmFtZSkgImRpc3BsYXlSdWxlIjsKICAgICAgICB9Im1hbnVmYWN0dXJlciI7IAogICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLnNvZnR3YXJlTmFtZSBhcyBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlLmRldmljZU5hbWUgYXMgZGV2aWNlTmFtZSB0aGVuewogICAgICAgICAgc29mdHdhcmVOYW1lIC0+IGRldmljZU5hbWUudHlwZSA9ICdvdGhlcicgInR5cGVOYW1lIjsJCQogICAgICAgICAgc29mdHdhcmVOYW1lIGFzIHMgLT4gZGV2aWNlTmFtZS5uYW1lID0gKHMuZGlzcGxheU5hbWUpICJuYW1lIjsKICAgICAgICB9ImRldmljZU5hbWUiOwogICAgICB9IkRldmljZSI7CiAgICB9ImFzc2lnbmVkQXV0aG9yIjsKICB9ImF1dGhvciI7CgogIC8vcGFydGljaXBhbnQgcGVyc29uCiAgb2JzLnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IHdoZXJlKHR5cGVDb2RlIT0nREVWJykgLT4gIG9iLmVuY291bnRlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgdGhlbiB7CiAgICBwYXJ0aWNpcGFudCAtPiBlbmNvdW50ZXIucGFydGljaXBhbnQgYXMgRmhpclBhcnRpY2lwYW50IHRoZW4gewogICAgICBwYXJ0aWNpcGFudCBhcyBwIC0+IEZoaXJQYXJ0aWNpcGFudC50eXBlIGFzIHR5cGUgdGhlbiB7IAogICAgICAgIHAgLT4gdHlwZS5jb2RpbmcgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICBwLT4gY29kaW5nLmNvZGUgPSAocC50eXBlQ29kZSkgImNvZGljZSI7CiAgICAgICAgICBwLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL3YzLVBhcnRpY2lwYXRpb25UeXBlJyAic3lzdGVtIjsKICAgICAgICB9ICJjb2RlVHlwZSI7IAogICAgICB9InR5cGUiOwogICAgfSJmaGlyUGFydGljaXBhbnQiOwogICAgcGFydGljaXBhbnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRpY2lwYW50Um9sZSAtPiBidW5kbGUuZW50cnkgYXMgZTEyLCAgIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUxMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxMiAsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEyKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScsIGVuY291bnRlci5wYXJ0aWNpcGFudCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcGFydGljaXBhbnQxLCBwYXJ0aWNpcGFudDEuaW5kaXZpZHVhbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlcGFydCwgcmVmZXJlbmNlcGFydC5yZWZlcmVuY2UgPSAgKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7IAogICAgICAvL3BhcnRpY2lwYW50LnRpbWUgLT4gcGFydGljaXBhbnQxLnBlcmlvZDsKICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0aW1lMSAtPiBwYXJ0aWNpcGFudDEucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiB7CiAgICAgICAgdGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lMSxzdGFydCkgInZhbCI7CiAgICAgICB9InRpbWUiOwogICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0aW1lMSAtPiBwYXJ0aWNpcGFudDEucGVyaW9kID1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKHRpbWUxLHBlcmlvZCk7CiAgICAgIHBhcnRpY2lwYW50LmZ1bmN0aW9uQ29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgIC8vbm9uIG1hcHBhIGkgMiBwcmVjZWRlbnRpCiAgICAgIHBhcnRpY2lwYW50Um9sZSAgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMywgZTEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxMy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW4gewogICAgICAgIHBhcnRpY2lwYW50Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb2JzZXJ2YXRpb24vcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgIGUxMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQ0KSwgIHByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAib3JnIjsKICAgICAgICAgIH0iciI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgcGFydGljaXBhbnRSb2xlLnBsYXlpbmdFbnRpdHkgYXMgcGxheWluZ0VudGl0eSB0aGVuIHsKICAgICAgICAgIHBsYXlpbmdFbnRpdHkubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgIHBsYXlpbmdFbnRpdHkuYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICB9Im5hbWUiOwogICAgICB9InByYWN0aXRpb25lciI7CiAgICB9InBhcnRSb2xlIjsKICB9InBhcnRpY2lwYW50RW5jb3VudGVyIjsKCiAgLy9wYXJ0aWNpcGFudCBkZXZpY2UKICBvYnMucGFydGljaXBhbnQgYXMgZGV2UGFydGljaXBhbnQgd2hlcmUodHlwZUNvZGU9J0RFVicpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTQsIGUxNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTE0LnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDE0LCAgZTE0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJywgdXVpZDE0KSwgcmVxdWVzdC51cmw9J0RldmljZScsIG9iLmRldmljZSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbiB7CiAgICBkZXZQYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlRGV2IHRoZW4gewogICAgICBwYXJ0aWNpcGFudFJvbGVEZXYucGxheWluZ0RldmljZSBhcyBwbGF5aW5nRGV2aWNlIHRoZW4gewogICAgICAgIHBsYXlpbmdEZXZpY2UuY29kZSAtPiBkZXZpY2UudHlwZTsKICAgICAgICBwbGF5aW5nRGV2aWNlLm1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgIG1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtLT4gZGV2aWNlLm1hbnVmYWN0dXJlciA9IChtLmRpc3BsYXlOYW1lKSAiZGlzcGxheVJ1bGUiOwogICAgICAgIH0ibWFudWZhY3R1cmVyIjsgCiAgICAgICAgcGxheWluZ0RldmljZS5zb2Z0d2FyZU5hbWUgYXMgc29mdHdhcmVOYW1lIC0+IGRldmljZS5kZXZpY2VOYW1lIGFzIGRldmljZU5hbWUgdGhlbnsKICAgICAgICAgIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2VOYW1lLnR5cGUgPSAnb3RoZXInICJ0eXBlTmFtZSI7CQkKICAgICAgICAgIHNvZnR3YXJlTmFtZSBhcyBzIC0+IGRldmljZU5hbWUubmFtZSA9IChzLmRpc3BsYXlOYW1lKSAibmFtZSI7CiAgICAgICAgfSJkZXZpY2VOYW1lIjsKICAgICAgfSJwbGF5aW5nRGV2aWNlIjsKICAgIH0icGFydGljaXBhbnRSb2xlRGV2IjsKICB9ImRldlBhcnRpY2lwYW50IjsKCiAgLy9vYnNlcnZhdGlvbk1lZGlhCiAgb2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVyIHRoZW4gewogICAgZXIub2JzZXJ2YXRpb25NZWRpYSBhcyBvYnNNZWRpYSAtPiBidW5kbGUuZW50cnkgYXMgZTE1LCBlMTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxNS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWEnKSBhcyBtZWRpYTEsICBtZWRpYTEuaWQgPSB1dWlkKCkgYXMgdXVpZDE1LCAgZTE1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpYS8nLCB1dWlkMTUpLCByZXF1ZXN0LnVybD0nTWVkaWEnLCBvYi5kZXJpdmVkRnJvbSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGlhLycgKyAlbWVkaWExLmlkKSB0aGVuIHsKICAgICAgb2JzTWVkaWEtPiBtZWRpYTEuY29udGVudCA9IGNyZWF0ZSgnQXR0YWNobWVudCcpIGFzIEF0dGFjaG1lbnQgdGhlbiB7CiAgICAgICAgb2JzTWVkaWEgLT4gbWVkaWExLnN0YXR1cz0ndW5rbm93bicic3RhdHVzIjsKICAgICAgICBvYnNNZWRpYS52YWx1ZSBhcyB2YWx1ZU1lZGlhIHRoZW4gewogICAgICAgICAgdmFsdWVNZWRpYS5tZWRpYVR5cGUgYXMgdHlwZSAtPiBBdHRhY2htZW50LmNvbnRlbnRUeXBlPXR5cGUgInR5cGUiOwogICAgICAgICAgdmFsdWVNZWRpYSAtPiBBdHRhY2htZW50LmRhdGE9KHZhbHVlTWVkaWEuZGF0YUJhc2U2NEJpbmFyeSkgImRhdGEiOwogICAgICAgIH0idmFsdWVtZWRpYSI7CiAgICAgIH0gIkF0dGFjaG1lbnQiOwogICAgfSJtZWRpYSI7CiAgfSJvYnNlcnZhdGlvbk1lZGlhIjsKCiAgLy9yZWZlcmVuY2VSYW5nZSAgIAogIG9icy5yZWZlcmVuY2VSYW5nZSBhcyByZWZSYW5nZSAtPiBvYi5yZWZlcmVuY2VSYW5nZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVmIHRoZW4gewogICAgcmVmUmFuZ2Uub2JzZXJ2YXRpb25SYW5nZSBhcyBvYnNSYW5nZSB0aGVuIHsKICAgIG9ic1JhbmdlLnZhbHVlOlNUIGFzIHZhbHVlLT5yZWYudGV4dCA9Y3JlYXRlKCdzdHJpbmcnKSxyZWYudGV4dD0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgICAgIG9ic1JhbmdlIC0+IHJlZi5sb3cgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgTG93ICB0aGVuIHsKICAgICAgb2JzUmFuZ2UudmFsdWU6IElWTF9QUSBhcyB2ICB0aGVuIHsKICAgICAgICB2LmxvdyBhcyBsMSB0aGVuIHsKICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlLT4gTG93LnZhbHVlID0gZGVjVmFsdWU7CiAgICAgICAgICBsMS51bml0IGFzIFVuaXQtPiBMb3cudW5pdCA9IFVuaXQ7CiAgICAgICAgfSJkZWNWYWx1ZSI7IAogICAgICAgIHYtPnJlZi5oaWdoID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIGhpZ2ggIHRoZW4gewogICAgICAgICAgdi5oaWdoIGFzIGgxIHRoZW4gewogICAgICAgICAgICBoMS52YWx1ZSBhcyBkZWNWYWx1ZTEtPiBoaWdoLnZhbHVlID0gZGVjVmFsdWUxOwogICAgICAgICAgICBoMS51bml0IGFzIFVuaXQxLT4gaGlnaC51bml0ID0gVW5pdDE7CiAgICAgICAgICB9ImRlY1ZhbHVlIjsKICAgICAgICB9ImhpZ2giOyAgICAgICAgICAgCiAgICAgIH0iSVZMUFEiOwogICAgICBvYnNSYW5nZS5pbnRlcnByZXRhdGlvbkNvZGUtPnJlZi50eXBlOwogICAgICBvYnNSYW5nZS5wcmVjb25kaXRpb24gYXMgcHJlY29uZGl0aW9uIHRoZW4geyAKICAgICAgICBwcmVjb25kaXRpb24uY3JpdGVyaW9uIGFzIGNyaXRlcmlvbiB0aGVueyAKICAgICAgICAgIGNyaXRlcmlvbi5jb2RlIC0+IHJlZi5hcHBsaWVzVG8gImFwcGxpZXNUbyI7CiAgICAgICAgICBjcml0ZXJpb24udmFsdWU6IElWTF9QUSBhcyB2IHRoZW4gewogICAgICAgICAgICB2LmhpZ2ggYXMgbDEgdGhlbiB7CiAgICAgICAgICAgbDEtPiByZWYuYWdlID0gY3JlYXRlKCdRdWFudGl0eScpYXMgYWdlIHRoZW4gewogICAgICAgICAgICBsMSAtPiBhZ2UuaGlnaCBhcyBoaWdoIHRoZW4gewogICAgICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlIC0+IGhpZ2gudmFsdWUgPSBkZWNWYWx1ZTsKICAgICAgICAgICAgICBsMS51bml0IGFzIFVuaXQxLT4gaGlnaC51bml0ID0gVW5pdDE7CiAgICAgICAgICAgICAgICAgICAgICB9ImhpZ2giOwogICAgICAgICAgICAgICAgICAgIH0iYWdlIjsKICAgICAgICAgICAgICAgICAgfSAibG93IjsgCiAgICAgICAgICAgICB9ICJ2IjsgCiAgICAgICAgICB9ICJjcml0ZXJpb24iOyAKICAgICAgIH0icHJlY29uZGl0aW9uIjsKICAgIH0ib2JzUmFuZ2UiOyAgICAgICAgICAgICAgCiAgfSJyZWZSYW5nZSI7ICAKIH0icmVmIjsKCn0KCmdyb3VwIEFjdCAoc291cmNlIGNkYTogQWN0LCB0YXJnZXQgcGF0IDogUGF0aWVudCwgdGFyZ2V0IGFjIDogRGlhZ25vc3RpY1JlcG9ydCwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSl7CiAgY2RhLmNvZGUgLT4gYWMuY29kZTsKICBjZGEgd2hlcmUgY2RhLnN0YXR1c0NvZGUgLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgY2RhLT5hYy5zdGF0dXMgPSdmaW5hbCcic3RhdHVzY29kZSI7CiAgfSJzdGF0dXMiOwogIGNkYS5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IGFjLnN0YXR1cyA9J2ZpbmFsJzsKICBjZGEuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBhYy5zdGF0dXMgPSdyZWdpc3RlcmVkJzsKICBjZGEuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhYm9ydGVkJykgLT4gYWMuc3RhdHVzID0nY2FuY2VsbGVkJzsKICBjZGEuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBhYy5zdGF0dXMgPSdwYXJ0aWFsJzsKICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IGFjLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTMiOwogIGNkYSB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgY2RhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gYWMuZWZmZWN0aXZlPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgfSJ3aGVyZSI7CiAgCiAgY2RhIC0+IGFjLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdC5pZCkgInJlZmVyZW5jZSI7CiAgY2RhIC0+IGFjLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOwoKICAvL3NwZWNpbWVuCiAgY2RhIHdoZXJlIGNkYS5zcGVjaW1lbi5leGlzdHMoKSB0aGVuIHsKICAgIGNkYS5zcGVjaW1lbiBhcyBzcmMtPmJ1bmRsZS5lbnRyeSBhcyBlNCwgZTQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU0LnJlc291cmNlID0gY3JlYXRlKCdTcGVjaW1lbicpIGFzIHNwZWNpbWVuLCAgc3BlY2ltZW4uaWQgPSB1dWlkKCkgYXMgdXVpZDQsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJywgdXVpZDQpLCByZXF1ZXN0LnVybCA9ICdTcGVjaW1lbicsIGFjLnNwZWNpbWVuPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1NwZWNpbWVuLycgKyAlc3BlY2ltZW4uaWQpIHRoZW4gewogICAgICBzcmMuc3BlY2ltZW5Sb2xlIGFzIHNwZWNpbWVuUm9sZSB0aGVuewogICAgICAgIHNwZWNpbWVuUm9sZS5pZCAtPnNwZWNpbWVuLmlkZW50aWZpZXI7CiAgICAgICAgICBzcGVjaW1lblJvbGUuc3BlY2ltZW5QbGF5aW5nRW50aXR5IGFzIHNwZWNpbWVuUGxheWluZ0VudGl0eSB0aGVuIHsKICAgICAgICAgIHNwZWNpbWVuUGxheWluZ0VudGl0eS5jb2RlIC0+IHNwZWNpbWVuLnR5cGU7CiAgICAgICAgfSJzcGVjaW1lblBsYXlpbmdFbnRpdHkiOwogICAgICB9IlNwZWNpbWVuUm9sZSI7CiAgICAgIHNyYy0+c3BlY2ltZW4uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgIGNkYS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcCB0aGVuIHsKICAgICAgZW50cnlSZWxhdGlvbnNoaXAub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbiB7CiAgICAgIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEyLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9icywgIG9icy5pZCA9IHV1aWQoKSBhcyB1dWlkMTMsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgYWMucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMuaWQpIHRoZW4gewogICAgICAgIG9ic2VydmF0aW9uIHRoZW4gIE9ic2VydmF0aW9uMihvYnNlcnZhdGlvbixwYXQsZW5jLG9icyxidW5kbGUsY2RhLHNwZWNpbWVuKSAiT1JHIjsKICAgICAgICAvLyBwcm9jZWR1cmUKICAgICAgICBjZGEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAxIHRoZW4gewogICAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAxLnByb2NlZHVyZSBhcyBwcm9jICAtPiBidW5kbGUuZW50cnkgYXMgZTUsIGU1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJvY2VkdXJlJykgYXMgcHJvY2VkdXJlLCAgcHJvY2VkdXJlLmlkID0gdXVpZCgpIGFzIHV1aWQ1LCAgZTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nLCB1dWlkNSksIHJlcXVlc3QudXJsID0gJ1Byb2NlZHVyZScsIG9icy5wYXJ0T2Y9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycgKyAlcHJvY2VkdXJlLmlkKSAgdGhlbnsKICAgICAgICAgICAgcHJvYyAtPiBwcm9jZWR1cmUuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgICAgICAgcHJvYyAtPiBwcm9jZWR1cmUuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgIHByb2Mgd2hlcmUgcHJvYy5zdGF0dXNDb2RlIC5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICBwcm9jLT5wcm9jZWR1cmUuc3RhdHVzID0ndW5rbm93bicic3RhdHVzY29kZSI7CiAgICAgICAgICAgIH0ic3RhdHVzIjsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdjb21wbGV0ZWQnOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2luLXByb2dyZXNzJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nc3RvcHBlZCc7CiAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nb24taG9sZCc7CiAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjYW5jZWxsZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nbm90LWRvbmUnOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0naGVsZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J25ldycpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdwcmVwYXJhdGlvbic7CiAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdvYnNvbGV0ZScpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdlbnRlcmVkLWluLWVycm9yJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J251bGxpZmllZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSd1bmtub3duJzsKICAgICAgICAgICAgcHJvYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gcHJvY2VkdXJlLnBlcmZvcm1lZCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJkYXRldGltZSI7CiAgICAgICAgICAgIHByb2Mgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICBwcm9jLmVmZmVjdGl2ZVRpbWUgYXMgIGVmZi0+IHByb2NlZHVyZS5wZXJmb3JtZWQ9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsKICAgICAgICAgICAgfSJ3aGVyZSI7CiAgICAgICAgICAgIHByb2MudGFyZ2V0U2l0ZUNvZGUgLT4gcHJvY2VkdXJlLmJvZHlTaXRlOyAgICAgCiAgICAgICAgICB9InByb2NlZHVyZSI7IAogICAgICAgIH0iZW50cnlSZWxhdGlvbnNoaXBwcm9jZWR1cmUiOyAKICAgICAgfSJvYnMiOwogICAgICB9Im9ic2VydmF0aW9uIjsKCiAgICAgIGVudHJ5UmVsYXRpb25zaGlwLm9yZ2FuaXplciBhcyBvcmdhbml6ZXIgdGhlbiB7CiAgICAgICAgb3JnYW5pemVyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEyLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9icywgIG9icy5pZCA9IHV1aWQoKSBhcyB1dWlkMTMsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgYWMucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMuaWQpIHRoZW4gewogICAgICAgICAgb3JnYW5pemVyIHRoZW4gIE9yZ2FuaXplcihjZGEsb3JnYW5pemVyLHBhdCxlbmMsb2JzLGJ1bmRsZSkgIk9SRyI7CiAgICAgICAgICAvLyBwcm9jZWR1cmUKICAgICAgICAgIGNkYS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDEgdGhlbiB7CiAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMS5wcm9jZWR1cmUgYXMgcHJvYyAgLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ1Byb2NlZHVyZScpIGFzIHByb2NlZHVyZSwgIHByb2NlZHVyZS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJywgdXVpZDUpLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnLCBvYnMucGFydE9mPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nICsgJXByb2NlZHVyZS5pZCkgIHRoZW57CiAgICAgICAgICAgICAgcHJvYyAtPiBwcm9jZWR1cmUuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgICAgICAgICBwcm9jIC0+IHByb2NlZHVyZS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBwcm9jIHdoZXJlIHByb2Muc3RhdHVzQ29kZSAuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICBwcm9jLT5wcm9jZWR1cmUuc3RhdHVzID0ndW5rbm93bicic3RhdHVzY29kZSI7CiAgICAgICAgICAgICAgfSJzdGF0dXMiOwogICAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nY29tcGxldGVkJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2luLXByb2dyZXNzJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdzdG9wcGVkJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J29uLWhvbGQnOwogICAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjYW5jZWxsZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nbm90LWRvbmUnOwogICAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdoZWxkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J29uLWhvbGQnOwogICAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSduZXcnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0ncHJlcGFyYXRpb24nOwogICAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdvYnNvbGV0ZScpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdlbnRlcmVkLWluLWVycm9yJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nbnVsbGlmaWVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J3Vua25vd24nOwogICAgICAgICAgICAgIHByb2MuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHByb2NlZHVyZS5wZXJmb3JtZWQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAiZGF0ZXRpbWUiOwogICAgICAgICAgICAgIHByb2Mgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgIHByb2MuZWZmZWN0aXZlVGltZSBhcyAgZWZmLT4gcHJvY2VkdXJlLnBlcmZvcm1lZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgIHByb2MudGFyZ2V0U2l0ZUNvZGUgLT4gcHJvY2VkdXJlLmJvZHlTaXRlOyAgICAgCiAgICAgICAgICAgIH0icGJzZXJ2YXRpb24iOyAKICAgICAgICAgIH0iZW50cnlSZWxhdGlvbnNoaXByb2NlZHVyZSI7IAogICAgICAgIH0iT3JnYW5pemVyIjsKICAgICAgfSJvcmdhbml6ZXIiOwoKICAgICAgfSJlbnRyeVJlbGF0aW9uc2hpcG9ic2VydmF0aW9uIjsKICAgIH0ic3BlY2ltZW4iOwogIH0iZXhpc3QiOwoKICBjZGEgd2hlcmUgY2RhLnNwZWNpbWVuLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAvLyBjZGEgLT4gYnVuZGxlLmVudHJ5IGFzIGU0LCBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ1NwZWNpbWVuJykgYXMgc3BlY2ltZW4sICBzcGVjaW1lbi5pZCA9IHV1aWQoKSBhcyB1dWlkNCwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9TcGVjaW1lbi8nLCB1dWlkNCksIHJlcXVlc3QudXJsID0gJ1NwZWNpbWVuJyB0aGVuIHsKICAgICAgY2RhLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW4gewogICAgICBlbnRyeVJlbGF0aW9uc2hpcC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbiB0aGVuIHsKICAgICAgb2JzZXJ2YXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMiwgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTIucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzLCAgb2JzLmlkID0gdXVpZCgpIGFzIHV1aWQxMywgIGUxMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEzKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBhYy5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9icy5pZCkgdGhlbiB7CiAgICAgICAgb2JzZXJ2YXRpb24gdGhlbiAgT2JzZXJ2YXRpb24zKG9ic2VydmF0aW9uLHBhdCxlbmMsb2JzLGJ1bmRsZSxjZGEpICJPUkciOwogICAgICAgIC8vIHByb2NlZHVyZQogICAgICAgIGNkYS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDEgdGhlbiB7CiAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDEucHJvY2VkdXJlIGFzIHByb2MgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU1LnJlc291cmNlID0gY3JlYXRlKCdQcm9jZWR1cmUnKSBhcyBwcm9jZWR1cmUsICBwcm9jZWR1cmUuaWQgPSB1dWlkKCkgYXMgdXVpZDUsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycsIHV1aWQ1KSwgcmVxdWVzdC51cmwgPSAnUHJvY2VkdXJlJywgb2JzLnBhcnRPZj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJyArICVwcm9jZWR1cmUuaWQpICB0aGVuewogICAgICAgICAgICBwcm9jIC0+IHByb2NlZHVyZS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgICAgICAgICBwcm9jIC0+IHByb2NlZHVyZS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgcHJvYyB3aGVyZSBwcm9jLnN0YXR1c0NvZGUgLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgIHByb2MtPnByb2NlZHVyZS5zdGF0dXMgPSd1bmtub3duJyJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgfSJzdGF0dXMiOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2NvbXBsZXRlZCc7CiAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0naW4tcHJvZ3Jlc3MnOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdzdG9wcGVkJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NhbmNlbGxlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdub3QtZG9uZSc7CiAgICAgICAgICAgIHByb2Muc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdoZWxkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J29uLWhvbGQnOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nbmV3JykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J3ByZXBhcmF0aW9uJzsKICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J29ic29sZXRlJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2VudGVyZWQtaW4tZXJyb3InOwogICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nbnVsbGlmaWVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J3Vua25vd24nOwogICAgICAgICAgICBwcm9jLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBwcm9jZWR1cmUucGVyZm9ybWVkID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgImRhdGV0aW1lIjsKICAgICAgICAgICAgcHJvYyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICAgIHByb2MuZWZmZWN0aXZlVGltZSBhcyAgZWZmLT4gcHJvY2VkdXJlLnBlcmZvcm1lZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICB9IndoZXJlIjsKICAgICAgICAgICAgcHJvYy50YXJnZXRTaXRlQ29kZSAtPiBwcm9jZWR1cmUuYm9keVNpdGU7ICAgICAKICAgICAgICAgIH0icHJvY2VkdXJlIjsgCiAgICAgICAgfSJlbnRyeVJlbGF0aW9uc2hpcHByb2NlZHVyZSI7IAogICAgICB9Im9icyI7CiAgICAgIH0ib2JzZXJ2YXRpb24iOwogICAgICBlbnRyeVJlbGF0aW9uc2hpcC5vcmdhbml6ZXIgYXMgb3JnYW5pemVyIHRoZW4gewogICAgICAgIG9yZ2FuaXplciAtPiBidW5kbGUuZW50cnkgYXMgZTEyLCBlMTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMsICBvYnMuaWQgPSB1dWlkKCkgYXMgdXVpZDEzLCAgZTEyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMTMpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGFjLnJlc3VsdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzLmlkKSB0aGVuIHsKICAgICAgICAgIG9yZ2FuaXplciB0aGVuICBPcmdhbml6ZXIoY2RhLG9yZ2FuaXplcixwYXQsZW5jLG9icyxidW5kbGUpICJPUkciOwogICAgICAgICAgLy8gcHJvY2VkdXJlCiAgICAgICAgICBjZGEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAxIHRoZW4gewogICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDEucHJvY2VkdXJlIGFzIHByb2MgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU1LnJlc291cmNlID0gY3JlYXRlKCdQcm9jZWR1cmUnKSBhcyBwcm9jZWR1cmUsICBwcm9jZWR1cmUuaWQgPSB1dWlkKCkgYXMgdXVpZDUsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycsIHV1aWQ1KSwgcmVxdWVzdC51cmwgPSAnUHJvY2VkdXJlJywgb2JzLnBhcnRPZj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJyArICVwcm9jZWR1cmUuaWQpICB0aGVuewogICAgICAgICAgICAgIHByb2MgLT4gcHJvY2VkdXJlLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgICAgICAgcHJvYyAtPiBwcm9jZWR1cmUuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgcHJvYyB3aGVyZSBwcm9jLnN0YXR1c0NvZGUgLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgICAgcHJvYy0+cHJvY2VkdXJlLnN0YXR1cyA9J3Vua25vd24nInN0YXR1c2NvZGUiOwogICAgICAgICAgICAgIH0ic3RhdHVzIjsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J2NvbXBsZXRlZCc7CiAgICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdpbi1wcm9ncmVzcyc7CiAgICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nc3RvcHBlZCc7CiAgICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY2FuY2VsbGVkJykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J25vdC1kb25lJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0naGVsZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSdvbi1ob2xkJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nbmV3JykgLT4gcHJvY2VkdXJlLnN0YXR1cyA9J3ByZXBhcmF0aW9uJzsKICAgICAgICAgICAgICBwcm9jLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nb2Jzb2xldGUnKSAtPiBwcm9jZWR1cmUuc3RhdHVzID0nZW50ZXJlZC1pbi1lcnJvcic7CiAgICAgICAgICAgICAgcHJvYy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J251bGxpZmllZCcpIC0+IHByb2NlZHVyZS5zdGF0dXMgPSd1bmtub3duJzsKICAgICAgICAgICAgICBwcm9jLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBwcm9jZWR1cmUucGVyZm9ybWVkID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgImRhdGV0aW1lIjsKICAgICAgICAgICAgICBwcm9jIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICBwcm9jLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gcHJvY2VkdXJlLnBlcmZvcm1lZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgIHByb2MudGFyZ2V0U2l0ZUNvZGUgLT4gcHJvY2VkdXJlLmJvZHlTaXRlOyAgICAgCiAgICAgICAgICAgIH0icGJzZXJ2YXRpb24iOyAKICAgICAgICAgIH0iZW50cnlSZWxhdGlvbnNoaXByb2NlZHVyZSI7IAogICAgICAgIH0iT3JnYW5pemVyIjsKICAgICAgfSJvcmdhbml6ZXIiOwogICAgICB9ImVudHJ5UmVsYXRpb25zaGlwb2JzZXJ2YXRpb24iOwogICAgIAogICAgLy99InNwZWNpbWVuIjsKICB9ImV4aXN0bm90IjsKCiAgLy9QQVJUSUNJUEFOVAogIGNkYS5wYXJ0aWNpcGFudCAgYXMgcGFydCB3aGVyZSh0eXBlQ29kZSE9J0RFVicpIC0+ICBlbmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbnsKICAgICAgcGFydCAgLT4gcGFydGljaXBhbnQudHlwZSBhcyB0eXBlIHRoZW4geyAKICAgICAgICBwYXJ0IC0+IHR5cGUuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICBwYXJ0LT4gY29kaW5nLmNvZGUgPSAocGFydC50eXBlQ29kZSkgImNvZGljZSI7CiAgICAgICAgcGFydC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1QYXJ0aWNpcGF0aW9uVHlwZScgInN5c3RlbSI7CiAgICAgICAgfSAiY29kZVR5cGUiOyAKICAgICAgfSJ0eXBlIjsKICAKICAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgLT4gIHBhcnRpY2lwYW50LmluZGl2aWR1YWwgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSB0aGVuIHsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciAgdGhlbiB7IAogICAgICAgICAgcGFydC50aW1lIGFzIHRpbWUxIC0+IHBhcnRpY2lwYW50LnBlcmlvZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgICAgIHRpbWUxIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUodGltZTEsc3RhcnQpICJ2YWwiOwogICAgICAgICAgIH0idGltZSI7CiAgICAgICAgICAgcGFydC50aW1lIGFzIHRpbWUxIC0+IHBhcnRpY2lwYW50LnBlcmlvZCA9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZCh0aW1lMSxwZXJpb2QpOwogICAgICAgICAgcGFydGljaXBhbnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkNCksICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAib3JnIjsKICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKCiAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUuYWRkciAtPiBwcmFjdGl0aW9uZXIuYWRkcmVzczsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRW50aXR5ICBhcyBwbGF5aW5nRW50aXR5IHRoZW57CiAgICAgICAgICBwbGF5aW5nRW50aXR5Lm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgfSJwbGF5aW5nRW50aXR5IjsKICAgICAgfSJwYXJ0aWNpcGFuUm9sZUJ1bmQiOyAgCiAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgfSJwYXJ0aWNpcGFudCI7CgogLy8gUEVSRk9STUVSCiAgY2RhLnBlcmZvcm1lciBhcyBwZXJmb3JtZXItPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybD0nUHJhY3RpdGlvbmVyUm9sZScsIGFjLnBlcmZvcm1lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBhc3NpZ25lZEVudGl0eSB0aGVuIHsKICAgICAgYXNzaWduZWRFbnRpdHkuY29kZSBhcyBjb2RpY2UgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICBhc3NpZ25lZEVudGl0eSAtPiBidW5kbGUuZW50cnkgYXMgZTIsICBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyICAgdGhlbiB7CiAgICAgIGFzc2lnbmVkRW50aXR5LmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICBhc3NpZ25lZEVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICBhc3NpZ25lZEVudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIGFzc2lnbmVkRW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgYXNzaWduZWRFbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvYWN0L3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgfSJjb2RpbmciOwogICAgICB9Im1ldGEiOwogICAgICBhc3NpZ25lZEVudGl0eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgYXNzaWduZWRFbnRpdHktPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IHByYWN0aXRpb25lci5pZCAgPSAociArJy0nKyBleHQpIGFzIHV1aWQ0LCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkNCksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgInByYSI7CiAgICAgICAgICB9InIiOwoKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgIGFzc2lnbmVkRW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7ICAgICAgCiAgICAgIGFzc2lnbmVkRW50aXR5LnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgIGFzc2lnbmVkRW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIHBlcnNvbiB0aGVuIHsKICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICBwZXJzb24uYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgIH0iYmlydGgiOwogICAgICB9Im5hbWUiOwogICAgICB9ICJBU1NBVXRoIjsKICAgICAgYXNzaWduZWRFbnRpdHkucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMywgIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uIHRoZW4gewogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5vcmdhbml6YXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMiksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQyKSAgIm9yZyI7CiAgICAgICAgICB9InIiOwogICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTQsICBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgdGhlbiB7CiAgICAgICAgICBPcmdQYXJ0T2YtPm9yZ2FuaXphdGlvbjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24xLmlkICA9IChyICsnLScrIGV4dCkgYXMgdXVpZDMsICAgb3JnYW5pemF0aW9uMS5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpICJvcmciOwogICAgICAgICAgICB9InIiOwogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMGJpcywgIGUxMGJpcy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTEwYmlzLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yIHRoZW57CiAgICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L2FjdC9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkICA9IChyICsnLScrIGV4dCkgYXMgdXVpZDUsICAgZTEwYmlzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDUpLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKSAib3JnIjsKICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgICB9ICJPcmdQYXJ0T2YiOwogICAgICAgfSAicmVwcmVzZW50ZWRPcmdhbml6YXRpb24iOyAKICAgIH0icGVyZm9ybWVyIjsKICB9OyAKIAogIC8vIEFVVEhPUgogIGNkYS5hdXRob3IgYXMgc3JjQXV0aG9yLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkNiwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQ2KSwgcmVxdWVzdC51cmw9J1ByYWN0aXRpb25lclJvbGUnLCBhYy5wZXJmb3JtZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICBzcmNBdXRob3IuYXNzaWduZWRBdXRob3IgYXMgYXNzaWduZWRBdXRob3IgdGhlbiB7CiAgICAgICAgYXNzaWduZWRBdXRob3IuY29kZSBhcyBjb2RpY2UgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNywgIGU3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGU3LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgIHRoZW4gewogICAgICAgIHNyY0F1dGhvci5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgYXNzaWduZWRBdXRob3ItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvYXV0aG9yJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGU3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgICB9InIiOwogICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290IT0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICBhc3NpZ25lZEF1dGhvci5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOyAgICAgIAogICAgICAgIGFzc2lnbmVkQXV0aG9yLnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgLy9wZXJzb24KICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgIH0iYmlydGgiOwogICAgICAgIH0ibmFtZSI7CiAgICAgIH0iQVNTQVV0aCI7CiAgICAgIC8vb3JnYW5pemF0aW9uCiAgICAgIGFzc2lnbmVkQXV0aG9yLnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTgsICBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvYWN0L2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkOCksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ4KSAib3JnIjsKICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24udGVsZWNvbSAtPiBvcmdhbml6YXRpb24udGVsZWNvbTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5hZGRyIC0+IG9yZ2FuaXphdGlvbi5hZGRyZXNzOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTksICBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgICB0aGVuIHsKICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMS5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L2FjdC9hdXRob3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOyAgCiAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgIC0+IG9yZ2FuaXphdGlvbjEuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ5LCAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkOSksIG9yZ2FuaXphdGlvbi5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMS5pZCkgIm9yZyI7CiAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIE9yZ1BhcnRPZi5jb2RlIC0+IG9yZ2FuaXphdGlvbjEudHlwZTsKICAgICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTEwLCAgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgICB0aGVuewogICAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9hY3QvYXV0aG9yL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mL3dob2xlT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOyAgCiAgICAgICAgICAgICAgd2hvbGVPcmdhbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24yLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMTAsICBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMTApLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKSAib3JnIjsKICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4udGVsZWNvbSAtPiBvcmdhbml6YXRpb24yLnRlbGVjb207CiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmFkZHIgLT4gb3JnYW5pemF0aW9uMi5hZGRyZXNzOwogICAgICAgICAgICAgICB9Indob2xlT3JnYW5pemF0aW9uIjsKICAgICAgICAgICB9Ik9yZ1BhcnRPZiI7CiAgICAgICAgfSJyZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7IAogICAgIH0iYXV0aG9yIjsKICB9OwoKICAvLzwhLS1lbnRyeVJlbGF0aW9uc2hpcCBwZXIgbGEgZ2VzdGlvbmUgZGVsbGUgbm90ZSBlIGNvbW1lbnRpLS0+CiAgY2RhLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW4gewogICAgZW50cnlSZWxhdGlvbnNoaXAuYWN0IGFzIGFjdCB0aGVuIHsKICAgICAgYWN0LnRleHQgYXMgdGV4dCB0aGVuIHsKICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gYWMuY29uY2x1c2lvbj0ocmVmZXJlbmNlLnZhbHVlKTsKICAgICAgfSJ0ZXh0IjsKICAgIH0iQWN0IjsKICB9ImVudHJ5UmVsYXRpb25zaGlwIjsgCn0KCmdyb3VwIE9yZ2FuaXplcihzb3VyY2UgY2RhOiBBY3QsIHNvdXJjZSBvcmcgOiBPcmdhbml6ZXIsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9ic2VydmF0aW9uIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICBvcmctPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgb3JnLT5vYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgIAogIG9yZy5jb2RlIC0+IG9ic2VydmF0aW9uLmNvZGU7CiAgb3JnIHdoZXJlIG9yZy5jb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgY2RhLmNvZGUgLT5vYnNlcnZhdGlvbi5jb2RlOwogIH0iYWN0IjsKICBvcmcuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCc7CiAgb3JnLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb3JnLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb3JnLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0ncGFydGlhbCc7CiAgb3JnLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYnNlcnZhdGlvbi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvcmcgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogIG9yZy5lZmZlY3RpdmVUaW1lIGFzIGVmZi0+IG9ic2VydmF0aW9uLmVmZmVjdGl2ZT1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogfSJ3aGVyZSI7CiAgLy9zcGVjaW1lbgogIG9yZy5zcGVjaW1lbiBhcyAgc3BtbiAtPmJ1bmRsZS5lbnRyeSBhcyBlNG8sIGU0by5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTRvLnJlc291cmNlID0gY3JlYXRlKCdTcGVjaW1lbicpIGFzIHNwZWNpbWVuLCBzcGVjaW1lbi5pZCA9IHV1aWQoKSBhcyB1dWlkNG8sIGU0by5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvU3BlY2ltZW4vJywgdXVpZDRvKSwgcmVxdWVzdC51cmwgPSAnU3BlY2ltZW4nLCBvYnNlcnZhdGlvbi5zcGVjaW1lbj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1NwZWNpbWVuLycgKyAlc3BlY2ltZW4uaWQpIHRoZW4gewogICAgICBzcG1uLnNwZWNpbWVuUm9sZSBhcyBzcGVjaW1lblJvbGUgdGhlbnsKICAgICAgICAgIHNwZWNpbWVuUm9sZS5pZCBhcyBpZCAtPiBzcGVjaW1lbi5pZGVudGlmaWVyOwogICAgICAgICAgc3BlY2ltZW5Sb2xlLnNwZWNpbWVuUGxheWluZ0VudGl0eSBhcyBzcGVjaW1lblBsYXlpbmdFbnRpdHkgdGhlbiB7CiAgICAgICAgICBzcGVjaW1lblBsYXlpbmdFbnRpdHkuY29kZSAtPiBzcGVjaW1lbi50eXBlOwogICAgICAgICAgICB9InNwZWNpbWVuUGxheWluZ0VudGl0eSI7CiAgICAgICAgfSJzcGVjaW1lblJvbGUiOwogIH0ic3BlY2ltZW4iOwoKICAvL3N1YmplY3QKICBvcmcuc3ViamVjdCBhcyBzYmogdGhlbiB7CiAgICBzYmoucmVsYXRlZFN1YmplY3QgYXMgcmVsYXRlZFN1YmotPiBwYXRpZW50LmV4dGVuc2lvbiBhcyBleHRlbnNpb24yIHRoZW4gRXh0U3ViamVjdEFuaW1hbChyZWxhdGVkU3ViaiwgZXh0ZW5zaW9uMik7CiAgfSJzdWJqZWN0IjsKCiAgLy9wZXJmb3JtZXIKICBvcmcucGVyZm9ybWVyIGFzIHBlcmZvcm1lciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lclJvbGUnKSBhcyBwcmFjdGl0aW9uZXJSb2xlLCAgcHJhY3RpdGlvbmVyUm9sZS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnUHJhY3RpdGlvbmVyUm9sZScgdGhlbnsKICAgIHBlcmZvcm1lciAtPiBvYnNlcnZhdGlvbi5wZXJmb3JtZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7CiAgICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBlbnRpdHkgdGhlbiB7CiAgICAgICAgICBlbnRpdHkuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgICBlbnRpdHkgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCAgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciAgdGhlbiB7CiAgICAgICAgICAgIGVudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICBlbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb3JnYW5pemVyL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIGVudGl0eS0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgZW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICBlbnRpdHkuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICAgICAgZW50aXR5LmFkZHIgLT4gcHJhY3RpdGlvbmVyLmFkZHJlc3M7ICAgICAgCiAgICAgICAgICAgIGVudGl0eS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgICAgIH0ibmFtZSI7CiAgICAgICAgICAgICAgCiAgICAgICAgICBlbnRpdHkucmVwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMywgIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29yZ2FuaXplci9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24nImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDMpLCBwcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlT3JnLCAgcmVmZXJlbmNlT3JnLnJlZmVyZW5jZSA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMykiYXV0IjsKICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5uYW1lIGFzIHYgLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAodi5vdGhlcik7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLnRlbGVjb20gLT4gb3JnYW5pemF0aW9uLnRlbGVjb207CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFzT3JnYW5pemF0aW9uUGFydE9mIGFzIE9yZ1BhcnRPZiAtPiBidW5kbGUuZW50cnkgYXMgZTQsICBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjEgIHRoZW4gewogICAgICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMS5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIE9yZ1BhcnRPZiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29yZ2FuaXplci9wZXJmb3JtZXIvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7ICAKICAgICAgICAgICAgICBPcmdQYXJ0T2YuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMS5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICBPcmdQYXJ0T2YtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24xLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNCwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDQpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpIm9yZyI7CiAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgICAgIE9yZ1BhcnRPZi5zdGF0dXNDb2RlIGFzIHN0YXR1cyB3aGVyZSAodmFsdWUgPSdhY3RpdmUnKSAtPiBvcmdhbml6YXRpb24xLmFjdGl2ZSA9IGNyZWF0ZSgnYm9vbGVhbicpLCBvcmdhbml6YXRpb24xLmFjdGl2ZSA9ICd0cnVlJzsKICAgICAgICAgICAgICBPcmdQYXJ0T2Yud2hvbGVPcmdhbml6YXRpb24gYXMgd2hvbGVPcmdhbiAtPiBidW5kbGUuZW50cnkgYXMgZTUsICBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgIHdob2xlT3JnYW4tPm9yZ2FuaXphdGlvbjIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbiAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vcmdhbml6ZXIvcGVyZm9ybWVyL3JlcHJlc2VudGVkT3JnYW5pemF0aW9uL2FzT3JnYW5pemF0aW9uUGFydE9mL3dob2xlT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJtZXRhIjsgCiAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB3aG9sZU9yZ2FuLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDQsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ0KSwgb3JnYW5pemF0aW9uMS5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZT0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAlb3JnYW5pemF0aW9uMi5pZCkib3JnIjsKICAgICAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgICAgICAgICAgfSJ3aG9sZU9yZ2FuaXphdGlvbiI7CiAgICAgICAgICAgICAgICB9Ik9yZ1BhcnRPZiI7CiAgICAgICAgICAgIH0icmVwcmVzZW50ZWRPcmdhbml6YXRpb24iOyAKICAgICAgICAgfSJwcmFjdGl0aW9uZXIiOwogICAgICAgfSJlbnRpdHkiOwogICAgIH0icHJhY3RpdGlvbmVyUm9sZSI7CiAgfSJwZXJmb3JtZXIiOwoKICAvL2F1dGhvcgogIG9yZy5hdXRob3IgYXMgc3JjQXV0aG9yIC0+ICBidW5kbGUuZW50cnkgYXMgZTYsIGU2LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQ2LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDYpLCByZXF1ZXN0LnVybD0nUHJhY3RpdGlvbmVyUm9sZScsIG9ic2VydmF0aW9uLnBlcmZvcm1lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlYXV0LCAgcmVmZXJlbmNlYXV0LnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJyArICVwcmFjdGl0aW9uZXJSb2xlLmlkKSB0aGVuIHsKICAgIC8vc3JjQXV0aG9yLnRpbWUgYXMgdGltZSAtPiB0Z3QuZGF0ZTsKICAgIHNyY0F1dGhvci5hc3NpZ25lZEF1dGhvciBhcyBhc3NpZ25lZEF1dGhvciB0aGVuIHsKICAgICAgIGFzc2lnbmVkQXV0aG9yLmNvZGUgYXMgY29kaWNlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZSBhcyBjb2RlMiB0aGVuIENFQ29kZWFibGVDb25jZXB0KGNvZGljZSxjb2RlMik7CiAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTcsICBlNy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlNy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyICB0aGVuIHsKICAgICAgICAgc3JjQXV0aG9yLmZ1bmN0aW9uQ29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICAgICAgLy9hc3NpZ25lZEF1dGhvci5jb2RlIC0+IHByYWN0aXRpb25lclJvbGUuY29kZTsKICAgICAgICBhc3NpZ25lZEF1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb3JnYW5pemVyL2F1dGhvciciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNywgIGU3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDcpLCAgcHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICBhc3NpZ25lZEF1dGhvci5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOyAgICAgIAogICAgICAgIGFzc2lnbmVkQXV0aG9yLnRlbGVjb20gLT4gcHJhY3RpdGlvbmVyLnRlbGVjb207CiAgICAgICAgLy9wZXJzb24KICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgIHBlcnNvbi5iaXJ0aFRpbWUgYXMgYmlydGhUaW1lIHRoZW57CiAgICAgICAgICAgIGJpcnRoVGltZS52YWx1ZSBhcyBkYXRlIC0+IHByYWN0aXRpb25lci5iaXJ0aERhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgIH0iYmlydGgiOwogICAgICAgIH0ibmFtZSI7CiAgICAgIH0iQVNTQVV0aCI7CiAgICAgIC8vb3JnYW5pemF0aW9uCiAgICAgIGFzc2lnbmVkQXV0aG9yLnJlcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uIC0+ICBidW5kbGUuZW50cnkgYXMgZTgsICBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ09yZ2FuaXphdGlvbicpIGFzIG9yZ2FuaXphdGlvbiB0aGVuIHsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbiAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24gLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb3JnYW5pemVyL2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi5pZCBhcyBpZCAtPiBvcmdhbml6YXRpb24uaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24tPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkOCksIHByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VPcmcsICByZWZlcmVuY2VPcmcucmVmZXJlbmNlID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ4KSJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLm5hbWUgYXMgdiAtPiBvcmdhbml6YXRpb24ubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICByZXByZXNlbnRlZE9yZ2FuaXphdGlvbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbi50ZWxlY29tOwogICAgICAgIHJlcHJlc2VudGVkT3JnYW5pemF0aW9uLmFkZHIgLT4gb3JnYW5pemF0aW9uLmFkZHJlc3M7CiAgICAgICAgcmVwcmVzZW50ZWRPcmdhbml6YXRpb24uYXNPcmdhbml6YXRpb25QYXJ0T2YgYXMgT3JnUGFydE9mIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOSwgIGU5LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICBlOS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uMSB0aGVuIHsKICAgICAgICAgIE9yZ1BhcnRPZi0+b3JnYW5pemF0aW9uMS5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIE9yZ1BhcnRPZi0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgT3JnUGFydE9mIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L29yZ2FuaXplci9hdXRob3IvcmVwcmVzZW50ZWRPcmdhbml6YXRpb24vYXNPcmdhbml6YXRpb25QYXJ0T2YnImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgT3JnUGFydE9mLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgT3JnUGFydE9mLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gIGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24xLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkOSwgIGU5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJywgdXVpZDkpLCBvcmdhbml6YXRpb24ucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nICsgJW9yZ2FuaXphdGlvbjEuaWQpImF1dCI7CiAgICAgICAgICAgIH0iciI7CiAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgT3JnUGFydE9mLmNvZGUgLT4gb3JnYW5pemF0aW9uMS50eXBlOwogICAgICAgICAgT3JnUGFydE9mLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlICh2YWx1ZSA9J2FjdGl2ZScpIC0+IG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gY3JlYXRlKCdib29sZWFuJyksIG9yZ2FuaXphdGlvbjEuYWN0aXZlID0gJ3RydWUnOwogICAgICAgICAgT3JnUGFydE9mLndob2xlT3JnYW5pemF0aW9uIGFzIHdob2xlT3JnYW4gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMCwgIGUxMC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgZTEwLnJlc291cmNlID0gY3JlYXRlKCdPcmdhbml6YXRpb24nKSBhcyBvcmdhbml6YXRpb24yICAgdGhlbnsKICAgICAgICAgICAgT3JnUGFydE9mLT5vcmdhbml6YXRpb24yLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICBPcmdQYXJ0T2YtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICBPcmdQYXJ0T2YgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvb3JnYW5pemVyL2F1dGhvci9yZXByZXNlbnRlZE9yZ2FuaXphdGlvbi9hc09yZ2FuaXphdGlvblBhcnRPZi93aG9sZU9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICB3aG9sZU9yZ2FuLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbjIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgd2hvbGVPcmdhbi0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdPcmdhbml6YXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24yLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMTAsICBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09yZ2FuaXphdGlvbi8nLCB1dWlkMTApLCBvcmdhbml6YXRpb24xLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICVvcmdhbml6YXRpb24yLmlkKSJhdXQiOwogICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgIHdob2xlT3JnYW4ubmFtZSBhcyB2IC0+IG9yZ2FuaXphdGlvbjIubmFtZSA9ICh2Lm90aGVyKTsKICAgICAgICAgICAgd2hvbGVPcmdhbi50ZWxlY29tIC0+IG9yZ2FuaXphdGlvbjIudGVsZWNvbTsKICAgICAgICAgICAgd2hvbGVPcmdhbi5hZGRyIC0+IG9yZ2FuaXphdGlvbjIuYWRkcmVzczsKICAgICAgICAgIH0id2hvbGVPcmdhbml6YXRpb24iOwogICAgICAgIH0iT3JnUGFydE9mIjsKICAgICAgfSJyZXByZXNlbnRlZE9yZ2FuaXphdGlvbiI7IAogICAgICAvL2RldmljZQogICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZEF1dGhvcmluZ0RldmljZSBhcyBhc3NpZ25lZEF1dGhvcmluZ0RldmljZSAtPiBidW5kbGUuZW50cnkgYXMgZTExLCAgZTExLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTExLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2UsICBkZXZpY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDExLCAgZTExLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9EZXZpY2UvJywgdXVpZDExKSwgcmVxdWVzdC51cmwgPSdEZXZpY2UnLCB0Z3QuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2U9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZS5pZCkgdGhlbnsKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS50ZW1wbGF0ZUlkIC0+IGRldmljZS5pZGVudGlmaWVyOyAKICAgICAgICBhc3NpZ25lZEF1dGhvcmluZ0RldmljZS5jb2RlIC0+IGRldmljZS50eXBlOwogICAgICAgIGFzc2lnbmVkQXV0aG9yaW5nRGV2aWNlLm1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgIG1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBtLT4gZGV2aWNlLm1hbnVmYWN0dXJlciA9IChtLmRpc3BsYXlOYW1lKSAiZGlzcGxheVJ1bGUiOwogICAgICAgIH0ibWFudWZhY3R1cmVyIjsgCiAgICAgICAgYXNzaWduZWRBdXRob3JpbmdEZXZpY2Uuc29mdHdhcmVOYW1lIGFzIHNvZnR3YXJlTmFtZSAtPiBkZXZpY2UuZGV2aWNlTmFtZSBhcyBkZXZpY2VOYW1lIHRoZW57CiAgICAgICAgICBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlTmFtZS50eXBlID0gJ290aGVyJyAidHlwZU5hbWUiOwkJCiAgICAgICAgICBzb2Z0d2FyZU5hbWUgYXMgcyAtPiBkZXZpY2VOYW1lLm5hbWUgPSAocy5kaXNwbGF5TmFtZSkgIm5hbWUiOwogICAgICAgIH0iZGV2aWNlTmFtZSI7CiAgICAgIH0iRGV2aWNlIjsKICAgIH0iYXNzaWduZWRBdXRob3IiOwogIH0iYXV0aG9yIjsKCiAgLy9wYXJ0aWNpcGFudCBwZXJzb24KICBvcmcucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgd2hlcmUodHlwZUNvZGUhPSdERVYnKSAtPiAgb2JzZXJ2YXRpb24uZW5jb3VudGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSB0aGVuIHsKICAgIHBhcnRpY2lwYW50IC0+IGVuY291bnRlci5wYXJ0aWNpcGFudCBhcyBGaGlyUGFydGljaXBhbnQgdGhlbiB7CiAgICAgIHBhcnRpY2lwYW50IGFzIHAgLT4gRmhpclBhcnRpY2lwYW50LnR5cGUgYXMgdHlwZSB0aGVuIHsgCiAgICAgICAgcCAtPiB0eXBlLmNvZGluZyBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgIHAtPiBjb2RpbmcuY29kZSA9IChwLnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgIHAtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtUGFydGljaXBhdGlvblR5cGUnICJzeXN0ZW0iOwogICAgICAgIH0gImNvZGVUeXBlIjsgCiAgICAgIH0idHlwZSI7CiAgICB9ImZoaXJQYXJ0aWNpcGFudCI7CiAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsICAgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTEyLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXJSb2xlJykgYXMgcHJhY3RpdGlvbmVyUm9sZSwgIHByYWN0aXRpb25lclJvbGUuaWQgPSB1dWlkKCkgYXMgdXVpZDEyLCAgZTEyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycsIHV1aWQxMiksIHJlcXVlc3QudXJsID0gJ1ByYWN0aXRpb25lclJvbGUnLCBlbmNvdW50ZXIucGFydGljaXBhbnQgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHBhcnRpY2lwYW50MSAgdGhlbiB7IAogICAgIC8vIHBhcnRpY2lwYW50LnRpbWUgLT4gcGFydGljaXBhbnQxLnBlcmlvZDsgCiAgICAgIHBhcnRpY2lwYW50LnRpbWUgYXMgdGltZTEgLT4gcGFydGljaXBhbnQxLnBlcmlvZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgdGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lMSxzdGFydCkgInZhbCI7CiAgICAgICB9InRpbWUiOwogICAgICAgcGFydGljaXBhbnQudGltZSBhcyB0aW1lMSAtPiBwYXJ0aWNpcGFudDEucGVyaW9kID1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKHRpbWUxLHBlcmlvZCk7IAogICAgICBwYXJ0aWNpcGFudC5mdW5jdGlvbkNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAvL25vbiBtYXBwYSBpIDIgcHJlY2VkZW50aQogICAgICBwYXJ0aWNpcGFudFJvbGUgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTMsIGUxMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuIHsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiBwYXJ0aWNpcGFudDEuaW5kaXZpZHVhbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlcGFydCwgcmVmZXJlbmNlcGFydC5yZWZlcmVuY2UgPSAgKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyUm9sZS8nICsgJXByYWN0aXRpb25lclJvbGUuaWQpInBhciI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgcGFydGljaXBhbnRSb2xlLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vcmdhbml6ZXIvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCBlMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksICBwcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkicGFydCI7CiAgICAgICAgICB9InIiOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUuaWQgYXMgaWQgd2hlcmUgKHJvb3QhPScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iZGl2ZXJzbyI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmNvZGUgLT4gcHJhY3RpdGlvbmVyUm9sZS5jb2RlOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5hZGRyIC0+IHByYWN0aXRpb25lci5hZGRyZXNzOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS50ZWxlY29tIC0+IHByYWN0aXRpb25lci50ZWxlY29tOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRW50aXR5IGFzIHBsYXlpbmdFbnRpdHkgdGhlbiB7CiAgICAgICAgICBwbGF5aW5nRW50aXR5Lm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICBwbGF5aW5nRW50aXR5LmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgYmlydGhUaW1lLnZhbHVlIGFzIGRhdGUgLT4gcHJhY3RpdGlvbmVyLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgfSJiaXJ0aCI7CiAgICAgICAgfSJuYW1lIjsKICAgICAgfSJwcmFjdGl0aW9uZXIiOwogICAgfSJwYXJ0Um9sZSI7CiAgfSJwYXJ0aWNpcGFudEVuY291bnRlciI7CgogIC8vcGFydGljaXBhbnQgZGV2aWNlIAogIG9yZy5wYXJ0aWNpcGFudCBhcyBkZXZQYXJ0aWNpcGFudCB3aGVyZSh0eXBlQ29kZT0nREVWJykgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNCwgZTE0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTQucmVzb3VyY2UgPSBjcmVhdGUoJ0RldmljZScpIGFzIGRldmljZSwgIGRldmljZS5pZCA9IHV1aWQoKSBhcyB1dWlkMTQsICBlMTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nLCB1dWlkMTQpLCByZXF1ZXN0LnVybD0nRGV2aWNlJywgb2JzZXJ2YXRpb24uZGV2aWNlID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycgKyAlZGV2aWNlLmlkKSB0aGVuIHsKICAgIGRldlBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGVEZXYgdGhlbiB7CiAgICAgIHBhcnRpY2lwYW50Um9sZURldi5wbGF5aW5nRGV2aWNlIGFzIHBsYXlpbmdEZXZpY2UgdGhlbiB7CiAgICAgICAgcGxheWluZ0RldmljZS5jb2RlIC0+IGRldmljZS50eXBlOwogICAgICAgIHBsYXlpbmdEZXZpY2UubWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG1hbnVmYWN0dXJlck1vZGVsTmFtZSB0aGVuewogICAgICAgICAgbWFudWZhY3R1cmVyTW9kZWxOYW1lIGFzIG0tPiBkZXZpY2UubWFudWZhY3R1cmVyID0gKG0uZGlzcGxheU5hbWUpICJkaXNwbGF5UnVsZSI7CiAgICAgICAgfSJtYW51ZmFjdHVyZXIiOyAKICAgICAgICBwbGF5aW5nRGV2aWNlLnNvZnR3YXJlTmFtZSBhcyBzb2Z0d2FyZU5hbWUgLT4gZGV2aWNlLmRldmljZU5hbWUgYXMgZGV2aWNlTmFtZSB0aGVuewogICAgICAgICAgc29mdHdhcmVOYW1lIC0+IGRldmljZU5hbWUudHlwZSA9ICdvdGhlcicgInR5cGVOYW1lIjsJCQogICAgICAgICAgc29mdHdhcmVOYW1lIGFzIHMgLT4gZGV2aWNlTmFtZS5uYW1lID0gKHMuZGlzcGxheU5hbWUpICJuYW1lIjsKICAgICAgICB9ImRldmljZU5hbWUiOwogICAgICB9InBsYXlpbmdEZXZpY2UiOwogICAgfSJwYXJ0aWNpcGFudFJvbGVEZXYiOwogIH0iZGV2UGFydGljaXBhbnQiOwoKICBvcmcuY29tcG9uZW50IGFzIGNvbXBvbmVudCB0aGVuIHsKICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uaGFzbWVtYmVyLCAKICAgICAgICAgIG9ic2VydmF0aW9uaGFzbWVtYmVyLmlkID0gdXVpZCgpIGFzIHV1aWQyLCBlLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywKICAgICAgICAgIG9ic2VydmF0aW9uLmhhc01lbWJlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb25oYXNtZW1iZXIuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24scGF0aWVudCxlbmNvdW50ZXIsb2JzZXJ2YXRpb25oYXNtZW1iZXIsYnVuZGxlKSAiT0JTIjsKICB9ImNvbXBvbmVudG9ic2VydmF0aW9uIjsKICAgICAgCiAgb3JnLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICAgICAgY29tcG9uZW50Lm9yZ2FuaXplciBhcyBvcmdhbml6ZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb25vcmdhbml6ZXIsIAogICAgICAgICAgb2JzZXJ2YXRpb25vcmdhbml6ZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDMsIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgIG9ic2VydmF0aW9uLmhhc01lbWJlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb25vcmdhbml6ZXIuaWQpIHRoZW4gIHsKICAgICAgICAgIG9yZ2FuaXplciB0aGVuICBPcmdhbml6ZXIoY2RhLG9yZ2FuaXplcixwYXRpZW50LGVuY291bnRlcixvYnNlcnZhdGlvbm9yZ2FuaXplcixidW5kbGUpICJPUkciOwogICAgICAgIH0ib3JnYW5pemVyIjsKICB9ImNvbXBvbmVudG9yZ2FuaXplciI7CgogIC8vb2JzZXJ2YXRpb25NZWRpYSAgCiAgb3JnLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uTWVkaWEgYXMgb2JzTWVkaWEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxNSwgZTE1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTUucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGlhJykgYXMgbWVkaWExLCAgbWVkaWExLmlkID0gdXVpZCgpIGFzIHV1aWQxNSwgIGUxNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWEvJywgdXVpZDE1KSwgcmVxdWVzdC51cmw9J01lZGlhJywgb2JzZXJ2YXRpb24uZGVyaXZlZEZyb20gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpYS8nICsgJW1lZGlhMS5pZCkgdGhlbiB7CiAgICAgICAgICBvYnNNZWRpYS0+IG1lZGlhMS5jb250ZW50ID0gY3JlYXRlKCdBdHRhY2htZW50JykgYXMgQXR0YWNobWVudCB0aGVuIHsKICAgICAgICAgIG9ic01lZGlhIC0+IG1lZGlhMS5zdGF0dXM9J3Vua25vd24nInN0YXR1cyI7CiAgICAgICAgICBvYnNNZWRpYS52YWx1ZSBhcyB2YWx1ZU1lZGlhIHRoZW4gewogICAgICAgICAgICAgIHZhbHVlTWVkaWEubWVkaWFUeXBlIGFzIHR5cGUgLT4gQXR0YWNobWVudC5jb250ZW50VHlwZT10eXBlICJ0eXBlIjsKICAgICAgICAgICAgICB2YWx1ZU1lZGlhIC0+IEF0dGFjaG1lbnQuZGF0YT0odmFsdWVNZWRpYS5kYXRhQmFzZTY0QmluYXJ5KSAiZGF0YSI7CiAgICAgICAgICAgICAgfSJ2YWx1ZW1lZGlhIjsKICAgICAgICAgIH0gIkF0dGFjaG1lbnQiOwogICAgICAgICB9Im9ic21lZGlhIjsKICB9ImNvbXBvbmVudCI7CgogIC8vbm90ZQogIG9yZy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgICBjb21wb25lbnQuYWN0IGFzIGFjdCB0aGVuIHsKICAgICAgICBhY3QudGV4dCBhcyB0ZXh0IHRoZW4gewogICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gb2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW4gewogICAgICAgICAgICByZWZlcmVuY2UtPm5vdGUudGV4dCA9KHJlZmVyZW5jZS52YWx1ZSkicmVmZXJlbmNlIjsKICAgICAgICAgICAgfSJub3RlIjsKICAgICAgICB9InRleHQiOyAKICAgICAgfSJjb21wb25lbnRhY3QiOwogIH0iY29tcG9uZW50IjsKCn0KCmdyb3VwIEV4dFN1YmplY3RBbmltYWwoc291cmNlIHNyYzogcmVsYXRlZFN1YmplY3QsIHRhcmdldCBleHQ6IEV4dGVuc2lvbikgewogIHNyYyAtPiBleHQudXJsID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9wYXRpZW50LWFuaW1hbCcgInVybCI7CiAgc3JjLmNvZGUgYXMgY29kZSAtPiBleHQuZXh0ZW5zaW9uIGFzIGV4dCwgZXh0LnVybD0nc3BlY2llcycgLGV4dC52YWx1ZSA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY29kZTEgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RlLGNvZGUxKSAiY29kZSI7ICAKfQo=", "subType": "00"}}, "filename": "RefertodiLaboratorioFULLBODY_v2.2.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:35:22.062Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a4ff4846375e3fecadc1"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/RefertodiRadiologiaBody", "version": "2.1", "template_id_root": ["2.16.840.1.113883.2.9.10.1.7.1"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9SZWZlcnRvZGlSYWRpb2xvZ2lhQm9keSIgPSAiUmVmZXJ0b2RpUmFkaW9sb2dpYUJvZHkiCgpjb25jZXB0bWFwICJPQlNzdGF0dXMiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLXN0YXR1c0NvZGUiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vaGw3Lm9yZy9maGlyL29ic2VydmF0aW9uLXN0YXR1cyIKCiAgICBzOmNvbXBsZXRlZCA9PSB0OmZpbmFsCiAgICBzOmFjdGl2ZSA9PSB0OnJlZ2lzdGVyZWQKICAgIHM6YWJvcnRlZCA9PSB0OmNhbmNlbGxlZAogICAgczpzdXNwZW5kZWQgPT0gdDpwYXJ0aWFsCiAgfQogIGNvbmNlcHRtYXAgImNtLXYzLWFkbWluaXN0cmF0aXZlLWdlbmRlciIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtQWRtaW5pc3RyYXRpdmVHZW5kZXIiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vaGw3Lm9yZy9maGlyL1ZhbHVlU2V0L2FkbWluaXN0cmF0aXZlLWdlbmRlciIKICAKICAgIHM6TSA9PSB0Om1hbGUKICAgIHM6RiA9PSB0OmZlbWFsZQogIH0KICBjb25jZXB0bWFwICJBbGxlcmd5VHlwZU1hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtdHlwZSIKICAgIHByZWZpeCB0ID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsIgoKICAgIHM6T0lOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6REFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6RUFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6RkFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6TkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpGTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpETkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpFTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpGSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RElOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkVJTlQgPT0gdDppbnRvbGVyYW5jZQogIH0KICBjb25jZXB0bWFwICJBbGxlcmd5Q2F0ZWdvcnlNYXAiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLXR5cGUiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCIKCiAgICBzOkRBTEcgPT0gdDptZWRpY2F0aW9uCiAgICBzOkVBTEcgPT0gdDplbnZpcm9tZW50CiAgICBzOkZBTEcgPT0gdDpmb29kCiAgICBzOkZOQUlOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkROQUlOVCA9PSB0Om1lZGljYXRpb24KICAgIHM6RU5BSU5UID09IHQ6ZW52aXJvbWVudAogICAgczpGSU5UID09IHQ6Zm9vZAogICAgczpESU5UID09IHQ6bWVkaWNhdGlvbgogICAgczpFSU5UID09IHQ6ZW52aXJvbWVudAogIH0KCmNvbmNlcHRtYXAgIkNyaWNhbGl0eU1hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1PYnNlcnZhdGlvblZhbHVlIgogICAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9hbGxlcmd5LWludG9sZXJhbmNlLWNyaXRpY2FsaXR5IgoKICAgIHM6IE0gPT0gdDogbG93CiAgICBzOiBIID09IHQ6IGhpZ2gKICAgIHM6IEwgPT0gdDogbG93Cn0KCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ2xpbmljYWxEb2N1bWVudCIgYWxpYXMgQ2xpbmljYWxEb2N1bWVudCBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEF1dGhvciIgYWxpYXMgQXNzaWduZWRBdXRob3IgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc2lnbmVkRW50aXR5IiBhbGlhcyBBc3NpZ25lZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzb2NpYXRlZEVudGl0eSIgYWxpYXMgQXNzb2NpYXRlZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ3VzdG9kaWFuT3JnYW5pemF0aW9uIiBhbGlhcyBDdXN0b2RpYW5Pcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb25QYXJ0T2YiIGFsaWFzIE9yZ2FuaXphdGlvblBhcnRPZiBhcyBxdWVyaWVkCnVzZXMgICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgcmFwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NlY3Rpb24iIGFsaWFzIFNlY3Rpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnRSb2xlIiBhbGlhcyBQYXRpZW50Um9sZSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQUQiIGFsaWFzIEFEIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQnVuZGxlIiBhbGlhcyBCdW5kbGUgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Db21wb3NpdGlvbiIgYWxpYXMgQ29tcG9zaXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnQiIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VuY291bnRlciIgYWxpYXMgRW5jb3VudGVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QZXJzb24iIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0xpc3QiIGFsaWFzIExpc3QgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1ByYWN0aXRpb25lciIgYWxpYXMgUHJhY3RpdGlvbmVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIE9yZ2FuaXphdGlvbiBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FjdCIgYWxpYXMgQWN0IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVBRIiBhbGlhcyBJVkxfUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vUFEiIGFsaWFzIFBRIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vU2ltcGxlUXVhbnRpdHkiIGFsaWFzIFNpbXBsZVF1YW50aXR5IGFzIHRhcmdldAoKCmltcG9ydHMgImh0dHA6Ly93d3cuZXkuY29tL2l0YWx5L2lnL2NkYS1maGlyLW1hcHMvU3RydWN0dXJlTWFwL0NkYVRvRmhpckRhdGFUeXBlcyIKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvRlVMTEhFQURFUiIKCmdyb3VwIENkYVRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgICBjZGEgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsICBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3RQQVQsIHJlcXVlc3RQQVQubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQYXRpZW50JykgYXMgcGF0aWVudCwgIHBhdGllbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nLCB1dWlkMiksIGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVyLCAgZW5jb3VudGVyLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMykscmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJywgYnVuZGxlLmVudHJ5IGFzIGU0LCBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU0LnJlc291cmNlID0gY3JlYXRlKCdEb2N1bWVudFJlZmVyZW5jZScpIGFzIERvY3VtZW50UmVmZXJlbmNlLCAgRG9jdW1lbnRSZWZlcmVuY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDQsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRG9jdW1lbnRSZWZlcmVuY2UvJywgdXVpZDQpLHJlcXVlc3QudXJsID0gJ0RvY3VtZW50UmVmZXJlbmNlJyB0aGVuIHsKICAgIGNkYSB0aGVuIENsaW5pY2FsRG9jdW1lbnRUb0J1bmRsZShjZGEsIHBhdGllbnQsIGNvbXBvc2l0aW9uLCBlbmNvdW50ZXIsIGJ1bmRsZSwgRG9jdW1lbnRSZWZlcmVuY2UpICJjZGF0b2J1bmRsZSI7CiAgICBjZGEucmVjb3JkVGFyZ2V0IGFzIHJlY29yZFRhcmdldCB0aGVuewogICAgICAgIHJlY29yZFRhcmdldC5wYXRpZW50Um9sZSBhcyBwYXRpZW50IHRoZW57CiAgICAgICAgcGF0aWVudC5pZCBhcyBpZCAtPiBwYXRpZW50LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dDEgLT4gaWRlbnRpZmllci52YWx1ZSA9IGV4dDEgInZhbHVlIjsKICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgIH0iaWRmciI7CiAgICAgICAgICAgIHBhdGllbnQuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjcnKSBvciAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4zJykgb3Iocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4xNycpIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjE1JykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHJlcXVlc3RQQVQudXJsID0gYXBwZW5kKCdQYXRpZW50P2lkZW50aWZpZXI9JyxleHQpICJVVUlEIjsKICAgICAgICAgICAgfSJyZWNvcmQiOwogICAgICAgIH0icmVjUGF0IjsKICAgIH0icGF0aWVudCI7CiAgIH0gIkNsaW5pY2FsRG9jdW1lbnRUb0JvZHkiOwogIH0KICAKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBjb21wb3NpdGlvbiA6IENvbXBvc2l0aW9uLCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgRG9jdW1lbnRSZWZlcmVuY2UgOiBEb2N1bWVudFJlZmVyZW5jZSkgewogICAgY2RhIC0+IGJ1bmRsZS5pZCA9IHV1aWQoKSAiaWQiOwogICAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICAgIGNkYSAtPiBidW5kbGUudHlwZSA9ICd0cmFuc2FjdGlvbicgInR5cGUiOwogICAgY2RhIC0+IGJ1bmRsZS50aW1lc3RhbXA9KHRpbWVzdGFtcC5ub3coKSkgImRhdGUiOwogICAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudENvbXBvc2l0aW9uKGNkYSwgY29tcG9zaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNvbXBvc2l0aW9uIjsKICAgIGNkYSAtPiBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUucmVzb3VyY2UgPSBjcmVhdGUoJ0RpYWdub3N0aWNSZXBvcnQnKSBhcyBkaWFnbm9zdGljUmVwb3J0LCAgZGlhZ25vc3RpY1JlcG9ydC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RpYWdub3N0aWNSZXBvcnQvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdEaWFnbm9zdGljUmVwb3J0JyB0aGVuewogICAgICAgIGNkYS5jb2RlIC0+IGRpYWdub3N0aWNSZXBvcnQuY29kZSAiZGlhZ25vc3RpY0NvZGUiOwogICAgICAgIGNkYSAtPiBkaWFnbm9zdGljUmVwb3J0LnN0YXR1cyA9ICdyZWdpc3RlcmVkJyAic3RhdHMiOwogICAgY2RhLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICAgIGNvbXBvbmVudC5zdHJ1Y3R1cmVkQm9keSBhcyBib2R5IHRoZW4gewogICAgICAgIGJvZHkuY29tcG9uZW50IGFzIGNvbXBvbmVudCAgdGhlbiB7CiAgICAgICAgICAgY29tcG9uZW50LnNlY3Rpb24gYXMgc3JjU2VjdGlvbiB0aGVuIHsKICAgICAgICAgIHNyY1NlY3Rpb24uY29kZSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb24oY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyLCBkaWFnbm9zdGljUmVwb3J0KTsgICAgICAgCiAgICAgICAgIH0gInNlY3Rpb24iOwogICAgICAgIH0gImNvbXBvbmVudCI7CiAgICB9ImJvZHkiOwogICAgfTsKICAgIH0iZGlhZ25vc3RpYyI7CiAgfQogIApncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbihzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IGRSZXBvcnQgOiBEaWFnbm9zdGljUmVwb3J0KSB7CiAgICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICAgIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogICAgc3JjIC0+IHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RpYWdub3N0aWNSZXBvcnQvJyArICVkUmVwb3J0LmlkKSAicmVmZXJlbmNlIjsgCiAgICBzcmMuZW50cnkgYXMgZW50cnkgdGhlbnsKICAgICAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgICAgICAgICBjZGFUZXh0IC0+IGZoaXJUZXh0LnN0YXR1cyA9ICdnZW5lcmF0ZWQnICJuYXJyYXRpdmVTdGF0dXMiOwogICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgICAgICAgfSAiY2RhVGV4dCI7CiAgICAgICAgZW50cnkgdGhlbiBEaWFnbm9zdGljUmVwb3J0RnVuY3Rpb24oc3JjLCBlbnRyeSwgZFJlcG9ydCwgYnVuZGxlLCBlbmMsIHBhdGllbnQpICJkcmVwb3J0IjsKICAgIH0iZW50cnkiOwogICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuICBEaWFnbm9zdGljUmVwb3J0RnVuY3Rpb24oc3JjLCBjZGEsIGRSZXBvcnQsIGJ1bmRsZSwgZW5jLCBwYXRpZW50KSAibmFycmF0aXZlIjsKICAgIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNlYyAtPiB0Z3Quc2VjdGlvbiBhcyB0Z3RTZWN0aW9uIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb24oY2RhLCBzZWMsIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSwgZW5jLCBkUmVwb3J0KTsKICAgIH0iY29tcG9uZW50IjsKfQoKZ3JvdXAgRGlhZ25vc3RpY1JlcG9ydEZ1bmN0aW9uKHNvdXJjZSBzZWN0aW9uOiBzZWN0aW9uLCBzb3VyY2Ugc3JjOiBlbnRyeSwgdGFyZ2V0IGRSZXBvcnQ6IERpYWdub3N0aWNSZXBvcnQsIHRhcmdldCBidW5kbGU6IEJ1bmRsZSwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50KXsKICAgIHNyYy5hY3QgYXMgYWN0MSB0aGVuewogICAgICAgIHNlY3Rpb24gd2hlcmUgKGNvZGUuY29kZSA9ICcxMjExODEnKSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnSW1hZ2luZ1N0dWR5JykgYXMgaW1hZ2VTLCAgaW1hZ2VTLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0ltYWdpbmdTdHVkeS8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0ltYWdpbmdTdHVkeScsIGRSZXBvcnQuaW1hZ2luZ1N0dWR5ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvSW1hZ2luZ1N0dWR5LycgKyAlaW1hZ2VTLmlkKSB0aGVuIEltYWdpbmdTdHVkeShhY3QxLHNlY3Rpb24sIGltYWdlUyxwYXRpZW50LGVuY291bnRlcikgImltYWdpbmdTdHVkeSI7CiAgICAgICAgc2VjdGlvbiB3aGVyZSAoY29kZS5jb2RlID0gJzQ4NzY1LTInKSAtPiBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMxLCAgb2JzMS5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJwogICAgICAgICwgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEuaWQpIHRoZW57IAogICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICAicmVmZXJlbmNlIjsgIAogICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEuc3RhdHVzID0gJ2ZpbmFsJyAiU1RhdHVzb2JzZSI7CiAgICAgICAgICAgIHNlY3Rpb24uY29kZSAtPiBvYnMxLmNvZGU7CiAgICAgICAgICAgIGFjdDEuc3RhdHVzQ29kZSBhcyBzIHRoZW4gewogICAgICAgICAgICAgICAgcy5jb2RlIGFzIGNvcy0+IG9iczEuc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICAgICAgICAgIH0ic3RhdHVzIjsKICAgICAgICAgICAgc2VjdGlvbiAtPiBidW5kbGUuZW50cnkgYXMgZTQsIGU0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNC5yZXNvdXJjZSA9IGNyZWF0ZSgnTGlzdCcpIGFzIGxpc3QxLCAgbGlzdDEuaWQgPSB1dWlkKCkgYXMgdXVpZDQsICBlNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTGlzdC8nLCB1dWlkNCksIHJlcXVlc3QudXJsID0gJ0xpc3QnLCBvYnMxLmZvY3VzID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTGlzdC8nICsgJWxpc3QxLmlkKSB0aGVuewogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBsaXN0MS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBsaXN0MS5zdGF0dXMgPSAnY3VycmVudCcgImxpc3RhdHVzIjsKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEubW9kZSA9ICd3b3JraW5nJyAibHN0bW9kIjsKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgICAgICBzcmMgLT4gbGlzdDEuZW50cnkgYXMgZW50cnlMaXN0MSB0aGVuewogICAgICAgICAgICAgICAgICAgIGFjdDEgLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ0FsbGVyZ3lJbnRvbGVyYW5jZScpIGFzIGFsbGVyZ3ksICBhbGxlcmd5LmlkID0gdXVpZCgpIGFzIHV1aWQ1LCAgZTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0FsbGVyZ3lJbnRvbGVyYW5jZS8nLCB1dWlkNSksIHJlcXVlc3QudXJsID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZScsIGVudHJ5TGlzdDEuaXRlbSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0FsbGVyZ3lJbnRvbGVyYW5jZS8nICsgJWFsbGVyZ3kuaWQpIHRoZW4gYWxsZXJneUZ1bmN0aW9uKGFjdDEsIGFsbGVyZ3ksIHBhdGllbnQsZW5jb3VudGVyKSAiYWxsZXJneSI7CiAgICAgICAgICAgICAgICB9Iml0ZW0iOwogICAgICAgICAgICB9Imxpc3QiOwogICAgICAgIH0iYWxsZXJneUFjdCI7CiAgICAgICAgc2VjdGlvbiB3aGVyZSAoY29kZS5jb2RlID0gJzU1MTExLTknKSAtPiBidW5kbGUuZW50cnkgYXMgZTMsIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMyLCAgb2JzMi5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczIuaWQpIHRoZW4gT2JzZXJ2YXRpb24oYWN0MSwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnMyLCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgICB9ImFjdCI7CiAgICBzcmMub2JzZXJ2YXRpb24gYXMgZW50cnlvYnMgdGhlbnsKICAgICAgICBzZWN0aW9uIHdoZXJlIChjb2RlLmNvZGUgPSAnMTEzMjktMCcpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNiwgZTYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU2LnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczYsICBvYnM2LmlkID0gdXVpZCgpIGFzIHV1aWQ2LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQ2KSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBkUmVwb3J0LnJlc3VsdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzNi5pZCkgdGhlbiB7CiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzNi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICBzZWN0aW9uIC0+IG9iczYuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzNi5zdGF0dXMgPSAnZmluYWwnICJ0YXR1c29ic2UiOwogICAgICAgICAgICBzZWN0aW9uLmNvZGUgLT4gb2JzNi5jb2RlOwogICAgICAgICAgICBlbnRyeW9icyAtPiBidW5kbGUuZW50cnkgYXMgZTcsIGU3LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNy5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29uZGl0aW9uJykgYXMgY29uZGl0aW9uMSwgIGNvbmRpdGlvbjEuaWQgPSB1dWlkKCkgYXMgdXVpZDcsICBlNy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29uZGl0aW9uLycsIHV1aWQ3KSwgcmVxdWVzdC51cmwgPSAnQ29uZGl0aW9uJywgb2JzNi5mb2N1cyA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nICsgJWNvbmRpdGlvbjEuaWQpIHRoZW4gQ29uZGl0aW9uRnVuY3Rpb24oZW50cnlvYnMsY29uZGl0aW9uMSwgcGF0aWVudCwgZW5jb3VudGVyLGJ1bmRsZSkgImNvbmRpdGlvbiI7CiAgICAgICAgfSJvYnNlcnZhdGlvbnN0Y2xpbmljYSI7CgogICAgICAgIHNlY3Rpb24gd2hlcmUgKGNvZGUuY29kZSA9ICc1NTExNC0zJykgLT4gYnVuZGxlLmVudHJ5IGFzIGU5LCBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTkucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzOSwgIG9iczkuaWQgPSB1dWlkKCkgYXMgdXVpZDksICBlOS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDkpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnM5LmlkKSB0aGVuIE9ic2VydmF0aW9uKGVudHJ5b2JzLCBwYXRpZW50LCBlbmNvdW50ZXIsIG9iczksIGJ1bmRsZSkgInByZWNlZGVudGlFc2FtaSI7CiAgICAgICAgc2VjdGlvbiB3aGVyZSAoY29kZS5jb2RlID0gJzU1MTA5LTMnKSAtPiBidW5kbGUuZW50cnkgYXMgZTgsIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnM4LCBvYnM4LmlkID0gdXVpZCgpIGFzIHV1aWQ4LCBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDgpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnM4LmlkKSB0aGVuIE9ic2VydmF0aW9uKGVudHJ5b2JzLCBwYXRpZW50LCBlbmNvdW50ZXIsIG9iczgsIGJ1bmRsZSkgImNvbXBsaWNhbnplIjsKICAgICAgICBzZWN0aW9uIHdoZXJlIChjb2RlLmNvZGUgPSAnMTg3ODUtNicpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTQsIGUxNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTE0LnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczE0LCBvYnMxNC5pZCA9IHV1aWQoKSBhcyB1dWlkMTQsIGUxNC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDE0KSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBkUmVwb3J0LnJlc3VsdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMTQuaWQpIHRoZW4gT2JzZXJ2YXRpb24oZW50cnlvYnMsIHBhdGllbnQsIGVuY291bnRlciwgb2JzMTQsIGJ1bmRsZSkgInF1ZXNpdG9EaWFnbm9zdGljbyI7CiAgICB9ICJlbnRyeU9icyI7CiAgICBzcmMub3JnYW5pemVyIGFzIG9yZ2FuaXplciB0aGVuIHsKICAgICAgICBzcmMgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMCwgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMTAsICBvYnMxMC5pZCA9IHV1aWQoKSBhcyB1dWlkMTAsICBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxMCksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEwLmlkKSB0aGVuewogICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEwLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTAuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTAuc3RhdHVzID0gJ2ZpbmFsJyAidGF0dXNvYnNlIjsKICAgICAgICAgICAgc2VjdGlvbi5jb2RlIC0+IG9iczEwLmNvZGUgImNvZGVPYnMiOyAKICAgICAgICAgICAgc2VjdGlvbiAtPiBidW5kbGUuZW50cnkgYXMgZTExLCBlMTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTGlzdCcpIGFzIGxpc3QxMSwgIGxpc3QxMS5pZCA9IHV1aWQoKSBhcyB1dWlkMTEsICBlMTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0xpc3QvJywgdXVpZDExKSwgcmVxdWVzdC51cmwgPSAnTGlzdCcsIG9iczEwLmZvY3VzID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTGlzdC8nICsgJWxpc3QxMS5pZCkgdGhlbnsKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDExLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGxpc3QxMS5zdGF0dXMgPSAnY3VycmVudCcgImxpc3RzdGF0IjsKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDExLm1vZGUgPSAnd29ya2luZycgImxpc3RtZCI7CiAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGxpc3QxMS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAgInJlZmVyZW5jZSI7ICAKICAgICAgICAgICAgICAgIG9yZ2FuaXplciAtPiBsaXN0MTEuZW50cnkgYXMgZW50cnlMaXN0MiB0aGVuewogICAgICAgICAgICAgICAgICAgIG9yZ2FuaXplciAtPmJ1bmRsZS5lbnRyeSBhcyBlMTIsIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEyLnJlc291cmNlID0gY3JlYXRlKCdGYW1pbHlNZW1iZXJIaXN0b3J5JykgYXMgZmFtaWx5TWVtYmVyLCBmYW1pbHlNZW1iZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEyLCAgZTEyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9GYW1pbHlNZW1iZXJIaXN0b3J5LycsIHV1aWQxMiksIHJlcXVlc3QudXJsID0gJ0ZhbWlseU1lbWJlckhpc3RvcnknLCBlbnRyeUxpc3QyLml0ZW0gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0ZhbWlseU1lbWJlckhpc3RvcnkvJyArICVmYW1pbHlNZW1iZXIuaWQpIHRoZW4gRmFtaWx5TWVtYmVyRnVuY3Rpb24ob3JnYW5pemVyLCBmYW1pbHlNZW1iZXIsIHBhdGllbnQpICJmYW1pbHkiOwogICAgICAgICAgICAgICAgfSJvcmciOwogICAgICAgICAgICB9Ikxpc3QiOwogICAgICAgIH0iZW50cnlPcmdhbml6ZXIiOwogICAgfSJvcmdhbml6ZXIiOwogICAgc2VjdGlvbiB3aGVyZSBzZWN0aW9uLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewoKICAgICAgICBzZWN0aW9uIHdoZXJlIChjb2RlLmNvZGUgPSAnNDg3NjUtMicpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMiwgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEsICBvYnMxLmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBkUmVwb3J0LnJlc3VsdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMS5pZCkgdGhlbnsgCiAgICAgICAgICAgIHNlY3Rpb24tPiBvYnMxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAgInJlZmVyZW5jZSI7ICAKICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxLnN0YXR1cyA9ICdmaW5hbCcgIlNUYXR1c29ic2UiOwogICAgICAgICAgICBzZWN0aW9uLmNvZGUgLT4gb2JzMS5jb2RlOwogICAgICAgICAgICBzZWN0aW9uLnN0YXR1c0NvZGUgYXMgcyB0aGVuIHsKICAgICAgICAgICAgICAgIHMuY29kZSBhcyBjb3MtPiBvYnMxLnN0YXR1cyA9IHRyYW5zbGF0ZShjb3MsICcjT0JTc3RhdHVzJywgJ2NvZGUnKSAiY29kZVMiOwogICAgICAgICAgICB9InN0YXR1cyI7CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi50ZXh0IGFzIHRleHQgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU1LnJlc291cmNlID0gY3JlYXRlKCdBbGxlcmd5SW50b2xlcmFuY2UnKSBhcyBhbGxlcmd5LCAgYWxsZXJneS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9BbGxlcmd5SW50b2xlcmFuY2UvJywgdXVpZDUpLCByZXF1ZXN0LnVybCA9ICdBbGxlcmd5SW50b2xlcmFuY2UnLCBvYnMxLmZvY3VzID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gYWxsZXJneS5wYXRpZW50PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGFsbGVyZ3kuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGFsbGVyZ3kuY2xpbmljYWxTdGF0dXMgYXMgY2xpbmljYWxTdGF0dXMgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gY2xpbmljYWxTdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGNvZGluZy5jb2RlID0gICdhY3RpdmUnICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCcgInN5c3RlbSI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJzdGF0dXMiOyAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0IC0+IGFsbGVyZ3kubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0IGFzIHQtPiBub3RlLnRleHQgPSBjcmVhdGUoJ3N0cmluZycpIGFzIHRleHROb3RlIHRoZW4gRURzdHJpbmcodCx0ZXh0Tm90ZSkgIm5vdGUiOwogICAgICAgICAgICAgICAgICAgICAgICB9ICJuYXJyYXRpdmUiOyAKICAgICAgICAgICAgICAgICAgICB9ImFsbGVyZ3l0ZXh0IjsKICAgICAgICAgICAgICAgIAogICAgICAgIH0iYWxsZXJneUFjdCI7CgogICAgICAgIHNlY3Rpb24gd2hlcmUgKGNvZGUuY29kZSA9ICc1NTExMC0xJykubm90KCkgb3IgKGNvZGUuY29kZSA9ICcxMTMyOS0wJykubm90KCkgdGhlbnsKICAgICAgICAgICAgc2VjdGlvbi50ZXh0IGFzIHRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMywgZTEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMTMsICBvYnMxMy5pZCA9IHV1aWQoKSBhcyB1dWlkMTMsICBlMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEzLmlkKSB0aGVuIHsKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTMuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTMuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEzLnN0YXR1cyA9ICdwcmVsaW1pbmFyeScgIm9ic3N0IjsKICAgICAgICAgICAgICAgIHNlY3Rpb24uY29kZSAtPiBvYnMxMy5jb2RlICJvYnNjZGUiOwogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5zdGF0dXMgPSAnZmluYWwnICJzdGF0dXNTIjsKICAgICAgICAgICAgICAgIHRleHQgLT4gb2JzMTMubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgdGV4dCBhcyB0LT4gbm90ZS50ZXh0ID0gY3JlYXRlKCdzdHJpbmcnKSBhcyB0ZXh0Tm90ZSB0aGVuIEVEc3RyaW5nKHQsdGV4dE5vdGUpICJub3RlIjsKICAgICAgICAgICAgICAgIH0gIm5hcnJhdGl2ZSI7ICAgIAogICAgICAgICAgICB9InR4dHNlYyI7CiAgICAgICAgICB9ICJOb25Db25jbHVzaW9uIjsKICAgICAgICBzZWN0aW9uIHdoZXJlKGNvZGUuY29kZSA9ICc1NTExMC0xJykgdGhlbiB7CiAgICAgICAgICAgIHNlY3Rpb24udGV4dCBhcyB0IC0+IGRSZXBvcnQuY29uY2x1c2lvbiA9IGNyZWF0ZSgnc3RyaW5nJykgIGFzIHRleHRDb25jbHVzaW9uIHRoZW4gRURzdHJpbmcodCx0ZXh0Q29uY2x1c2lvbikgImNvbmMiOwogICAgICAgIH0iY29uY2x1c2lvbiI7CiAgICB9IndoZXJlQ29uZCI7Cn0KCmdyb3VwIE9ic2VydmF0aW9uKHNvdXJjZSBjZGEgOiBvYnNlcnZhdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyIDogRW5jb3VudGVyLCB0YXJnZXQgb2IgOiBPYnNlcnZhdGlvbiwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSkgeyAgCiAgICBjZGEtPm9iLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICAicmVmZXJlbmNlIjsgICAgCiAgICBjZGEtPm9iLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICAicmVmZXJlbmNlIjsgCiAgICBjZGEuY29kZSAtPiBvYi5jb2RlOwogICAgY2RhIC0+IG9iLnN0YXR1cyA9ICdmaW5hbCcgIlN0YXRzIjsKICAgIC8vdmFsdWUgZGF0YXR5cGUKICAgIGNkYS52YWx1ZTpTVCBhcyBzdCAtPiBvYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSwgIG9iLnZhbHVlPSAoc3QuZGF0YVN0cmluZykgInZhbHVlIjsKICAgIGNkYS52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2IudmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogICAgY2RhLnZhbHVlOklOVCBhcyBpbnQtPm9iLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgICBjZGEudmFsdWU6Q0UgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAicmVmZXJlbmNlIjsKICAgICAgICB9Im9yaWdpbmFsVGV4dCI7CiAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB9ICJjb2RlIjsKICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgICAgICB9ImNvZGluZyI7CiAgICAgIH0idmFsIjsKICAgICAgY2RhLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInJlZmVyZW5jZSI7CiAgICAgICAgfSJvcmlnaW5hbFRleHQiOwogICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgfSAiY29kZSI7CiAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9ICJ0cmFuc2xhdGlvbiI7CiAgICAgICAgfSJjb2RpbmciOwogICAgICB9InZhbCI7CiAgICBjZGEudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgIH0icXVhbnRpdHkiOwogICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgIC8vCiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgY2RhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgY2RhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSxwZXJpb2QpICJ2YWx1ZTMiOwogICAgICAgIH0id2hlcmUiOwogICAgCiAgICBjZGEudGV4dCBhcyB0ZXh0IC0+IG9iLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICB9ICJub3RlIjsKICAgIGNkYS5zdGF0dXNDb2RlIGFzIHMgdGhlbiB7CiAgICAgICAgcy5jb2RlIGFzIGNvcy0+IG9iLnN0YXR1cyA9IHRyYW5zbGF0ZShjb3MsICcjT0JTc3RhdHVzJywgJ2NvZGUnKSAiY29kZVMiOwogICAgfSJzdGF0dXMiOwp9ICAKCmdyb3VwIEltYWdpbmdTdHVkeShzb3VyY2Ugc3JjOiBhY3QsIHNvdXJjZSBzZWN0aW9uIDogc2VjdGlvbiwgdGFyZ2V0IHRndCA6IEltYWdpbmdTdHVkeSwgdGFyZ2V0IHBhdGllbnQ6IHBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBlbmNvdW50ZXIpewogICAgc3JjLmlkIC0+IHRndC5pZGVudGlmaWVyOwogICAgc3JjIC0+IHRndC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAgInJlZmVyZW5jZSI7ICAgIAogICAgc3JjIC0+IHRndC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAgInJlZmVyZW5jZSI7ICAKICAgIHNyYyAtPiB0Z3Quc3RhdHVzID0gJ2F2YWlsYWJsZScgInN0YXR1cyI7CiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXAgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcC5hY3QgYXMgYWN0IC0+IHRndC5zZXJpZXMgYXMgc2VyaWVzIHRoZW57CiAgICAgICAgICAgIGFjdC5pZCBhcyBpZCAtPiBzZXJpZXMudWlkID0gKGlkLnJvb3QpOwogICAgICAgICAgICAgc2VjdGlvbi5jb2RlIGFzIGNvZGUgLT4gc2VyaWVzLm1vZGFsaXR5PSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIGNvZGUuY29kZSBhcyBjb2RlMSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZTEsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgIGNvZGUuY29kZVN5c3RlbSBhcyBzeXN0ZW0tPmNvZGluZy5zeXN0ZW09IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgY29kZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5LT5jb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICB9Im1vZGFsaXR5IjsKICAgICAgICAgICAgYWN0LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwMiB0aGVuewogICAgICAgICAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAyLm9ic2VydmF0aW9uIGFzIG9icyAtPiBzZXJpZXMuaW5zdGFuY2UgYXMgaW5zdGFuY2UgdGhlbnsKICAgICAgICAgICAgICAgICAgICBvYnMuaWQgYXMgaWQgLT4gaW5zdGFuY2UudWlkID0gKGlkLnJvb3QpICJyb290IjsKICAgICAgICAgICAgICAgICAgICBvYnMuY29kZSBhcyBjb2RlMS0+IGluc3RhbmNlLnNvcENsYXNzID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUxLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgY29kZTEuY29kZVN5c3RlbSBhcyBzeXN0ZW0tPmNvZGluZy5zeXN0ZW09IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICBjb2RlMS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5LT5jb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgfSJzb3BDbGFzcyI7CiAgICAgICAgICAgICAgICB9ICJpZFJvb3QiOwogICAgICAgICAgICB9Imluc3RhbmNlIjsKICAgICAgICB9ICJzZXJpZXMiOwogICAgfSAiZW50cnlSZWxhdGlvbnNoaXAiOwp9Cgpncm91cCBDb25kaXRpb25GdW5jdGlvbiAoc291cmNlIHNyYzogY2RhRWxlbWVudCwgdGFyZ2V0IHRndDogQ29uZGl0aW9uLCB0YXJnZXQgcGF0aWVudCA6IHBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBlbmNvdW50ZXIsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICAgIHNyYy5jb2RlIC0+IHRndC5jYXRlZ29yeTsKICAgIHNyYyAtPiB0Z3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgICJyZWZlcmVuY2UiOyAgICAKICAgIHNyYyAtPiB0Z3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAKICAgIHNyYy5zdGF0dXNDb2RlIGFzIHN0c2NvZGUgLT4gdGd0LnZlcmlmaWNhdGlvblN0YXR1cyBhcyB2ZXJpZnN0YXR1cyB0aGVuIHsgCiAgICAgICAgc3RzY29kZSBhcyBjb2RlUyAtPiB2ZXJpZnN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgY29kZVMuY29kZSAtPiBjb2RpbmcuY29kZSA9ICdjb25maXJtZWQnICJjb2RlIjsKICAgICAgICAgICAgY29kZVMgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vY29uZGl0aW9uLXZlci1zdGF0dXMnICJzeXN0ZW0iOwogICAgICAgICAgICBjb2RlUyAtPiBjb2RpbmcuZGlzcGxheT0gY2FzdCgnQ29uZmlybWVkJywgJ3N0cmluZycpICJkaXNwbGF5IjsKICAgIH0iY29kaW5nIjsgICAgCiAgICB9InZlcmlmc3RhdHVzIjsKICAgIHNyYyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSwgcGVyaW9kKSAidmFsdWVQZXJpb2QiOwogICAgfSJ3aGVyZSI7CiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5vbnNldCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBkYXRlVGltZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgZGF0ZVRpbWUpICJ2YWx1ZTIiOwogICAgc3JjLnZhbHVlIC0+IHRndC5jb2RlOwogICAgc3JjLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW57CiAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAub2JzZXJ2YXRpb24gYXMgb2JzZW50cnkgdGhlbnsKICAgICAgICAgICAgb2JzZW50cnkuY29kZSB3aGVyZSBjb2RlID0nODkyNjEtMicgdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VudHJ5IC0+IHRndC5ldmlkZW5jZSBhcyBldmlkZW5jZSwgYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzeSwgIG9ic3kuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGV2aWRlbmNlLmRldGFpbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzeS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlbnRyeSwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnN5LCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgIH0ib2JzZXJ2YXRpb24iOwogICAgICAgICAgICBvYnNlbnRyeS5jb2RlIHdoZXJlIGNvZGUgPSAnMzM5OTktNCcgdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VudHJ5LnZhbHVlIGFzIHZhbHVlIC0+IHRndC5jbGluaWNhbFN0YXR1cyBhcyBjbGluaWNhbHN0YXR1cyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSBhcyB2YWwgLT4gY2xpbmljYWxzdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCB3aGVyZShjb2RlID0gJ0xBOTA0MS0wJykgLT4gY29kaW5nLmNvZGUgPSAgJ3Jlc29sdmVkJyAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCB3aGVyZShjb2RlID0gJ0xBMTg2MzItMicpIC0+IGNvZGluZy5jb2RlID0gICdpbmFjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwgd2hlcmUoY29kZSA9ICdMQTE2NjY2LTInKSAtPiBjb2RpbmcuY29kZSA9ICAnYWN0aXZlJyAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vY29uZGl0aW9uLWNsaW5pY2FsJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXktPiBjb2RpbmcuZGlzcGxheT0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJykgImRpc3BsYXkiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIG9ic2VudHJ5LnRleHQgYXMgdGV4dCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gY2xpbmljYWxzdGF0dXMudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgICAgICAgICAgICAgICAgICB9InRleHQiOwogICAgICAgICAgICAgICAgfSJjbGluaWNhbHN0YXR1cyI7CiAgICAgICAgICAgIH0iY2xpbmljYWxTdGF0dXMyIjsKICAgICAgICB9IkVudHJ5UmVsT2JzZXZhdGlvbiI7CiAgICAgICAgCiAgICB9ICJlbnRyeVIiOwp9Cgpncm91cCBhbGxlcmd5RnVuY3Rpb24oc291cmNlIHNyYzogY2RhRWxlbWVudCwgdGFyZ2V0IHRndDogQWxsZXJneUludG9sZXJhbmNlLCB0YXJnZXQgcGF0aWVudCA6IHBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBlbmNvdW50ZXIpIHsKICAgIHNyYyAtPiB0Z3QucGF0aWVudD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgICJyZWZlcmVuY2UiOyAgICAKICAgIHNyYyAtPiB0Z3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAKICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDEgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDEub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24xIHRoZW57CiAgICAgICAgICAgIG9ic2VydmF0aW9uMSB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCBwZXJpb2QpICJ2YWx1ZVBlcmlvZCI7CiAgICAgICAgICAgICB9IndoZXJlIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3Qub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgZGF0ZVRpbWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIGRhdGVUaW1lKSAidmFsdWUyIjsgCiAgICAgICAgICAgIAogICAgICAgICAgICBvYnNlcnZhdGlvbjEudmFsdWUgYXMgY29kZSB0aGVuewogICAgICAgICAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUxLT4gdGd0LnR5cGUgPSB0cmFuc2xhdGUoY29kZTEsJyNBbGxlcmd5VHlwZU1hcCcsJ2NvZGUnKSAidHlwZSI7IAogICAgICAgICAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUxIC0+IHRndC5jYXRlZ29yeSA9IHRyYW5zbGF0ZShjb2RlMSwnI0FsbGVyZ3lDYXRlZ29yeU1hcCcsJ2NvZGUnKSAiY2F0ZWdvcnkiOyAgIAogICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICBvYnNlcnZhdGlvbjEucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDIgd2hlcmUgKHR5cGVDb2RlID0gJ01GU1QnKSB0aGVuewogICAgICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMi5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlIC0+IHJlYWN0aW9uLm1hbmlmZXN0YXRpb24gIm1hbmlmZXN0YXRpb24iOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsb3cgLT4gcmVhY3Rpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGxvdywgdmFsdWUpICJ2YWx1ZVBlcmlvZExvdyI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICB9Im9ic2VydjIiOwogICAgICAgICAgICAgICAgfSJlbnRyeVIyIjsKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUucGxheWluZ0VudGl0eSBhcyBwbGF5aW5nRW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmdFbnRpdHkuY29kZSAtPiByZWFjdGlvbi5zdWJzdGFuY2UgInJlYWN0aW9uIjsKICAgICAgICAgICAgICAgICAgICB9InBsYXlpbmdFbnRpdHkiOwogICAgICAgICAgICAgICAgfSJwYXJ0aWNpcGFudFJvbGUiOwogICAgICAgICAgICB9InBhcnRpY2lwYW50IjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwMiB3aGVyZSAodHlwZUNvZGUgPSAnTUZTVCcpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24yIHdoZXJlIG9ic2VydmF0aW9uMS5wYXJ0aWNpcGFudC5leGlzdHMoKS5ub3QoKSAtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudmFsdWUgLT4gcmVhY3Rpb24ubWFuaWZlc3RhdGlvbiAibWFuaWZlc3RhdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsb3cgLT4gcmVhY3Rpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGxvdywgdmFsdWUpICJ2YWx1ZVBlcmlvZExvdyI7CiAgICAgICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgfSJvYnNlcnYyIjsKICAgICAgICAgICAgfSJlbnRyeVIyIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwMyB3aGVyZSAodHlwZUNvZGUgPSAnU1VCSicpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDMub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24zIHRoZW57CiAgICAgICAgICAgICAgICAgICAgLy9jcml0aWNhbGl0eQogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMy52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGMtPiB0Z3QuY3JpdGljYWxpdHkgPSB0cmFuc2xhdGUoYywnI0NyaWNhbGl0eU1hcCcsJ2NvZGUnKSAidmFsdWUiOwogICAgICAgICAgICAgICAgICAgIH0iY3JpdGljYWxpdHkiOyAKICAgICAgICAgICAgICAgIH0ib2JzZXJ2MyI7CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDMuYWN0IGFzIGFjdCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgYWN0LnRleHQgYXMgdGV4dCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfSJub3RlIjsKICAgICAgICAgICAgICAgIH0iYWN0IjsKICAgICAgICAgICAgfSJlbnRyeVIzIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwNCB3aGVyZSAodHlwZUNvZGUgPSAnUkVGUicpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDQub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb240ICB0aGVuewogICAgICAgICAgICAgICAgICAgIC8vb2JzZXJ2YXRpb240LnZhbHVlIC0+IHRndC5jbGluaWNhbFN0YXR1czsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjQudmFsdWUgYXMgdmFsdWUgLT4gdGd0LmNsaW5pY2FsU3RhdHVzIGFzIGNsaW5pY2FsU3RhdHVzIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIGFzIHZhbHUgLT4gY2xpbmljYWxTdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUgd2hlcmUoY29kZSA9ICdMQTkwNDEtMCcpIC0+IGNvZGluZy5jb2RlID0gICdyZXNvbHZlZCcgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdSB3aGVyZShjb2RlID0gJ0xBMTg2MzItMicpIC0+IGNvZGluZy5jb2RlID0gICdpbmFjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdSB3aGVyZShjb2RlID0gJ0xBMTY2NjYtMicpIC0+IGNvZGluZy5jb2RlID0gICdhY3RpdmUnICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHUuZGlzcGxheU5hbWUgYXMgZGlzcGxheS0+IGNvZGluZy5kaXNwbGF5PSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKSAiZGlzcGxheSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICB9ImNsaW5pY2FsU3RhdHVzIjsKICAgICAgICAgICAgICAgIH0ib2JzZXJ2NCI7CiAgICAgICAgICAgIH0iZW50cnlSNCI7CiAgICAgICAgfSJvYnNlcnZhdGlvbiI7CiAgICB9ImVudHJ5cmVsYXRpb25zaGlwIjsKfQoKCmdyb3VwIEZhbWlseU1lbWJlckZ1bmN0aW9uKHNvdXJjZSBzcmMgOiBvcmdhbml6ZXIsIHRhcmdldCB0Z3QgOiBmYW1pbHlNZW1iZXIsIHRhcmdldCBwYXRpZW50IDogcGF0aWVudCl7CiAgICBzcmMgLT4gdGd0LnBhdGllbnQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgICJwYXRSZWZlcmVuY2UiOyAgICAKICAgIHNyYy5zdGF0dXNDb2RlIC0+IHRndC5zdGF0dXM7CiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5kYXRlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLHZhbHVlKSAiZGF0ZSI7CiAgICBzcmMuc3ViamVjdCBhcyBzdWJqZWN0IHRoZW57CiAgICAgICAgc3ViamVjdC5yZWxhdGVkU3ViamVjdCBhcyByZWxhdGVkU3ViamVjdCB0aGVuewogICAgICAgICAgICByZWxhdGVkU3ViamVjdC5jb2RlIC0+IHRndC5yZWxhdGlvbnNoaXAgInJlbGF0aW9uc2hpcENvZGUiOwogICAgICAgICAgICByZWxhdGVkU3ViamVjdC5zdWJqZWN0IGFzIHN1YmplY3QgLT4gdGd0LnNleCBhcyBzZXggdGhlbiB7CiAgICAgICAgICAgICAgICBzdWJqZWN0LmFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZSBhcyBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUgLT4gc2V4LmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgYWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlLmNvZGUgYXMgc2V4Q29kZS0+IGNvZGluZy5jb2RlID0gdHJhbnNsYXRlKHNleENvZGUsICcjY20tdjMtYWRtaW5pc3RyYXRpdmUtZ2VuZGVyJywgJ2NvZGUnKSAiZ2VuZGVyIjsKICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUuc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL2hsNy5vcmcvZmhpci9hZG1pbmlzdHJhdGl2ZS1nZW5kZXInICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9InN1YmplY3QiOwogICAgICAgIH0icmVsYXRlZFN1YiI7CiAgICB9InJlbGF0aW9uc2hpcCI7CiAgICBzcmMuY29tcG9uZW50IGFzIGNvbXBvbmVudCAtPiB0Z3QuY29uZGl0aW9uIGFzIGNvbmRpdGlvbiB0aGVuewogICAgICAgIGNvbXBvbmVudC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbiB0aGVuewogICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIC0+IGNvbmRpdGlvbi5jb2RlICJjb2RlIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24udGV4dCBhcyB0ZXh0IC0+IHRndC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUgLT4gdGd0LnN0YXR1czsKICAgICAgICAgICAgb2JzZXJ2YXRpb24gd2hlcmUgb2JzZXJ2YXRpb24uZWZmZWN0aXZlVGltZS5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3QuY29uZGl0aW9uID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBjb25kaXRpb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSAtPiBjb25kaXRpb24uY29kZSAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24udmFsdWUgLT4gY29uZGl0aW9uLm91dGNvbWUgImNvZGVhYmxlIjsgCiAgICAgICAgICAgICAgICAgICAgZWZmZWN0aXZlVGltZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IHBlcmlvZC5zdGFydCA9ICBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsc3RhcnQpICJ2YWwiOyAKICAgICAgICAgICAgICAgICAgICB9ImVmZnQiOwogICAgICAgICAgICAgICAgfSJlZmZ0dGVtcCI7CiAgICAgICAgICAgIH0iY29udCI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIC0+IGNvbmRpdGlvbi5vdXRjb21lICJjb2RlYWJsZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgICAgICAgICAgZW50cnlSLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuewogICAgICAgICAgICAgICAgICAgIG9icyB3aGVyZSAoY29kZS5jb2RlID0nMzUyNjctNCcpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9icy52YWx1ZSBhcyB2YWx1ZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ0FnZScpIGFzIEFnZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnZhbHVlIGFzIHZhbHVlQWdlIC0+IEFnZS52YWx1ZSA9IHZhbHVlQWdlICJhZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS5jb2RlID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS51bml0IGFzIHVuaXQgLT4gQWdlLnVuaXQgPSB1bml0ICJ1bml0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IEFnZS5zeXN0ZW0gPSAnaHR0cDovL3VuaXRzb2ZtZWFzdXJlLm9yZycgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgfSAidmFsdWUiOwogICAgICAgICAgICAgICAgfSJpbnNvcmdlbnphIjsKICAgICAgICAgICAgICAgICAgICBvYnMgd2hlcmUgKGNvZGUuY29kZSA9JzM5MDE2LTEnKSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsdWUgLT4gdGd0LmRlY2Vhc2VkID0gY3JlYXRlKCdBZ2UnKSBhcyBBZ2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSBhcyB2YWx1ZUFnZSAtPiBBZ2UudmFsdWUgPSB2YWx1ZUFnZSAiYWdlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnVuaXQgYXMgdW5pdCAtPiBBZ2UuY29kZSA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBBZ2Uuc3lzdGVtID0gJ2h0dHA6Ly91bml0c29mbWVhc3VyZS5vcmcnICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgICAgIH0iZGVhdGgiOwogICAgICAgICAgICB9Im9ic2VyIjsKICAgICAgICAgICAgfSJFbnRyeVJlbCI7CiAgICAgICAgfSJvYnNlcnZhdGlvbiI7CiAgICB9ImNvbXBvbmVudCI7Cn0=", "subType": "00"}}, "filename": "RefertodiRadiologiaBody_v2.1.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:35:59.952Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a5404846375e3fecadc2"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/RefertodiSpecialisticaAmbulatorialeBody", "version": "2.7", "template_id_root": ["2.16.840.1.113883.2.9.10.1.9.1"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9SZWZlcnRvZGlTcGVjaWFsaXN0aWNhQW1idWxhdG9yaWFsZUJvZHkiID0gIlJlZmVydG9kaVNwZWNpYWxpc3RpY2FBbWJ1bGF0b3JpYWxlQm9keSIKCmNvbmNlcHRtYXAgIk9CU3N0YXR1cyIgewpwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My1zdGF0dXNDb2RlIgpwcmVmaXggdCA9ICJodHRwOi8vaGw3Lm9yZy9maGlyL29ic2VydmF0aW9uLXN0YXR1cyIKCnM6Y29tcGxldGVkID09IHQ6ZmluYWwKczphY3RpdmUgPT0gdDpyZWdpc3RlcmVkCnM6YWJvcnRlZCA9PSB0OmNhbmNlbGxlZApzOnN1c3BlbmRlZCA9PSB0OnBhcnRpYWwKfQpjb25jZXB0bWFwICJNZWRpY2F0aW9uU3RhdHVzTWFwIiB7CiAgICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My1zdGF0dXNDb2RlIgogICAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9Db2RlU3lzdGVtL21lZGljYXRpb25yZXF1ZXN0LXN0YXR1cyIKICAgIAogICAgczpjb21wbGV0ZWQgPT0gdDpjb21wbGV0ZWQKICAgIHM6YWN0aXZlID09IHQ6YWN0aXZlCiAgICBzOmFib3J0ZWQgPT0gdDpjYW5jZWxsZWQKICAgIHM6c3VzcGVuZGVkID09IHQ6Im9uLWhvbGQiCiAgICB9CmNvbmNlcHRtYXAgImNtLXYzLWFkbWluaXN0cmF0aXZlLWdlbmRlciIgewpwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My1BZG1pbmlzdHJhdGl2ZUdlbmRlciIKcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9WYWx1ZVNldC9hZG1pbmlzdHJhdGl2ZS1nZW5kZXIiCgpzOk0gPT0gdDptYWxlCnM6RiA9PSB0OmZlbWFsZQp9Cgpjb25jZXB0bWFwICJBbGxlcmd5VHlwZU1hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtdHlwZSIKICAgIHByZWZpeCB0ID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsIgoKICAgIHM6T0lOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6REFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6RUFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6RkFMRyA9PSB0OmFsbGVyZ3kKICAgIHM6TkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpGTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpETkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpFTkFJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpGSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RElOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkVJTlQgPT0gdDppbnRvbGVyYW5jZQogIH0KICBjb25jZXB0bWFwICJBbGxlcmd5Q2F0ZWdvcnlNYXAiIHsKICAgIHByZWZpeCBzID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL1ZhbHVlU2V0L3YzLXR5cGUiCiAgICBwcmVmaXggdCA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCIKCiAgICBzOkRBTEcgPT0gdDptZWRpY2F0aW9uCiAgICBzOkVBTEcgPT0gdDplbnZpcm9tZW50CiAgICBzOkZBTEcgPT0gdDpmb29kCiAgICBzOkZOQUlOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkROQUlOVCA9PSB0Om1lZGljYXRpb24KICAgIHM6RU5BSU5UID09IHQ6ZW52aXJvbWVudAogICAgczpGSU5UID09IHQ6Zm9vZAogICAgczpESU5UID09IHQ6bWVkaWNhdGlvbgogICAgczpFSU5UID09IHQ6ZW52aXJvbWVudAogIH0KCmNvbmNlcHRtYXAgIkNyaWNhbGl0eU1hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1PYnNlcnZhdGlvblZhbHVlIgogICAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9hbGxlcmd5LWludG9sZXJhbmNlLWNyaXRpY2FsaXR5IgoKICAgIHM6IE0gPT0gdDogbG93CiAgICBzOiBIID09IHQ6IGhpZ2gKICAgIHM6IEwgPT0gdDogbG93Cn0KCgpjb25jZXB0bWFwICJDbGluaWNhbFN0YXR1c01hcCIgewogICAgcHJlZml4IHMgPSAiaHR0cHM6Ly9sb2luYy5vcmcvOTk0OTMtOS8iCiAgICBwcmVmaXggdCA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2NvbmRpdGlvbi1jbGluaWNhbCIKCiAgICBzOiAiTEExNjY2Ni0yIiA9PSB0OiBhY3RpdmUKICAgIHM6ICJMQTE4NjMyLTIiID09IHQ6IGluYWN0aXZlCiAgICBzOiAiTEE5MDQxLTAiID09IHQ6IHJlc29sdmVkCn0KCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ2xpbmljYWxEb2N1bWVudCIgYWxpYXMgQ2xpbmljYWxEb2N1bWVudCBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEF1dGhvciIgYWxpYXMgQXNzaWduZWRBdXRob3IgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc2lnbmVkRW50aXR5IiBhbGlhcyBBc3NpZ25lZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzb2NpYXRlZEVudGl0eSIgYWxpYXMgQXNzb2NpYXRlZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ3VzdG9kaWFuT3JnYW5pemF0aW9uIiBhbGlhcyBDdXN0b2RpYW5Pcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb25QYXJ0T2YiIGFsaWFzIE9yZ2FuaXphdGlvblBhcnRPZiBhcyBxdWVyaWVkCnVzZXMgICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgcmFwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NlY3Rpb24iIGFsaWFzIFNlY3Rpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnRSb2xlIiBhbGlhcyBQYXRpZW50Um9sZSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQUQiIGFsaWFzIEFEIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQnVuZGxlIiBhbGlhcyBCdW5kbGUgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Db21wb3NpdGlvbiIgYWxpYXMgQ29tcG9zaXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnQiIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VuY291bnRlciIgYWxpYXMgRW5jb3VudGVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QZXJzb24iIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0xpc3QiIGFsaWFzIExpc3QgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1ByYWN0aXRpb25lciIgYWxpYXMgUHJhY3RpdGlvbmVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIE9yZ2FuaXphdGlvbiBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FjdCIgYWxpYXMgQWN0IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVBRIiBhbGlhcyBJVkxfUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vUFEiIGFsaWFzIFBRIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vU2ltcGxlUXVhbnRpdHkiIGFsaWFzIFNpbXBsZVF1YW50aXR5IGFzIHRhcmdldAoKCmltcG9ydHMgImh0dHA6Ly93d3cuZXkuY29tL2l0YWx5L2lnL2NkYS1maGlyLW1hcHMvU3RydWN0dXJlTWFwL0NkYVRvRmhpckRhdGFUeXBlcyIKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvRlVMTEhFQURFUiIKCmdyb3VwIENkYVRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgICBjZGEgLT4gIGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ29tcG9zaXRpb24nKSBhcyBjb21wb3NpdGlvbiwgIGNvbXBvc2l0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQ29tcG9zaXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdDb21wb3NpdGlvbicsICBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3RQQVQsIHJlcXVlc3RQQVQubWV0aG9kID0gJ1BVVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdQYXRpZW50JykgYXMgcGF0aWVudCwgIHBhdGllbnQuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nLCB1dWlkMiksIGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVyLCAgZW5jb3VudGVyLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMyksIHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicsIGJ1bmRsZS5lbnRyeSBhcyBlNCwgZTQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlNC5yZXNvdXJjZSA9IGNyZWF0ZSgnRG9jdW1lbnRSZWZlcmVuY2UnKSBhcyBEb2N1bWVudFJlZmVyZW5jZSwgIERvY3VtZW50UmVmZXJlbmNlLmlkID0gdXVpZCgpIGFzIHV1aWQ0LCAgZTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RvY3VtZW50UmVmZXJlbmNlLycsIHV1aWQ0KSxyZXF1ZXN0LnVybCA9ICdEb2N1bWVudFJlZmVyZW5jZScgdGhlbiB7CiAgICBjZGEgdGhlbiBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoY2RhLCBwYXRpZW50LCBjb21wb3NpdGlvbiwgZW5jb3VudGVyLCBidW5kbGUsIERvY3VtZW50UmVmZXJlbmNlKSAiY2RhdG9idW5kbGUiOwogICAgY2RhLnJlY29yZFRhcmdldCBhcyByZWNvcmRUYXJnZXQgdGhlbnsKICAgICAgICByZWNvcmRUYXJnZXQucGF0aWVudFJvbGUgYXMgcGF0aWVudCB0aGVuewogICAgICAgIHBhdGllbnQuaWQgYXMgaWQgLT4gcGF0aWVudC5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQxIC0+IGlkZW50aWZpZXIudmFsdWUgPSBleHQxICJ2YWx1ZSI7CiAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICB9ImlkZnIiOwogICAgICAgICAgICBwYXRpZW50LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSBvciAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy43Jykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMycpIG9yKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTcnKSBvciAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4xNScpIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiByZXF1ZXN0UEFULnVybCA9IGFwcGVuZCgnUGF0aWVudD9pZGVudGlmaWVyPScsZXh0KSAiVVVJRCI7CiAgICAgICAgICAgIH0icmVjb3JkIjsKICAgICAgICB9InJlY1BhdCI7CiAgICB9InBhdGllbnQiOwogICAgfSAiQ2xpbmljYWxEb2N1bWVudFRvQm9keSI7Cn0KCgpncm91cCBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGNvbXBvc2l0aW9uIDogQ29tcG9zaXRpb24sIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBEb2N1bWVudFJlZmVyZW5jZSA6IERvY3VtZW50UmVmZXJlbmNlKSB7CiAgICBjZGEgLT4gYnVuZGxlLmlkID0gdXVpZCgpICJpZCI7CiAgICBjZGEuaWQgLT4gYnVuZGxlLmlkZW50aWZpZXIgImlkZW50aWZpZXIiOwogICAgY2RhIC0+IGJ1bmRsZS50eXBlID0gJ3RyYW5zYWN0aW9uJyAidHlwZSI7CiAgICBjZGEgLT4gYnVuZGxlLnRpbWVzdGFtcD0odGltZXN0YW1wLm5vdygpKSAiZGF0ZSI7CiAgICBjZGEgdGhlbiBDbGluaWNhbERvY3VtZW50Q29tcG9zaXRpb24oY2RhLCBjb21wb3NpdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLCBidW5kbGUsIERvY3VtZW50UmVmZXJlbmNlKSAiY29tcG9zaXRpb24iOwogICAgY2RhIC0+IGJ1bmRsZS5lbnRyeSBhcyBlLCBlLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZS5yZXNvdXJjZSA9IGNyZWF0ZSgnRGlhZ25vc3RpY1JlcG9ydCcpIGFzIGRpYWdub3N0aWNSZXBvcnQsICBkaWFnbm9zdGljUmVwb3J0LmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGlhZ25vc3RpY1JlcG9ydC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0RpYWdub3N0aWNSZXBvcnQnIHRoZW57CiAgICAgICAgY2RhLmNvZGUgLT4gZGlhZ25vc3RpY1JlcG9ydC5jb2RlICJkaWFnbm9zdGljQ29kZSI7CiAgICAgICAgY2RhIC0+IGRpYWdub3N0aWNSZXBvcnQuc3RhdHVzID0gJ3JlZ2lzdGVyZWQnICJzdGF0cyI7CiAgICBjZGEuY29tcG9uZW50IGFzIGNvbXBvbmVudCB0aGVuIHsKICAgIGNvbXBvbmVudC5zdHJ1Y3R1cmVkQm9keSBhcyBib2R5IHRoZW4gewogICAgICAgIGJvZHkuY29tcG9uZW50IGFzIGNvbXBvbmVudCAgdGhlbiB7CiAgICAgICAgICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNyY1NlY3Rpb24gdGhlbiB7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbihjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIsIGRpYWdub3N0aWNSZXBvcnQpOyAgICAgICAKICAgICAgICB9ICJzZWN0aW9uIjsKICAgICAgICB9ICJjb21wb25lbnQiOwogICAgfSJib2R5IjsKICAgIH07CiAgICB9ImRpYWdub3N0aWMiOwp9Cgpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbihzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IGRSZXBvcnQgOiBEaWFnbm9zdGljUmVwb3J0KSB7CiAgICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICAgIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogICAgc3JjIC0+IHRndC5lbnRyeSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RpYWdub3N0aWNSZXBvcnQvJyArICVkUmVwb3J0LmlkKSAicmVmZXJlbmNlIjsgCiAgICBzcmMuZW50cnkgYXMgZW50cnkgdGhlbnsKICAgICAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgICAgICAgICBjZGFUZXh0IC0+IGZoaXJUZXh0LnN0YXR1cyA9ICdnZW5lcmF0ZWQnICJuYXJyYXRpdmVTdGF0dXMiOwogICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgICAgICAgfSAiY2RhVGV4dCI7CiAgICAgICAgZW50cnkgdGhlbiBEaWFnbm9zdGljUmVwb3J0RnVuY3Rpb24oc3JjLCBlbnRyeSwgZFJlcG9ydCwgYnVuZGxlLCBlbmMsIHBhdGllbnQpICJkcmVwb3J0IjsKICAgIH0iZW50cnkiOwogICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuICBEaWFnbm9zdGljUmVwb3J0RnVuY3Rpb24oc3JjLCBjZGEsIGRSZXBvcnQsIGJ1bmRsZSwgZW5jLCBwYXRpZW50KSAibmFycmF0aXZlIjsKICAgIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgICAgIGNvbXBvbmVudC5zZWN0aW9uIGFzIHNlYyAtPiB0Z3Quc2VjdGlvbiBhcyB0Z3RTZWN0aW9uIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb24oY2RhLCBzZWMsIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSwgZW5jLCBkUmVwb3J0KTsKICAgIH0iY29tcG9uZW50IjsKfQoKZ3JvdXAgRGlhZ25vc3RpY1JlcG9ydEZ1bmN0aW9uKHNvdXJjZSBzZWN0aW9uOiBzZWN0aW9uLCBzb3VyY2Ugc3JjOiBlbnRyeSwgdGFyZ2V0IGRSZXBvcnQ6IERpYWdub3N0aWNSZXBvcnQsIHRhcmdldCBidW5kbGU6IEJ1bmRsZSwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50KXsKICAgIHNyYy5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbiB0aGVuewogICAgICAgIHNlY3Rpb24gd2hlcmUgY29kZS5jb2RlID0nMjkyOTktNScgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMSwgIG9iczEuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMxLmlkKSB0aGVuIE9ic2VydmF0aW9uKG9ic2VydmF0aW9uLCBwYXRpZW50LCBlbmNvdW50ZXIsIG9iczEsIGJ1bmRsZSkgIlF1ZXNpdG9EaWFnbm9zdGljbyI7CiAgICAgICAgc2VjdGlvbiB3aGVyZSBjb2RlLmNvZGUgPSAnMTEzMjktMCcgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMiwgIG9iczIuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMyLmlkKSB0aGVuIHsKICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMyLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMyLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMi5zdGF0dXMgPSAnZmluYWwnICJTVGF0dXNvYnNlIjsKICAgICAgICAgICAgc2VjdGlvbi5jb2RlIC0+IG9iczIuY29kZTsKICAgICAgICAgICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSBhcyBzIHRoZW4gewogICAgICAgICAgICAgICAgcy5jb2RlIGFzIGNvcy0+IG9iczIuc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICAgICAgICAgIH0ic3RhdHVzIjsKICAgICAgICAgICAgc2VjdGlvbi5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW57CiAgICAgICAgICAgICAgICBjb21wb25lbnQuc2VjdGlvbiBhcyBzZWN0aW9uIHRoZW57CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5jb2RlIHdoZXJlIGNvZGUgPSAnMTAxNjAtMCcgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbi5lbnRyeSBhcyBlbnRyeSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24gYXMgc3ViQWRtaW4gLT4gYnVuZGxlLmVudHJ5IGFzIGUxMSwgZTExLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25TdGF0ZW1lbnQnKSBhcyBtZWRpY2F0aW9uc3RhdGVtZW50LCAgbWVkaWNhdGlvbnN0YXRlbWVudC5pZCA9IHV1aWQoKSBhcyB1dWlkMTEsICBlMTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25TdGF0ZW1lbnQvJywgdXVpZDExKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblN0YXRlbWVudCcsIG9iczIucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblN0YXRlbWVudC8nICsgJW1lZGljYXRpb25zdGF0ZW1lbnQuaWQpIHRoZW4gTWVkaWNhdGlvblN0YXRlbWVudChzdWJBZG1pbiwgbWVkaWNhdGlvbnN0YXRlbWVudCwgcGF0aWVudCwgZW5jb3VudGVyLCBidW5kbGUpICJjcmVhdCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iZW50cnkiOwogICAgICAgICAgICAgICAgICAgIH0ic2VjdGlvbkNvZGUiOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uY29kZSB3aGVyZSBjb2RlID0gJzQ4NzY1LTInIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGU0LCBlNC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTQucmVzb3VyY2UgPSBjcmVhdGUoJ0xpc3QnKSBhcyBsaXN0MSwgIGxpc3QxLmlkID0gdXVpZCgpIGFzIHV1aWQ0LCAgZTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0xpc3QvJywgdXVpZDQpLCByZXF1ZXN0LnVybCA9ICdMaXN0Jywgb2JzMi5mb2N1cyA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xpc3QvJyArICVsaXN0MS5pZCkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBsaXN0MS5zdGF0dXMgPSAnY3VycmVudCcgImxpc3RhdHVzIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEubW9kZSA9ICd3b3JraW5nJyAibHN0bW9kIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7ICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDEuZW50cnkgYXMgZW50cnlMaXN0MSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uZW50cnkgYXMgZW50cnkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkuYWN0IGFzIGFjdDEgLT4gYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTUucmVzb3VyY2UgPSBjcmVhdGUoJ0FsbGVyZ3lJbnRvbGVyYW5jZScpIGFzIGFsbGVyZ3ksICBhbGxlcmd5LmlkID0gdXVpZCgpIGFzIHV1aWQ1LCAgZTUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0FsbGVyZ3lJbnRvbGVyYW5jZS8nLCB1dWlkNSksIHJlcXVlc3QudXJsID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZScsIGVudHJ5TGlzdDEuaXRlbSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0FsbGVyZ3lJbnRvbGVyYW5jZS8nICsgJWFsbGVyZ3kuaWQpIHRoZW4gYWxsZXJneUZ1bmN0aW9uKGFjdDEsIGFsbGVyZ3ksIHBhdGllbnQsZW5jb3VudGVyKSAiYWxsZXJneSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJlbnRyeUFsbCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImVudHJ5TGlzdCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0ic2VjdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgfSJjb25kaXRpb25BbGxlcmdpZSI7CiAgICAgICAgICAgICAgICB9InNlY3Rpb24iOwogICAgICAgICAgICB9ICJzdWJTZWN0aW9uIjsKICAgICAgICAgICAgc2VjdGlvbi5lbnRyeSBhcyBlbnRyeSB0aGVuewogICAgICAgICAgICAgICAgZW50cnkub2JzZXJ2YXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUzLCBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ0NvbmRpdGlvbicpIGFzIGNvbmRpdGlvbiwgIGNvbmRpdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Db25kaXRpb24vJywgdXVpZDMpLCByZXF1ZXN0LnVybCA9ICdDb25kaXRpb24nLCBvYnMyLmZvY3VzID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ29uZGl0aW9uLycgKyAlY29uZGl0aW9uLmlkKSB0aGVuIENvbmRpdGlvbkZ1bmN0aW9uKG9ic2VydmF0aW9uICxjb25kaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlKSAiY29uZGl0aW9uIjsgICAgICAgIAogICAgICAgICAgICAgICAgZW50cnkub3JnYW5pemVyIGFzIG9yZ2FuaXplciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTEsIGUxMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTExLnJlc291cmNlID0gY3JlYXRlKCdMaXN0JykgYXMgbGlzdDExLCAgbGlzdDExLmlkID0gdXVpZCgpIGFzIHV1aWQxMSwgIGUxMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTGlzdC8nLCB1dWlkMTEpLCByZXF1ZXN0LnVybCA9ICdMaXN0Jywgb2JzMi5mb2N1cyA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xpc3QvJyArICVsaXN0MTEuaWQpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDExLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBsaXN0MTEuc3RhdHVzID0gJ2N1cnJlbnQnICJsaXN0c3RhdCI7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDExLm1vZGUgPSAnd29ya2luZycgImxpc3RtZCI7CiAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gbGlzdDExLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgICAgICAgICAgICAgIG9yZ2FuaXplciAtPiBsaXN0MTEuZW50cnkgYXMgZW50cnlMaXN0MiB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JnYW5pemVyIC0+YnVuZGxlLmVudHJ5IGFzIGUxMiwgZTEyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTIucmVzb3VyY2UgPSBjcmVhdGUoJ0ZhbWlseU1lbWJlckhpc3RvcnknKSBhcyBmYW1pbHlNZW1iZXIsIGZhbWlseU1lbWJlci5pZCA9IHV1aWQoKSBhcyB1dWlkMTIsICBlMTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0ZhbWlseU1lbWJlckhpc3RvcnkvJywgdXVpZDEyKSwgcmVxdWVzdC51cmwgPSAnRmFtaWx5TWVtYmVySGlzdG9yeScsIGVudHJ5TGlzdDIuaXRlbSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRmFtaWx5TWVtYmVySGlzdG9yeS8nICsgJWZhbWlseU1lbWJlci5pZCkgdGhlbiBGYW1pbHlNZW1iZXJGdW5jdGlvbihvcmdhbml6ZXIsIGZhbWlseU1lbWJlciwgcGF0aWVudCkgImZhbWlseSI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0ib3JnIjsKICAgICAgICAgICAgICAgICAgICB9Ikxpc3QiOwogICAgICAgICAgICAgICAgfSJvcmdhbml6ZXIiOwogICAgICAgICAgICB9ImVudHJ5IjsKICAgICAgICB9IlN0b3JpYUNsaW5pY2ExIjsKICAgICAgICBzZWN0aW9uIHdoZXJlIGNvZGUuY29kZSA9ICczMDk1NC0yJyAtPiBidW5kbGUuZW50cnkgYXMgZTQsIGU0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNC5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnM0LCAgb2JzNC5pZCA9IHV1aWQoKSBhcyB1dWlkNCwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkNCksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczQuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgb2JzNCwgYnVuZGxlKSAiUHJlY2VkZW50aUVzYW1pRXNlZ3VpdGkiOwogICAgICAgIHNlY3Rpb24gd2hlcmUgY29kZS5jb2RlID0gJzI5NTQ4LTUnIC0+ICBidW5kbGUuZW50cnkgYXMgZTUsIGU1LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnM1LCAgb2JzNS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkNSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczUuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgb2JzNSwgYnVuZGxlKSAiRGlhZ25vc2kiOwogICAgfSJlbnRyeU9icyI7CgogICAgc3JjLmFjdCBhcyBhY3QgdGhlbnsKICAgICAgICBzZWN0aW9uIHdoZXJlIGNvZGUuY29kZSA9JzYyMzg3LTYnIC0+IGRSZXBvcnQuZW5jb3VudGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSB0aGVuIHsKICAgICAgICAgICAgYWN0LmNvZGUgLT4gZW5jb3VudGVyLnR5cGUgInR5cGUiOwogICAgICAgICAgICBhY3QuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IGVuY291bnRlci5wZXJpb2QgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IHBlcmlvZC5zdGFydCAgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsc3RhcnQpICJ2YWwiOwogICAgICAgICAgICB9InBlcmlvZCI7CiAgICAgICAgICAgIGFjdCAtPiAgYnVuZGxlLmVudHJ5IGFzIGUxMCwgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ1Byb2NlZHVyZScpIGFzIHByb2NlZHVyZVJlcywgIHByb2NlZHVyZVJlcy5pZCA9IHV1aWQoKSBhcyB1dWlkMTAsICBlMTAuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nLCB1dWlkMTApLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnLCBlbmNvdW50ZXIucmVhc29uUmVmZXJlbmNlID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycgKyAlcHJvY2VkdXJlUmVzLmlkKSB0aGVuewogICAgICAgICAgICAgICAgYWN0IC0+IHByb2NlZHVyZVJlcy5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgICAgICBhY3QgLT4gcHJvY2VkdXJlUmVzLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgYWN0LnN0YXR1c0NvZGUgLT4gcHJvY2VkdXJlUmVzLnN0YXR1cyAic3RhdHVzMSI7CiAgICAgICAgICAgICAgICBhY3Qgd2hlcmUgc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSAtPnByb2NlZHVyZVJlcy5zdGF0dXMgPSAndW5rbm93bicgInN0YXR1czIiOwogICAgICAgICAgICAgICAgYWN0LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsIHRoZW57CiAgICAgICAgICAgICAgICAgICAgZW50cnlSZWwucHJvY2VkdXJlIGFzIHByb2MtPiBidW5kbGUuZW50cnkgYXMgZTksIGU5LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJvY2VkdXJlJykgYXMgcHJvY2VkdXJlMiwgIHByb2NlZHVyZTIuaWQgPSB1dWlkKCkgYXMgdXVpZDksICBlOS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycsIHV1aWQ5KSwgcmVxdWVzdC51cmwgPSAnUHJvY2VkdXJlJywgcHJvY2VkdXJlUmVzLnBhcnRPZiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1Byb2NlZHVyZS8nICsgJXByb2NlZHVyZTIuaWQpIHRoZW4gUHJvY2VkdXJlKHByb2MsIHBhdGllbnQsIGVuY291bnRlciwgcHJvY2VkdXJlMiwgYnVuZGxlKSAicHJvY2VkdXJlUHJlc3RhemlvbmkiOwogICAgICAgICAgICAgICAgICAgIGVudHJ5UmVsLnN1YnN0YW5jZUFkbWluaXN0cmF0aW9uIGFzIHN1YkFkbWluIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOCwgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU4LnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24nKSBhcyBtZWRBZG1pbiwgIG1lZEFkbWluLmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25BZG1pbmlzdHJhdGlvbi8nLCB1dWlkOCksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicsIHByb2NlZHVyZVJlcy5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24vJyArICVtZWRBZG1pbi5pZCkgdGhlbiBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24oc3ViQWRtaW4sIHBhdGllbnQsIGVuY291bnRlciwgbWVkQWRtaW4sIGJ1bmRsZSkgImZhcm1hY1ByZXN0YXppb25pIjsKICAgICAgICAgICAgICAgICAgICBlbnRyeVJlbC5vYnNlcnZhdGlvbiBhcyBlbnRyeVJvYnMgLT4gYnVuZGxlLmVudHJ5IGFzIGU3LCBlNy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTcucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzNywgIG9iczcuaWQgPSB1dWlkKCkgYXMgdXVpZDcsICBlNy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDcpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHByb2NlZHVyZVJlcy5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczcuaWQpIHRoZW4gT2JzZXJ2YXRpb25QcmVzdChlbnRyeVJvYnMsIHBhdGllbnQsIGVuY291bnRlciwgb2JzNywgYnVuZGxlKSAib3NzZXJ2YXppb25pUHJlc3RhemlvbmkiOwogICAgICAgICAgICAgICAgICAgIGVudHJ5UmVsLmFjdCBhcyBhY3QyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNiwgZTYucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU2LnJlc291cmNlID0gY3JlYXRlKCdQcm9jZWR1cmUnKSBhcyBwcm9jZWR1cmUzLCAgcHJvY2VkdXJlMy5pZCA9IHV1aWQoKSBhcyB1dWlkNiwgIGU2LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Qcm9jZWR1cmUvJywgdXVpZDYpLCByZXF1ZXN0LnVybCA9ICdQcm9jZWR1cmUnLCBwcm9jZWR1cmVSZXMucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJvY2VkdXJlLycgKyAlcHJvY2VkdXJlMy5pZCkgdGhlbiBQcm9jZWR1cmUoYWN0MiwgcGF0aWVudCwgZW5jb3VudGVyLCBwcm9jZWR1cmUzLCBidW5kbGUpICJwcm9jZWR1cmVHZW5lcmljaGVQcmVzdGF6aW9uaSI7CiAgICAgICAgICAgICAgICB9IlJlbGF0aW9uc2hpcCI7CiAgICAgICAgICAgIH0gInByb2NlZHVyYU1hZHJlIjsKICAgICAgICB9IlByZXN0YXppb25pIjsKICAgICAgICBzZWN0aW9uIHdoZXJlIGNvZGUuY29kZSA9JzgwNjE1LTgnIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEyLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEyLCAgb2JzMTIuaWQgPSB1dWlkKCkgYXMgdXVpZDEyLCAgZTEyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMTIpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMxMi5pZCkgdGhlbiBPYnNlcnZhdGlvbihhY3QsIHBhdGllbnQsIGVuY291bnRlciwgb2JzMTIsIGJ1bmRsZSkgIkZvbGxvd3VwIjsKICAgIAogICAgfSJlbnRyeUFjdCI7CgogICAgLy9zcmMuc3Vic3RhbmNlQWRtaW5pc3RyYXRpb24KICAgIHNyYy5zdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiBhcyBzdWJzdGFuY2VhZG1pbiB0aGVuewogICAgICAgIHNlY3Rpb24gd2hlcmUgY29kZS5jb2RlID0nOTMzNDEtNicgLT4gYnVuZGxlLmVudHJ5IGFzIGU2LCBlNi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTYucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25SZXF1ZXN0JykgYXMgbWVkcmUxLCAgbWVkcmUxLmlkID0gdXVpZCgpIGFzIHV1aWQ2LCAgZTYuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycsIHV1aWQ2KSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblJlcXVlc3QnLCBkUmVwb3J0LmJhc2VkT24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZHJlMS5pZCkgdGhlbiBNZWRpY2F0aW9uUmVxdWVzdChzdWJzdGFuY2VhZG1pbiwgcGF0aWVudCwgZW5jb3VudGVyLG1lZHJlMSxidW5kbGUpIlRlcmFwaWFGYXJtYWNvbG9naWNhQ29uc2lnbGlhdGEiOwogICAgfSJzdWJzdGFuY2VhZG1pbiI7CgogICAgc2VjdGlvbiB3aGVyZSBzZWN0aW9uLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewoKCiAgICAgICAgc2VjdGlvbiB3aGVyZSAoY29kZS5jb2RlID0gJzQ4NzY1LTInKSAtPiBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMxLCAgb2JzMS5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgZFJlcG9ydC5yZXN1bHQgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEuaWQpIHRoZW57IAogICAgICAgICAgICBzZWN0aW9uLT4gb2JzMS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgICJyZWZlcmVuY2UiOyAgCiAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMS5zdGF0dXMgPSAnZmluYWwnICJTVGF0dXNvYnNlIjsKICAgICAgICAgICAgc2VjdGlvbi5jb2RlIC0+IG9iczEuY29kZTsKICAgICAgICAgICAgc2VjdGlvbi5zdGF0dXNDb2RlIGFzIHMgdGhlbiB7CiAgICAgICAgICAgICAgICBzLmNvZGUgYXMgY29zLT4gb2JzMS5zdGF0dXMgPSB0cmFuc2xhdGUoY29zLCAnI09CU3N0YXR1cycsICdjb2RlJykgImNvZGVTIjsKICAgICAgICAgICAgfSJzdGF0dXMiOwogICAgICAgICAgICAgICAgc2VjdGlvbi50ZXh0IGFzIHRleHQgIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU1LnJlc291cmNlID0gY3JlYXRlKCdBbGxlcmd5SW50b2xlcmFuY2UnKSBhcyBhbGxlcmd5LCAgYWxsZXJneS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9BbGxlcmd5SW50b2xlcmFuY2UvJywgdXVpZDUpLCByZXF1ZXN0LnVybCA9ICdBbGxlcmd5SW50b2xlcmFuY2UnLCBvYnMxLmZvY3VzID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBhbGxlcmd5LnBhdGllbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBhbGxlcmd5LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICAicmVmZXJlbmNlIjsgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGFsbGVyZ3kuY2xpbmljYWxTdGF0dXMgYXMgY2xpbmljYWxTdGF0dXMgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBjbGluaWNhbFN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBjb2RpbmcuY29kZSA9ICAnYWN0aXZlJyAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2FsbGVyZ3lpbnRvbGVyYW5jZS1jbGluaWNhbCcgInN5c3RlbSI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0ic3RhdHVzIjsgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB0ZXh0IC0+IGFsbGVyZ3kubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgYXMgdC0+IG5vdGUudGV4dCA9IGNyZWF0ZSgnc3RyaW5nJykgYXMgdGV4dE5vdGUgdGhlbiBFRHN0cmluZyh0LHRleHROb3RlKSAibm90ZSI7CiAgICAgICAgICAgICAgICAgICAgfSAibmFycmF0aXZlIjsgCiAgICAgICAgICAgICAgICB9ImFsbGVyZ3l0ZXh0IjsKICAgICAgICB9ImFsbGVyZ3lBY3QiOwoKCgogICAgICAgIHNlY3Rpb24gd2hlcmUgKGNvZGUuY29kZSA9ICc5MzM0MS02JykgdGhlbnsKICAgICAgICAgICAgc2VjdGlvbi50ZXh0IGFzIHRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxMywgZTEzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25SZXF1ZXN0JykgYXMgb2JzMTMsICBvYnMxMy5pZCA9IHV1aWQoKSBhcyB1dWlkMTMsICBlMTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycsIHV1aWQxMyksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25SZXF1ZXN0JywgZFJlcG9ydC5iYXNlZE9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblJlcXVlc3QvJyArICVvYnMxMy5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICBzZWN0aW9uIC0+IG9iczEzLnN1YmplY3QgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5lbmNvdW50ZXIgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5pbnRlbnQgPSAnb3JkZXInICJpbnRlbnQiOwogICAgICAgICAgICAgICAgc2VjdGlvbiB3aGVyZSBzdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIC0+IG9iczEzLnN0YXR1cyA9ICd1bmtub3duJyAic3QiOwogICAgICAgICAgICAgICAgdGV4dCAtPiBvYnMxMy5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICB0ZXh0IGFzIHQtPiBub3RlLnRleHQgPSBjcmVhdGUoJ3N0cmluZycpIGFzIHRleHROb3RlIHRoZW4gRURzdHJpbmcodCx0ZXh0Tm90ZSkgIm5vdGUiOwogICAgICAgICAgICAgICAgfSJub3RlIjsgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5tZWRpY2F0aW9uID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjb2RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBjb2RlLnRleHQgPSAnc3RyaW5nJyAic3RyaW5nIjsgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgfSJ0eHRzZWMiOwogICAgICAgIH0iTWVkaWNhdGlvblJlcXVlc3QiOwoKICAgICAgICBzZWN0aW9uIHdoZXJlIChjb2RlLmNvZGUgPSAnNTUxMTAtMScpLm5vdCgpIGFuZCAoY29kZS5jb2RlID0gJzkzMzQxLTYnKS5ub3QoKSBhbmQgKGNvZGUuY29kZSA9ICc0ODc2NS0yJykubm90KCkgdGhlbnsKICAgICAgICAgICAgICAgIHNlY3Rpb24udGV4dCBhcyB0ZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTMsIGUxMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEzLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEzLCAgb2JzMTMuaWQgPSB1dWlkKCkgYXMgdXVpZDEzLCAgZTEzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMTMpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGRSZXBvcnQucmVzdWx0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMxMy5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICAgICAgICAgICAgICAgICAgc2VjdGlvbiAtPiBvYnMxMy5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgIAogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTMuc3RhdHVzID0gJ3ByZWxpbWluYXJ5JyAib2Jzc3QiOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24uY29kZSAtPiBvYnMxMy5jb2RlICJvYnNjZGUiOwogICAgICAgICAgICAgICAgICAgIHNlY3Rpb24gLT4gb2JzMTMuc3RhdHVzID0gJ2ZpbmFsJyAic3RhdHVzUyI7CiAgICAgICAgICAgICAgICAgICAgdGV4dCAtPiBvYnMxMy5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dCBhcyB0LT4gbm90ZS50ZXh0ID0gY3JlYXRlKCdzdHJpbmcnKSBhcyB0ZXh0Tm90ZSB0aGVuIEVEc3RyaW5nKHQsdGV4dE5vdGUpICJub3RlIjsKICAgICAgICAgICAgICAgICAgICB9ICJuYXJyYXRpdmUiOyAgICAKICAgICAgICAgICAgICAgIH0idHh0c2VjIjsKICAgICAgICAgIH0gIk5vbkNvbmNsdXNpb24iOwogICAgICAgIHNlY3Rpb24gd2hlcmUoY29kZS5jb2RlID0gJzU1MTEwLTEnKSB0aGVuIHsKICAgICAgICAgICAgc2VjdGlvbi50ZXh0IGFzIHQgLT4gZFJlcG9ydC5jb25jbHVzaW9uID0gY3JlYXRlKCdzdHJpbmcnKSAgYXMgdGV4dENvbmNsdXNpb24gdGhlbiBFRHN0cmluZyh0LHRleHRDb25jbHVzaW9uKSAiY29uYyI7CiAgICAgICAgfSJjb25jbHVzaW9uIjsKICAgIH0id2hlcmVDb25kIjsKfQoKZ3JvdXAgT2JzZXJ2YXRpb24oc291cmNlIGNkYSA6IG9ic2VydmF0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBvYiA6IE9ic2VydmF0aW9uLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7ICAKICAgIGNkYS0+b2Iuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgY2RhLT5vYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgCiAgICBjZGEuY29kZSAtPiBvYi5jb2RlOwogICAgY2RhIC0+IG9iLnN0YXR1cyA9ICdmaW5hbCcgIlN0YXRzIjsKICAgIC8vdmFsdWUgZGF0YXR5cGUKICAgIGNkYS52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogICAgY2RhLnZhbHVlOlNUIGFzIHN0IC0+IG9iLnZhbHVlID1jcmVhdGUoJ3N0cmluZycpLCAgb2IudmFsdWU9IChzdC5kYXRhU3RyaW5nKSAidmFsdWUiOwogICAgY2RhLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CiAgICBjZGEudmFsdWU6Q0UgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAicmVmZXJlbmNlIjsKICAgICAgICB9Im9yaWdpbmFsVGV4dCI7CiAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICB9ICJjb2RlIjsKICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgICAgICB9ImNvZGluZyI7CiAgICAgIH0idmFsIjsKICAgICAgY2RhLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInJlZmVyZW5jZSI7CiAgICAgICAgfSJvcmlnaW5hbFRleHQiOwogICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgfSAiY29kZSI7CiAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9ICJ0cmFuc2xhdGlvbiI7CiAgICAgICAgfSJjb2RpbmciOwogICAgICB9InZhbCI7CiAgICBjZGEudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgIH0icXVhbnRpdHkiOwogICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgIC8vCiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gb2IuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMSI7CiAgICBjZGEuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKICAgIGNkYS50ZXh0IGFzIHRleHQgLT4gb2Iubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgIH0gIm5vdGUiOwogICAgY2RhLnN0YXR1c0NvZGUgYXMgcyB0aGVuIHsKICAgICAgICBzLmNvZGUgYXMgY29zLT4gb2Iuc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICB9InN0YXR1cyI7Cn0gIAoKCmdyb3VwIENvbmRpdGlvbkZ1bmN0aW9uIChzb3VyY2Ugc3JjOiBjZGFFbGVtZW50LCB0YXJnZXQgdGd0OiBDb25kaXRpb24sIHRhcmdldCBwYXRpZW50IDogcGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IGVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSkgewogICAgc3JjLmNvZGUgLT4gdGd0LmNhdGVnb3J5OwogICAgc3JjIC0+IHRndC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICBzcmMgLT4gdGd0LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKICAgIHNyYy5zdGF0dXNDb2RlIGFzIHN0c2NvZGUgLT4gdGd0LnZlcmlmaWNhdGlvblN0YXR1cyBhcyB2ZXJpZnN0YXR1cyB0aGVuIHsgCiAgICAgICAgc3RzY29kZSBhcyBjb2RlUyAtPiB2ZXJpZnN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgY29kZVMuY29kZSAtPiBjb2RpbmcuY29kZSA9ICdjb25maXJtZWQnICJjb2RlIjsKICAgICAgICAgICAgY29kZVMgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vY29uZGl0aW9uLXZlci1zdGF0dXMnICJzeXN0ZW0iOwogICAgICAgICAgICBjb2RlUyAtPiBjb2RpbmcuZGlzcGxheT0gY2FzdCgnQ29uZmlybWVkJywgJ3N0cmluZycpICJkaXNwbGF5IjsKICAgIH0iY29kaW5nIjsgICAgCiAgICB9InZlcmlmc3RhdHVzIjsKICAgIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwogICAgc3JjLnZhbHVlIC0+IHRndC5jb2RlOwogICAgc3JjLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW57CiAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAub2JzZXJ2YXRpb24gYXMgb2JzZW50cnkgdGhlbnsKICAgICAgICAgICAgb2JzZW50cnkuY29kZSB3aGVyZSBjb2RlID0nODkyNjEtMicgdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VudHJ5IC0+IHRndC5ldmlkZW5jZSBhcyBldmlkZW5jZSwgYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzeSwgIG9ic3kuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIGV2aWRlbmNlLmRldGFpbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzeS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlbnRyeSwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnN5LCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgIH0ib2JzZXJ2YXRpb24iOwoKICAgICAgICAgICAgb2JzZW50cnkuY29kZSB3aGVyZSBjb2RlID0gJzMzOTk5LTQnIHRoZW57CiAgICAgICAgICAgICAgICBvYnNlbnRyeS52YWx1ZSBhcyB2YWx1ZSAtPiB0Z3QuY2xpbmljYWxTdGF0dXMgYXMgY2xpbmljYWxzdGF0dXMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgYXMgdmFsIC0+IGNsaW5pY2Fsc3RhdHVzLmNvZGluZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICB2YWwgd2hlcmUoY29kZSA9ICdMQTkwNDEtMCcpIC0+IGNvZGluZy5jb2RlID0gICdyZXNvbHZlZCcgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwgd2hlcmUoY29kZSA9ICdMQTE4NjMyLTInKSAtPiBjb2RpbmcuY29kZSA9ICAnaW5hY3RpdmUnICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsIHdoZXJlKGNvZGUgPSAnTEExNjY2Ni0yJykgLT4gY29kaW5nLmNvZGUgPSAgJ2FjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9Db2RlU3lzdGVtL2NvbmRpdGlvbi1jbGluaWNhbCcgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5LT4gY29kaW5nLmRpc3BsYXk9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpICJkaXNwbGF5IjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7ICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvYnNlbnRyeS50ZXh0IGFzIHRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IGNsaW5pY2Fsc3RhdHVzLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidGV4dCI7CiAgICAgICAgICAgICAgICAgICAgfSJ0ZXh0IjsKICAgICAgICAgICAgICAgIH0iY2xpbmljYWxzdGF0dXMiOwogICAgICAgICAgICB9ImNsaW5pY2FsU3RhdHVzMiI7CiAgICAgICAgICAgIAogICAgICAgIH0iRW50cnlSZWxPYnNldmF0aW9uIjsKICAgIH0gImVudHJ5UiI7Cn0KCmdyb3VwIFByb2NlZHVyZShzb3VyY2Ugc3JjIDogcHJvY2VkdXJlLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXI6IEVuY291bnRlciwgdGFyZ2V0IHRndDogUHJvY2VkdXJlLCB0YXJnZXQgYnVuZGxlOiBCdW5kbGUpewogICAgc3JjIC0+IHRndC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICAKICAgIHNyYyAtPiB0Z3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICBzcmMuc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzICJzdGF0dXMxIjsKICAgIHNyYyB3aGVyZSBzdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIC0+dGd0LnN0YXR1cyA9ICd1bmtub3duJyAic3RhdHVzMiI7CiAgICBzcmMuaWQgLT4gdGd0LmlkZW50aWZpZXIgImlkIjsKICAgIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAodmFsdWUuZXhpc3RzKCkpIC0+IHRndC5wZXJmb3JtZWQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUxIjsKICAgIHNyYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgd2hlcmUgKGxvdy5leGlzdHMoKSkgLT4gdGd0LnBlcmZvcm1lZCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlUGVyaW9kIjsKCiAgICBzcmMubWV0aG9kQ29kZSBhcyBtZXRob2RDb2RlIC0+IHRndC5leHRlbnNpb24gYXMgZXh0MSB0aGVuIElUTWV0aG9kRXh0KG1ldGhvZENvZGUsIGV4dDEpOwogICAgCiAgICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbnsKICAgICAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIC0+IHRndC5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIHRoZW57CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5wbGF5aW5nRGV2aWNlIGFzIGRldmljZSAtPiBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnRGV2aWNlJykgYXMgZGV2aWNlUmVzLCAgZGV2aWNlUmVzLmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ0RldmljZScsIHBlcmZvcm1lci5hY3RvciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZVJlcy5pZCkgdGhlbnsKICAgICAgICAgICAgICAgIGRldmljZS5tYW51ZmFjdHVyZXJNb2RlbE5hbWUgYXMgbWFudWZhY3R1cmVyTW9kZWxOYW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgbWFudWZhY3R1cmVyTW9kZWxOYW1lLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXlOYW1lIC0+IGRldmljZVJlcy5tYW51ZmFjdHVyZXIgPWNhc3QoZGlzcGxheU5hbWUsJ3N0cmluZycpICJtYW51ZiI7CiAgICAgICAgICAgICAgICB9Im1hbnVmYWN0dXJlciI7CiAgICAgICAgICAgICAgICBkZXZpY2UuY29kZSAtPiBkZXZpY2VSZXMudHlwZSAiY29kZSI7CiAgICAgICAgICAgIH0iZGV2aWNlIjsKICAgICAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgICB9InBhcnRpY2lwYW50IjsKCiAgICBzcmMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSIHRoZW57CiAgICAgICAgZW50cnlSLm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMywgZTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUzLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9iczEsICBvYnMxLmlkID0gdXVpZCgpIGFzIHV1aWQzLCAgZTMuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQzKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCB0Z3QucGFydE9mID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnMxLmlkKSB0aGVuIE9ic2VydmF0aW9uKG9ic2VydmF0aW9uLCBwYXRpZW50LCBlbmNvdW50ZXIsIG9iczEsIGJ1bmRsZSkgIlBhcmFtZXRyaSI7CiAgICAgICAgZW50cnlSLmFjdCBhcyBhY3QgdGhlbnsKICAgICAgICAgICAgYWN0LnRleHQgYXMgdGV4dCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInRleHQiOwogICAgICAgICAgICB9Im5vdGUiOwogICAgICAgIH0iYWN0IjsgCiAgICB9ImVudHJ5UmVsUHJvY2VkdXJlIjsKfQoKZ3JvdXAgSVRNZXRob2RFeHQoc291cmNlIHNyYywgdGFyZ2V0IGV4dCkgewogICAgc3JjIC0+IGV4dC51cmwgPSAnaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL3Byb2NlZHVyZS1tZXRob2QnICJ1cmwiOwogICAgc3JjIC0+IGV4dC52YWx1ZSA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgdmFsdWUgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChzcmMsIHZhbHVlKSAidmFsdWUiOwp9Cgpncm91cCBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24oc291cmNlIHNyYyA6IHN1YnN0YW5jZUFkbWluaXN0cmF0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXI6IEVuY291bnRlciwgdGFyZ2V0IHRndDogTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLCB0YXJnZXQgYnVuZGxlOiBCdW5kbGUpewogICAgCiAgICBzcmMgLT4gdGd0LnN1YmplY3QgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgc3JjIC0+IHRndC5jb250ZXh0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgIAogICAgc3JjLnN0YXR1c0NvZGUgLT4gdGd0LnN0YXR1cyAic3RhdHVzMSI7CiAgICBzcmMgd2hlcmUgc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSAtPnRndC5zdGF0dXMgPSAndW5rbm93bicgInN0YXR1czIiOwogICAgc3JjLmlkIC0+IHRndC5pZGVudGlmaWVyICJpZCI7CiAgICBzcmMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gdGd0LmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAobG93LmV4aXN0cygpKSAtPiB0Z3QuZWZmZWN0aXZlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwogICAgCiAgICBzcmMgLT4gdGd0LmRvc2FnZSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICBzcmMucm91dGVDb2RlIC0+IGRvc2FnZS5yb3V0ZSAicm91dGUiOwogICAgICAgIHNyYy5yZXBlYXROdW1iZXIgYXMgcmVwZWF0TnVtYmVyIC0+IGRvc2FnZS5yYXRlID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIHZhbHVlIHRoZW4gUFFRdWFudGl0eShyZXBlYXROdW1iZXIsdmFsdWUpICJyZXBRIjsKICAgICAgICBzcmMuYXBwcm9hY2hTaXRlQ29kZSAtPiBkb3NhZ2Uuc2l0ZSAic2l0ZSI7CiAgICAgICAgc3JjLnRhcmdldFNpdGVDb2RlIC0+IGRvc2FnZS5zaXRlICJzaXRlIjsKICAgIH0iZG9zYWdlIjsKCiAgICBzcmMuY29uc3VtYWJsZSBhcyBjb25zdW1hYmxlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb24nKSBhcyBtZWRpY2F0aW9uLCAgbWVkaWNhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvbicsIHRndC5tZWRpY2F0aW9uID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyBtZWRyZWYsICBtZWRyZWYucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbi8nICsgJW1lZGljYXRpb24uaWQpIHRoZW4gTWVkaWNhdGlvbihzcmMsbWVkaWNhdGlvbixwYXRpZW50LGJ1bmRsZSkgIm1lZGljYXRpb24iOwogICAgCiAgICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbnsKICAgICAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIC0+IHRndC5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIHRoZW57CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5kZXZpY2UgYXMgZGV2aWNlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMiwgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2VSZXMsICBkZXZpY2VSZXMuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSAnRGV2aWNlJywgcGVyZm9ybWVyLmFjdG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycgKyAlZGV2aWNlUmVzLmlkKSB0aGVuewogICAgICAgICAgICAgICAgZGV2aWNlLk1hbnVmYWN0dXJlck1vZGVsTmFtZSBhcyBNYW51ZmFjdHVyZXJNb2RlbE5hbWUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBNYW51ZmFjdHVyZXJNb2RlbE5hbWUuY29kZSAtPiBkZXZpY2VSZXMubWFudWZhY3R1cmVyICJtYW51ZiI7CiAgICAgICAgICAgICAgICB9Im1hbnVmYWN0dXJlciI7CiAgICAgICAgfSJkZXZpY2UiOwogICAgICAgIH0icGFydGljaXBhbnRSb2xlIjsKICAgIH0icGFydGljaXBhbnQiOwoKICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVIgdGhlbnsKICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gLT4gYnVuZGxlLmVudHJ5IGFzIGUzLCBlMy5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzMSwgIG9iczEuaWQgPSB1dWlkKCkgYXMgdXVpZDMsICBlMy5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDMpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicsIHRndC5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9iczEuaWQpIHRoZW4gT2JzZXJ2YXRpb24ob2JzZXJ2YXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgb2JzMSwgYnVuZGxlKSAiUGFyYW1ldHJpIjsKICAgICAgICBlbnRyeVIuYWN0IGFzIGFjdCB0aGVuIHsKICAgICAgICAgICAgYWN0LnRleHQgYXMgdGV4dCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UgLT4gbm90ZS50ZXh0ID0gKHJlZmVyZW5jZS52YWx1ZSkgInRleHQiOwogICAgICAgICAgICB9Im5vdGUiOwogICAgICAgIH0iYWN0IjsgCiAgICB9ImVudHJ5UmVsTWVkaWNhdGlvbiI7CgogICAgc3JjIHdoZXJlIChzcmMuZG9zZVF1YW50aXR5LmV4aXN0cygpIG9yIHNyYy5yYXRlUXVhbnRpdHkuZXhpc3RzKCkpIC0+ICBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uUmVxdWVzdCcpIGFzIG1lZGljYXRpb25ScSwgIG1lZGljYXRpb25ScS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ01lZGljYXRpb25SZXF1ZXN0Jyx0Z3QucmVxdWVzdCAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZGljYXRpb25ScS5pZCkgdGhlbiBNZWRpY2F0aW9uUmVxdWVzdChzcmMsIHBhdGllbnQsIGVuY291bnRlcixtZWRpY2F0aW9uUnEsYnVuZGxlKSAibWVkUmVxdSI7CgogICAgc3JjLnRleHQgYXMgdGV4dCAtPiB0Z3Qubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgdGV4dCAtPiBub3RlLnRleHQgInRleHQiOwogICAgfSJub3RlIjsKfQoKZ3JvdXAgT2JzZXJ2YXRpb25QcmVzdChzb3VyY2Ugc3JjIDogb2JzZXJ2YXRpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IHRndCA6IE9ic2VydmF0aW9uLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7ICAKICAgIHNyYyAtPiB0Z3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgIAogICAgCiAgICBzcmMgLT4gdGd0LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOwogICAgCiAgICBzcmMuc3RhdHVzQ29kZSBhcyBzIHRoZW4gewogICAgICAgIHMuY29kZSBhcyBjb3MtPiB0Z3Quc3RhdHVzID0gdHJhbnNsYXRlKGNvcywgJyNPQlNzdGF0dXMnLCAnY29kZScpICJjb2RlUyI7CiAgICB9InN0YXR1cyI7CiAgICAKICAgIHNyYy5pZCAtPiB0Z3QuaWRlbnRpZmllciAiaWQiOwogICAgc3JjLmNvZGUgLT4gdGd0LmNvZGUgImNvZGUiOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAodmFsdWUuZXhpc3RzKCkpIC0+IHRndC5wZXJmb21lZCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTEiOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB3aGVyZSAobG93LmV4aXN0cygpKSAtPiB0Z3QucGVyZm9tZWQgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHZhbHVlIHRoZW4gSVZMVFNQZXJpb2QoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CgogICAgc3JjLm1ldGhvZENvZGUgLT4gdGd0Lm1ldGhvZDsKCiAgICBzcmMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgdGhlbnsKICAgICAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIHRoZW57CiAgICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS5kZXZpY2UgYXMgZGV2aWNlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMiwgZTIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUyLnJlc291cmNlID0gY3JlYXRlKCdEZXZpY2UnKSBhcyBkZXZpY2VSZXMsICBkZXZpY2VSZXMuaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRGV2aWNlLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSAnRGV2aWNlJywgdGd0LmRldmljZSA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0RldmljZS8nICsgJWRldmljZVJlcy5pZCkgdGhlbnsKICAgICAgICAgICAgICAgIGRldmljZS5NYW51ZmFjdHVyZXJNb2RlbE5hbWUgYXMgTWFudWZhY3R1cmVyTW9kZWxOYW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgTWFudWZhY3R1cmVyTW9kZWxOYW1lLmNvZGUgLT4gZGV2aWNlUmVzLm1hbnVmYWN0dXJlciAibWFudWYiOwogICAgICAgICAgICAgICAgfSJtYW51ZmFjdHVyZXIiOwogICAgICAgICAgICB9ImRldmljZSI7CiAgICAgICAgfSJwYXJ0aWNpcGFudFJvbGUiOwogICAgfSJwYXJ0aWNpcGFudCI7CgogICAgc3JjLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgIGVudHJ5Ui5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbiAtPiBidW5kbGUuZW50cnkgYXMgZTMsIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMy5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnMxLCAgb2JzMS5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMyksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgdGd0Lmhhc01lbWJlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzMS5pZCkgdGhlbiBPYnNlcnZhdGlvbihvYnNlcnZhdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLCBvYnMxLCBidW5kbGUpICJQYXJhbWV0cmkiOwogICAgICAgIGVudHJ5Ui5hY3QgYXMgYWN0IHRoZW57CiAgICAgICAgICAgIGFjdC50ZXh0IGFzIHRleHQgLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgICAgICAgICAgfSJub3RlIjsKICAgICAgICB9ImFjdCI7IAogICAgfSJlbnRyeVJlbE9zc2VydmF6aW9uaSI7Cn0gICAKCmdyb3VwIE1lZGljYXRpb25SZXF1ZXN0KHNvdXJjZSBzcmMgOiBzdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgZW5jb3VudGVyOiBFbmNvdW50ZXIsIHRhcmdldCB0Z3Q6IE1lZGljYXRpb25SZXF1ZXN0LCB0YXJnZXQgYnVuZGxlOiBCdW5kbGUpewogICAgLy9kZWZhdWx0ICArIG1hbmRhdG9yeQogICAgc3JjIC0+IHRndC5zdWJqZWN0ID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgIHNyYyAtPiB0Z3QuZW5jb3VudGVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYyAtPiB0Z3QuaW50ZW50ID0gJ29yZGVyJyAiaW50ZW50IjsKICAgIHNyYyB3aGVyZSBzdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIC0+IHRndC5zdGF0dXMgPSAndW5rbm93bicgInN0IjsKICAgIHNyYy5zdGF0dXNDb2RlIGFzIHNjIHRoZW4gewogICAgICAgIHNjLmNvZGUgYXMgY29zLT4gdGd0LnN0YXR1cyA9IHRyYW5zbGF0ZShjb3MsICcjTWVkaWNhdGlvblN0YXR1c01hcCcsICdjb2RlJykgImNvZGVTIjsKICAgIH0ic3RhdHVzIjsKICAgIC8vCiAgICBzcmMudGV4dCBhcyB0eHQgLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgIHR4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ0ZXh0IjsKICAgIH0ibm90ZSI7CgogICAgc3JjLmVmZmVjdGl2ZVRpbWU6IElWTF9UUyBhcyBlZmYgLT4gdGd0LmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICBlZmYgLT4gZG9zYWdlLnRpbWluZyA9IGNyZWF0ZSgnVGltaW5nJykgYXMgdGltaW5nIHRoZW4gewogICAgICAgICAgZWZmIC0+IHRpbWluZy5yZXBlYXQgYXMgcmVwIHRoZW4gewogICAgICAgICAgICBlZmYgYXMgZWZmIHdoZXJlICh2YWx1ZS5leGlzdHMoKSkgLT4gcmVwLmJvdW5kcyA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgICAgIGVmZiBhcyBlZmYgd2hlcmUgKGxvdy5leGlzdHMoKSkgLT4gcmVwLmJvdW5kcyA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgdmFsdWUgdGhlbiBJVkxUU1BlcmlvZChlZmYsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwogICAgICAgICAgfSJyZXAiOwogICAgICAgIH0idGltaW5nIjsKICAgICAgfSJwZXJpb2QiOwoKICAgICAgc3JjLmVmZmVjdGl2ZVRpbWU6IEVJVkxfVFMgYXMgZWZmZSAtPiB0Z3QuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSB0aGVuewogICAgICAgIGVmZmUgLT4gZG9zYWdlLnRpbWluZyA9IGNyZWF0ZSgnVGltaW5nJykgYXMgdGltaW5nIHRoZW4gewogICAgICAgICAgZWZmZSAtPiB0aW1pbmcucmVwZWF0IGFzIHJlcCB0aGVuIHsKICAgICAgICAgICAgZWZmZS5ldmVudENvZGUgYXMgZXYgLT4gcmVwLndoZW4gPSAoZXYuY29kZSk7CiAgICAgICAgICB9InJlcCI7CiAgICAgICAgfSJ0aW1pbmciOwogICAgICB9InBlcmlvZCI7CgogICAgICBzcmMuZWZmZWN0aXZlVGltZTogSVZMX1RTIGFzIGVmZiAtPiB0Z3QuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSwgZG9zYWdlLnRpbWluZyA9IGNyZWF0ZSgnVGltaW5nJykgYXMgdGltaW5nLCB0aW1pbmcuZXZlbnQgPSAoZWZmLnZhbHVlKSAidGltIjsKCiAgICAgIHNyYy5lZmZlY3RpdmVUaW1lOiBQSVZMX1RTIGFzIGVmZiAtPiB0Z3QuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSB0aGVuewogICAgICAgIGVmZiAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcgdGhlbiBwZXJpb2RUaW1pbmcoZWZmLHRpbWluZykgImNvZCI7CiAgICAgIH0iZWZmIjsKICAgIAogICAgc3JjIHdoZXJlIChzcmMuZG9zZVF1YW50aXR5LmV4aXN0cygpIG9yIHNyYy5yYXRlUXVhbnRpdHkuZXhpc3RzKCkpIHRoZW57CiAgICAgICAgc3JjIC0+ICB0Z3QuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZUluc3RydWN0aW9uIHRoZW57CiAgICAgICAgICAgIHNyYy5kb3NlUXVhbnRpdHkgYXMgZG9zZVF1YW50IHRoZW57CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgICAgICAgb3QucmVmZXJlbmNlIC0+IGRvc2FnZUluc3RydWN0aW9uLnRleHQ7CiAgICAgICAgICAgICAgICB9Im90IjsgIAogICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGRvc2FnZUluc3RydWN0aW9uLmRvc2VBbmRSYXRlIGFzIGRvc2FnZVJhdGUgdGhlbnsKICAgICAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkb3NhZ2VSYXRlLmRvc2UgPSBjcmVhdGUoJ1JhbmdlJykgYXMgZCB0aGVuewogICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGQubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGwgdGhlbnsKICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQubG93IGFzIGxvIC0+IGwudmFsdWUgPSAobG8udmFsdWUpOyAKICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgICB9ImxvdyI7CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZC5oaWdoID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGggdGhlbnsKICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnZhbHVlID0gKGhpLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnVuaXQgPSAoaGkudW5pdCk7IAogICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgfSJkIjsKICAgICAgICAgICAgfSJkb3NhZ2VSYXRlIjsKICAgICAgICB9ICJkb3NlUXVhbnRpdHkiOwogICAgICAgICAgICBzcmMucmF0ZVF1YW50aXR5IGFzIHJhdGVRdWFudGl0eSB0aGVuewogICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5Lm9yaWdpbmFsVGV4dCBhcyBvdCB0aGVuewogICAgICAgICAgICAgICAgICAgIG90LnJlZmVyZW5jZSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi50ZXh0OwogICAgICAgICAgICAgICAgfSJvdCI7CiAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24uZG9zZUFuZFJhdGUgYXMgZG9zYWdlUmF0ZSB0aGVuewogICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eSAtPiBkb3NhZ2VSYXRlLnJhdGUgPSBjcmVhdGUoJ1JhbmdlJykgYXMgZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmxvdyBhcyBsbyAtPiBsLnZhbHVlID0gKGxvLnZhbHVlKTsgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkuaGlnaCBhcyBoaSAtPiBoLnZhbHVlID0gKGhpLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGVRdWFudGl0eS5oaWdoIGFzIGhpIC0+IGgudW5pdCA9IChoaS51bml0KTsgCiAgICAgICAgICAgICAgICAgICAgICAgIH0iaGlnaCI7CiAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgIH0iZG9zYWdlUmF0ZSI7CgogICAgICAgICAgICB9InJhdGUiOwogICAgICAgIAogICAgICAgIHNyYy5yb3V0ZUNvZGUgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24ucm91dGUgInJvdXRlIjsKICAgICAgICBzcmMuYXBwcm9hY2hTaXRlQ29kZSAtPiBkb3NhZ2VJbnN0cnVjdGlvbi5zaXRlICJzaXRlIjsKICAgICAgICBzcmMudGFyZ2V0U2l0ZUNvZGUgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24uc2l0ZSAic2l0ZSI7CgogICAgICAgIH0iZG9zYWdlSW4iOwogICAgfSJjb25kaXRpb24iOwoKICAgIHNyYy5jb25zdW1hYmxlIGFzIGNvbnN1bWFibGUgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvbicpIGFzIG1lZGljYXRpb24sICBtZWRpY2F0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uJywgdGd0Lm1lZGljYXRpb24gPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIG1lZHJlZiwgIG1lZHJlZi5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycgKyAlbWVkaWNhdGlvbi5pZCkgdGhlbiBNZWRpY2F0aW9uKHNyYyxtZWRpY2F0aW9uLHBhdGllbnQsYnVuZGxlKSAibWVkaWNhdGlvbiI7ICAgICAgIAogICAgc3JjLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwIHRoZW57CiAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAuc3VwcGx5IGFzIHN1cHBseSAtPiB0Z3QuZGlzcGVuc2VSZXF1ZXN0IGFzIGRpc3BlbnNlUmVxdWVzdCB0aGVuewogICAgICAgICAgICBzdXBwbHkucXVhbnRpdHkgYXMgcXVhbnRpdHlDREEgLT4gZGlzcGVuc2VSZXF1ZXN0LnF1YW50aXR5IGFzIHF1YW50aXR5RkhJUiB0aGVuewogICAgICAgICAgICAgICAgcXVhbnRpdHlDREEgLT4gcXVhbnRpdHlGSElSLnZhbHVlID0gKHF1YW50aXR5Q0RBLnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICB9InF1YW50aXR5IjsKICAgICAgICB9InN1cHBseSI7CiAgICB9ImVudHJ5UiI7CgogICAgc3JjLnBhcnRpY2lwYW50IGFzIHBhcnRpY2lwYW50IHRoZW57CiAgICAgICAgcGFydGljaXBhbnQgdGhlbiBQcmFjdGl0aW9uZXIocGFydGljaXBhbnQsIHRndCwgYnVuZGxlKSAiZnVuY3Rpb24iOyAKICAgICAgICBwYXJ0aWNpcGFudC5lZmZlY3RpdmVUaW1lIC0+IHRndC5hdXRob3JlZE9uICJhdXRvciI7IAogICAgfSJQYXJ0ZWNpcGFudCI7Cn0KICAgIApncm91cCBwZXJpb2RUaW1pbmcoc291cmNlIGVmZmVjdGl2ZVRpbWU6IFBJVkxfVFMsIHRhcmdldCB0aW1pbmc6IFRpbWluZyl7CiAgICBlZmZlY3RpdmVUaW1lIC0+IHRpbWluZy5yZXBlYXQgYXMgciB0aGVuewogICAgICBlZmZlY3RpdmVUaW1lLnBlcmlvZCBhcyBwIC0+IHIucGVyaW9kID0gKHAudmFsdWUpOyAKICAgICAgZWZmZWN0aXZlVGltZS5wZXJpb2QgYXMgcCAtPiByLnBlcmlvZFVuaXQgPSAocC51bml0KTsgICAKICAgIH0icmVwZWF0IjsKICB9Cgpncm91cCBNZWRpY2F0aW9uKHNvdXJjZSBzcmM6Y2RhICwgdGFyZ2V0IHRndDogTWVkaWNhdGlvbiwgdGFyZ2V0IHBhdGllbnQ6IFBhdGllbnQsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpewoKICAgIHNyYy5jb25zdW1hYmxlIGFzIGNvbnN1bWFibGUgdGhlbnsKICAgICAgICBjb25zdW1hYmxlLm1hbnVmYWN0dXJlZFByb2R1Y3QgYXMgbWFudWZhY3R1cmVkUHJvZHVjdCB0aGVuewogICAgICAgICAgICBtYW51ZmFjdHVyZWRQcm9kdWN0Lm1hbnVmYWN0dXJlZE1hdGVyaWFsIGFzIG1hbnVmYWN0dXJlZE1hdGVyaWFsIHRoZW57CiAgICAgICAgICAgICAgICBtYW51ZmFjdHVyZWRNYXRlcmlhbC5jb2RlIC0+IHRndC5jb2RlICJDRSI7CiAgICAgICAgICAgICAgICBzcmMuYWRtaW5pc3RyYXRpb25Vbml0Q29kZSAtPiB0Z3QuZm9ybSAiZm9ybSI7CiAgICAgICAgICAgIH0ibWF0ZXJpYWwiOwogICAgICAgIH0icHJvZHVjdCI7CiAgICB9ImNvbnN1bWFibGUiOwoKICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVIgdGhlbnsKICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nR3JhbW1hdHVyYScgLT4gdGd0LmluZ3JlZGllbnQgYXMgaW5ncmVkaWVudCB0aGVuewogICAgICAgICAgICAgICAgc3JjLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgICAgICAgICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZFByb2R1Y3QubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudWZhY3R1cmVkTWF0ZXJpYWwgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZE1hdGVyaWFsLmNvZGUgYXMgY29kZSAtPiBpbmdyZWRpZW50Lml0ZW0gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIHZhbHVlIHRoZW4gQ0VDb2RlYWJsZUNvbmNlcHQoY29kZSx2YWx1ZSkgIkNFIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJtYXRlcmlhbCI7CiAgICAgICAgICAgICAgICAgICAgfSJwcm9kdWN0IjsKICAgICAgICAgICAgICAgIH0iY29uc3VtYWJsZSI7CiAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBpbmdyZWRpZW50LnN0cmVuZ3RoIGFzIHN0cmVuZ3RoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGgubnVtZXJhdG9yIGFzIG51bWVyYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBudW1lcmF0b3IudmFsdWUgPSAodmFsdWUudmFsdWUpICJ2YWx1ZU4iOwogICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGguZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgIH0ic3RyZW5naHQiOwogICAgICAgICAgICB9ImluZ3JlZGllbnQiOwogICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIHdoZXJlIGRpc3BsYXlOYW1lPSdRdWFudGl0w6AgbmVsbGEgQ29uZmV6aW9uZScgdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IHRndC5hbW91bnQgYXMgYW1vdW50IHRoZW57CiAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gYW1vdW50Lm51bWVyYXRvciAgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IG51bWVyYXRvci52YWx1ZSA9ICh2YWx1ZS52YWx1ZSkgInZhbHVlTiI7CiAgICAgICAgICAgICAgICAgICAgfSAibnVtZXJhdG9yIjsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBhbW91bnQuZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgIH0iYW1vdW50IjsKICAgICAgICAgICAgfSJxdWFudGl0YSI7CiAgICAgICAgfSJvYnMiOwogICAgfSJlbnRyeVIiOwp9Cgpncm91cCBNZWRpY2F0aW9uU3RhdGVtZW50KHNvdXJjZSBzcmM6IHN1YkFkbWluLCB0YXJnZXQgdGd0OiBNZWRpY2F0aW9uU3RhdGVtZW50LCB0YXJnZXQgcGF0aWVudDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKICAgIHNyYyAtPiB0Z3Quc3ViamVjdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICBzcmMuc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzOwogICAgc3JjIHdoZXJlIHN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgLT4gdGd0LnN0YXR1cyA9ICd1bmtub3duJyAibm90cHJlc2VudCI7IAogICAgc3JjLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IHRoZW57CiAgICAgICAgICAgIG1hbnVmYWN0dXJlZFByb2R1Y3QubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudWZhY3R1cmVkTWF0ZXJpYWwgdGhlbnsKICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZE1hdGVyaWFsLmNvZGUgYXMgY29kZSAtPiB0Z3QubWVkaWNhdGlvbiAgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiBDRUNvZGVhYmxlQ29uY2VwdChjb2RlLGNlKSAiQ0UiOwogICAgICAgICAgICB9Im1hdGVyaWFsIjsKICAgICAgICB9InByb2R1Y3QiOwogICAgfSJjb25zdW1hYmxlIjsKfQoKZ3JvdXAgRmFtaWx5TWVtYmVyRnVuY3Rpb24oc291cmNlIHNyYyA6IG9yZ2FuaXplciwgdGFyZ2V0IHRndCA6IGZhbWlseU1lbWJlciwgdGFyZ2V0IHBhdGllbnQgOiBwYXRpZW50KXsKICAgIHNyYyAtPiB0Z3QucGF0aWVudCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicGF0UmVmZXJlbmNlIjsgICAgCiAgICBzcmMuc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzOwogICAgc3JjLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiB0Z3QuZGF0ZSA9IGNyZWF0ZSgnZGF0ZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLHZhbHVlKSAiZGF0ZSI7CiAgICBzcmMuc3ViamVjdCBhcyBzdWJqZWN0IHRoZW57CiAgICAgICAgc3ViamVjdC5yZWxhdGVkU3ViamVjdCBhcyByZWxhdGVkU3ViamVjdCB0aGVuewogICAgICAgICAgICByZWxhdGVkU3ViamVjdC5jb2RlIC0+IHRndC5yZWxhdGlvbnNoaXAgInJlbGF0aW9uc2hpcENvZGUiOwogICAgICAgICAgICByZWxhdGVkU3ViamVjdC5zdWJqZWN0IGFzIHN1YmplY3QgLT4gdGd0LnNleCBhcyBzZXggdGhlbiB7CiAgICAgICAgICAgICAgICBzdWJqZWN0LmFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZSBhcyBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUgLT4gc2V4LmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgYWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlLmNvZGUgYXMgc2V4Q29kZS0+IGNvZGluZy5jb2RlID0gdHJhbnNsYXRlKHNleENvZGUsICcjY20tdjMtYWRtaW5pc3RyYXRpdmUtZ2VuZGVyJywgJ2NvZGUnKSAiZ2VuZGVyIjsKICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUgLT4gY29kaW5nLnN5c3RlbSA9ICdodHRwOi8vaGw3Lm9yZy9maGlyL2FkbWluaXN0cmF0aXZlLWdlbmRlcicgInN5c3RlbSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgIH0ic3ViamVjdCI7CiAgICAgICAgfSJyZWxhdGVkU3ViIjsKICAgIH0icmVsYXRpb25zaGlwIjsKICAgIHNyYy5jb21wb25lbnQgYXMgY29tcG9uZW50IC0+IHRndC5jb25kaXRpb24gYXMgY29uZGl0aW9uIHRoZW57CiAgICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIHRoZW57CiAgICAgICAgICAgIG9ic2VydmF0aW9uLmNvZGUgLT4gY29uZGl0aW9uLmNvZGUgImNvZGUiOwogICAgICAgICAgICBvYnNlcnZhdGlvbi50ZXh0IGFzIHRleHQgLT4gdGd0Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgdGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlIC0+IG5vdGUudGV4dCA9IChyZWZlcmVuY2UudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSAtPiB0Z3Quc3RhdHVzOwogICAgICAgICAgICAvLyBvYnNlcnZhdGlvbi5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gY29uZGl0aW9uLm9uc2V0ID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwogICAgICAgICAgICBvYnNlcnZhdGlvbiB3aGVyZSBvYnNlcnZhdGlvbi5lZmZlY3RpdmVUaW1lLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IHRndC5jb25kaXRpb24gPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIGNvbmRpdGlvbiB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIC0+IGNvbmRpdGlvbi5jb2RlICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSAtPiBjb25kaXRpb24ub3V0Y29tZSAiY29kZWFibGUiOyAKICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IGNvbmRpdGlvbi5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZVRpbWUgLT4gcGVyaW9kLnN0YXJ0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLHN0YXJ0KQogICAgICAgICAgICAgICAgICAgICAgICAidmFsIjsKICAgICAgICAgICAgICAgICAgICB9ImVmZnQiOwogICAgICAgICAgICAgICAgfSJlZmZ0dGVtcCI7CiAgICAgICAgICAgIH0iY29udCI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIC0+IGNvbmRpdGlvbi5vdXRjb21lICJjb2RlYWJsZSI7CiAgICAgICAgICAgIG9ic2VydmF0aW9uLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgICAgICAgICAgZW50cnlSLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuewogICAgICAgICAgICAgICAgICAgIG9icyB3aGVyZSAoY29kZS5jb2RlID0nMzUyNjctNCcpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9icy52YWx1ZSBhcyB2YWx1ZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ0FnZScpIGFzIEFnZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnZhbHVlIGFzIHZhbHVlQWdlIC0+IEFnZS52YWx1ZSA9IHZhbHVlQWdlICJhZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS5jb2RlID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS51bml0IGFzIHVuaXQgLT4gQWdlLnVuaXQgPSB1bml0ICJ1bml0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IEFnZS5zeXN0ZW0gPSAnaHR0cDovL3VuaXRzb2ZtZWFzdXJlLm9yZycgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgfSAidmFsdWUiOwogICAgICAgICAgICAgICAgfSJpbnNvcmdlbnphIjsKICAgICAgICAgICAgICAgICAgICBvYnMgd2hlcmUgKGNvZGUuY29kZSA9JzM5MDE2LTEnKSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsdWUgLT4gdGd0LmRlY2Vhc2VkID0gY3JlYXRlKCdBZ2UnKSBhcyBBZ2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSBhcyB2YWx1ZUFnZSAtPiBBZ2UudmFsdWUgPSB2YWx1ZUFnZSAiYWdlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnVuaXQgYXMgdW5pdCAtPiBBZ2UuY29kZSA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUudW5pdCBhcyB1bml0IC0+IEFnZS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBBZ2Uuc3lzdGVtID0gJ2h0dHA6Ly91bml0c29mbWVhc3VyZS5vcmcnICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICAgICAgICAgIH0iZGVhdGgiOwogICAgICAgICAgICB9Im9ic2VyIjsKICAgICAgICAgICAgfSJFbnRyeVJlbCI7CiAgICAgICAgfSJvYnNlcnZhdGlvbiI7CiAgICB9ImNvbXBvbmVudCI7Cn0KCmdyb3VwIGFsbGVyZ3lGdW5jdGlvbihzb3VyY2Ugc3JjOiBjZGFFbGVtZW50LCB0YXJnZXQgdGd0OiBBbGxlcmd5SW50b2xlcmFuY2UsIHRhcmdldCBwYXRpZW50IDogcGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IGVuY291bnRlcikgewogICAgc3JjIC0+IHRndC5wYXRpZW50PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgCiAgICBzcmMgLT4gdGd0LmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXIuaWQpICJyZWZlcmVuY2UiOyAKICAgIHNyYy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDEgdGhlbnsKICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDEub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24xIHRoZW57CiAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gdGd0Lm9uc2V0ID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWVQZXJpb2QiOwogICAgICAgICAgICBvYnNlcnZhdGlvbjEudmFsdWUgYXMgY29kZSB0aGVuewogICAgICAgICAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUxLT4gdGd0LnR5cGUgPSB0cmFuc2xhdGUoY29kZTEsJyNBbGxlcmd5VHlwZU1hcCcsJ2NvZGUnKSAidHlwZSI7IAogICAgICAgICAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUxIC0+IHRndC5jYXRlZ29yeSA9IHRyYW5zbGF0ZShjb2RlMSwnI0FsbGVyZ3lDYXRlZ29yeU1hcCcsJ2NvZGUnKSAiY2F0ZWdvcnkiOyAgIAogICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICBvYnNlcnZhdGlvbjEucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcDIgd2hlcmUgKHR5cGVDb2RlID0gJ01GU1QnKSB0aGVuewogICAgICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMi5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlIC0+IHJlYWN0aW9uLm1hbmlmZXN0YXRpb24gIm1hbmlmZXN0YXRpb24iOwogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsb3cgLT4gcmVhY3Rpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGxvdywgdmFsdWUpICJ2YWx1ZVBlcmlvZExvdyI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgICB9Im9ic2VydjIiOwogICAgICAgICAgICAgICAgfSJlbnRyeVIyIjsKICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUucGxheWluZ0VudGl0eSBhcyBwbGF5aW5nRW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmdFbnRpdHkuY29kZSAtPiByZWFjdGlvbi5zdWJzdGFuY2UgInJlYWN0aW9uIjsKICAgICAgICAgICAgICAgICAgICB9InBsYXlpbmdFbnRpdHkiOwogICAgICAgICAgICAgICAgfSJwYXJ0aWNpcGFudFJvbGUiOwogICAgICAgICAgICB9InBhcnRpY2lwYW50IjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwMiB3aGVyZSAodHlwZUNvZGUgPSAnTUZTVCcpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24yIHdoZXJlIG9ic2VydmF0aW9uMS5wYXJ0aWNpcGFudC5leGlzdHMoKS5ub3QoKSAtPiB0Z3QucmVhY3Rpb24gYXMgcmVhY3Rpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudmFsdWUgLT4gcmVhY3Rpb24ubWFuaWZlc3RhdGlvbiAibWFuaWZlc3RhdGlvbiI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lLmxvdyBhcyBsb3cgLT4gcmVhY3Rpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGxvdywgdmFsdWUpICJ2YWx1ZVBlcmlvZExvdyI7CiAgICAgICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgfSJvYnNlcnYyIjsKICAgICAgICAgICAgfSJlbnRyeVIyIjsKICAgICAgICAgICAgb2JzZXJ2YXRpb24xLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UmVsYXRpb25zaGlwMyB3aGVyZSAodHlwZUNvZGUgPSAnU1VCSicpIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVJlbGF0aW9uc2hpcDMub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24zIHRoZW57CiAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24zLnZhbHVlIGFzIHZhbHVlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgYy0+IHRndC5jcml0aWNhbGl0eSA9IHRyYW5zbGF0ZShjLCcjQ3JpY2FsaXR5TWFwJywnY29kZScpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjcml0aWNhbGl0eSI7IAogICAgICAgICAgICAgICAgfSJvYnNlcnYzIjsKICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwMy5hY3QgYXMgYWN0IC0+IHRndC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBhY3QudGV4dCBhcyB0ZXh0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgICB9Im5vdGUiOwogICAgICAgICAgICAgICAgfSJhY3QiOwogICAgICAgICAgICB9ImVudHJ5UjMiOwogICAgICAgICAgICBvYnNlcnZhdGlvbjEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSZWxhdGlvbnNoaXA0IHdoZXJlICh0eXBlQ29kZSA9ICdSRUZSJykgdGhlbnsKICAgICAgICAgICAgICAgIGVudHJ5UmVsYXRpb25zaGlwNC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjQgIHRoZW57CgogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uNC52YWx1ZSBhcyB2YWx1ZSAtPiB0Z3QuY2xpbmljYWxTdGF0dXMgYXMgY2xpbmljYWxTdGF0dXMgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgYXMgdmFsdSAtPiBjbGluaWNhbFN0YXR1cy5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdSB3aGVyZShjb2RlID0gJ0xBOTA0MS0wJykgLT4gY29kaW5nLmNvZGUgPSAgJ3Jlc29sdmVkJyAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1IHdoZXJlKGNvZGUgPSAnTEExODYzMi0yJykgLT4gY29kaW5nLmNvZGUgPSAgJ2luYWN0aXZlJyAiY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1IHdoZXJlKGNvZGUgPSAnTEExNjY2Ni0yJykgLT4gY29kaW5nLmNvZGUgPSAgJ2FjdGl2ZScgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwnICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5LT4gY29kaW5nLmRpc3BsYXk9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpICJkaXNwbGF5IjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0iY2xpbmljYWxTdGF0dXMiOwogICAgICAgICAgICAgICAgfSJvYnNlcnY0IjsKICAgICAgICAgICAgfSJlbnRyeVI0IjsKICAgICAgICB9Im9ic2VydmF0aW9uIjsKICAgIH0iZW50cnlyZWxhdGlvbnNoaXAiOwp9Cgpncm91cCBQcmFjdGl0aW9uZXIoc291cmNlIHNyYyA6IHBhcnRpY2lwYW50LCB0YXJnZXQgdGd0OiBNZWRpY2F0aW9uUmVxdWVzdCwgdGFyZ2V0IGJ1bmRsZTogQnVuZGxlKXsKICAgIHNyYyAtPiBidW5kbGUuZW50cnkgYXMgZTIyLCBlMjIucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTIyLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIxIHRoZW57ICAgICAgIAogICAgICAgIHNyYy5wYXJ0aWNpcGFudFJvbGUgYXMgcHJhY3RyIHRoZW57CiAgICAgICAgICAgIHByYWN0ci5pZCBhcyBpZCAtPnByYWN0aXRpb25lcjEuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW57CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0ICJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lcjEuaWQgPSAociArICctJyArIGV4dCkgYXMgdXVpZDIyLCAgZTIyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIyKSwgdGd0LnJlcXVlc3RlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lcjEuaWQpICJpZCI7CiAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICBwcmFjdHIuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgIHByYWN0ci5pZCBhcyBpZCB3aGVyZSAocm9vdCE9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJkaXZlcnNvIjsKICAgICAgICAgICAgcHJhY3RyIC0+IHByYWN0aXRpb25lcjEubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgcHJhY3RyLT4gbWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBwcmFjdHIgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgcHJhY3RyIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L1RlcmFwaWFGYXJtYWNvbG9naWNhQ29uc2lnbGlhdGEvcGFydGljaXBhbnQnICJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgcHJhY3RyLmFkZHIgLT4gcHJhY3RpdGlvbmVyMS5hZGRyZXNzOyAgICAgIAogICAgICAgICAgICBwcmFjdHIudGVsZWNvbSAtPiBwcmFjdGl0aW9uZXIxLnRlbGVjb207CiAgICAgICAgICAgIHByYWN0ci5wbGF5aW5nRW50aXR5IGFzIHBsZW50aXR5IHRoZW57CiAgICAgICAgICAgICAgICBwbGVudGl0eS5uYW1lIC0+ICBwcmFjdGl0aW9uZXIxLm5hbWUgIm5hbWUiOyAKICAgICAgICAgICAgICAgIHBsZW50aXR5LmJpcnRoVGltZSBhcyBiaXJ0aFRpbWUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIxLmJpcnRoRGF0ZT0gdHJ1bmNhdGUoZGF0ZSwgMTApOwogICAgICAgICAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICAgICAgfSJwYXJ0bmFtZSI7CiAgICAgICAgfSJyZXN1cmNlQ3JlYXRpb24iOwogICAgfSJwcmFjdGl0aW9uZXJDcmVhdGUiOwoKfQoKCg==", "subType": "00"}}, "filename": "RefertodiSpecialisticaAmbulatorialeBody_v2.7.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:37:04.975Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a5704846375e3fecadc3"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/Vaccinazioni", "version": "1.9", "template_id_root": ["2.16.840.1.113883.2.9.10.1.11.1.1", "2.16.840.1.113883.2.9.10.1.11.1.2"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9WYWNjaW5hemlvbmkiID0gIlZhY2NpbmF6aW9uaSIKCgp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0NsaW5pY2FsRG9jdW1lbnQiIGFsaWFzIENsaW5pY2FsRG9jdW1lbnQgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzaWduZWRBdXRob3IiIGFsaWFzIEFzc2lnbmVkQXV0aG9yIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEVudGl0eSIgYWxpYXMgQXNzaWduZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc29jaWF0ZWRFbnRpdHkiIGFsaWFzIEFzc29jaWF0ZWRFbnRpdHkgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0N1c3RvZGlhbk9yZ2FuaXphdGlvbiIgYWxpYXMgQ3VzdG9kaWFuT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uUGFydE9mIiBhbGlhcyBPcmdhbml6YXRpb25QYXJ0T2YgYXMgcXVlcmllZAp1c2VzICAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIHJhcHJlc2VudGVkT3JnYW5pemF0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9TZWN0aW9uIiBhbGlhcyBTZWN0aW9uIGFzIHF1ZXJpZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9QYXRpZW50Um9sZSIgYWxpYXMgUGF0aWVudFJvbGUgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FEIiBhbGlhcyBBRCBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0J1bmRsZSIgYWxpYXMgQnVuZGxlIGFzIHRhcmdldAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQ29tcG9zaXRpb24iIGFsaWFzIENvbXBvc2l0aW9uIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QYXRpZW50IiBhbGlhcyBQYXRpZW50IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9FbmNvdW50ZXIiIGFsaWFzIEVuY291bnRlciBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vUGVyc29uIiBhbGlhcyBQYXRpZW50IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QcmFjdGl0aW9uZXIiIGFsaWFzIFByYWN0aXRpb25lciBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vT3JnYW5pemF0aW9uIiBhbGlhcyBPcmdhbml6YXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9BY3QiIGFsaWFzIEFjdCBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0lWTC1QUSIgYWxpYXMgSVZMX1BRIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BRIiBhbGlhcyBQUSBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NpbXBsZVF1YW50aXR5IiBhbGlhcyBTaW1wbGVRdWFudGl0eSBhcyB0YXJnZXQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0ltbXVuaXphdGlvbiIgYWxpYXMgSW1tdW5pemF0aW9uIGFzIHRhcmdldAoKCmltcG9ydHMgImh0dHA6Ly93d3cuZXkuY29tL2l0YWx5L2lnL2NkYS1maGlyLW1hcHMvU3RydWN0dXJlTWFwL0NkYVRvRmhpckRhdGFUeXBlcyIKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvRlVMTEhFQURFUiIKCmdyb3VwIENkYVRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgY2RhIC0+ICBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUucmVzb3VyY2UgPSBjcmVhdGUoJ0NvbXBvc2l0aW9uJykgYXMgY29tcG9zaXRpb24sICBjb21wb3NpdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NvbXBvc2l0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnQ29tcG9zaXRpb24nLCAgYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0UEFULCByZXF1ZXN0UEFULm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUGF0aWVudCcpIGFzIHBhdGllbnQsICBwYXRpZW50LmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJywgdXVpZDIpLCBidW5kbGUuZW50cnkgYXMgZTMsIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ0VuY291bnRlcicpIGFzIGVuY291bnRlciwgIGVuY291bnRlci5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJywgdXVpZDMpLHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicsCiAgYnVuZGxlLmVudHJ5IGFzIGU1LCBlNS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU1LnJlc291cmNlID0gY3JlYXRlKCdEb2N1bWVudFJlZmVyZW5jZScpIGFzIERvY3VtZW50UmVmZXJlbmNlLCAgRG9jdW1lbnRSZWZlcmVuY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDUsICBlNS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRG9jdW1lbnRSZWZlcmVuY2UvJywgdXVpZDUpLHJlcXVlc3QudXJsID0gJ0RvY3VtZW50UmVmZXJlbmNlJyB0aGVuIHsKICBjZGEgdGhlbiBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoY2RhLCBwYXRpZW50LCBjb21wb3NpdGlvbiwgZW5jb3VudGVyLCBidW5kbGUsIERvY3VtZW50UmVmZXJlbmNlKSAiY2RhdG9idW5kbGUiOwogIGNkYS5yZWNvcmRUYXJnZXQgYXMgcmVjb3JkVGFyZ2V0IHRoZW57CiAgICByZWNvcmRUYXJnZXQucGF0aWVudFJvbGUgYXMgcGF0aWVudCB0aGVuewogICAgICAgcGF0aWVudC5pZCBhcyBpZC0+IHBhdGllbnQuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0MSAtPiBpZGVudGlmaWVyLnZhbHVlID0gZXh0MSAidmFsdWUiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgIH0iaWRmciI7CiAgICAgICAgcGF0aWVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuNycpCiAgICAgICAgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMycpIG9yKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTcnKSBvciAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4xNScpICB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcmVxdWVzdFBBVC51cmwgPSBhcHBlbmQoJ1BhdGllbnQ/aWRlbnRpZmllcj0nLGV4dCkgIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgIH0icmVjb3JkIjsKICAgICAgfSJyZWNQYXQiOwogfSAiQ2xpbmljYWxEb2N1bWVudFRvQm9keSI7Cn0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRUb0J1bmRsZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgY29tcG9zaXRpb24gOiBDb21wb3NpdGlvbiwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IERvY3VtZW50UmVmZXJlbmNlIDogRG9jdW1lbnRSZWZlcmVuY2UpIHsKICBjZGEgLT4gZW5jb3VudGVyLnN0YXR1cyA9ICdmaW5pc2hlZCcgImZpbmlzaGVkIjsKICBjZGEgLT4gZW5jb3VudGVyLmNsYXNzID0gY3JlYXRlKCJDb2RpbmciKSBhcyBjb2RpbmcgdGhlbnsKICAgIGNkYSAtPiBjb2RpbmcuY29kZSA9ICdBTUInICJhbWIiOwogIH0iY29kaW5nIjsKICBjZGEgLT4gYnVuZGxlLmlkID0gdXVpZCgpICJpZCI7CiAgY2RhLmlkIC0+IGJ1bmRsZS5pZGVudGlmaWVyICJpZGVudGlmaWVyIjsKICBjZGEgLT4gYnVuZGxlLnR5cGUgPSAndHJhbnNhY3Rpb24nICJ0eXBlIjsKICBjZGEgLT4gYnVuZGxlLnRpbWVzdGFtcD0odGltZXN0YW1wLm5vdygpKSAiZGF0ZSI7CiAgY2RhIHRoZW4gQ2xpbmljYWxEb2N1bWVudENvbXBvc2l0aW9uKGNkYSwgY29tcG9zaXRpb24sIHBhdGllbnQsIGVuY291bnRlciwgYnVuZGxlLCBEb2N1bWVudFJlZmVyZW5jZSkgImNvbXBvc2l0aW9uIjsgIAogIGNkYS5jb21wb25lbnQgYXMgY29tcG9uZW50IHRoZW4gewogICAgY29tcG9uZW50LnN0cnVjdHVyZWRCb2R5IGFzIGJvZHkgdGhlbiB7CiAgICAgIGJvZHkuY29tcG9uZW50IGFzIGNvbXBvbmVudCAgdGhlbiB7ICAgICAgIAoJICAgICBjb21wb25lbnQuc2VjdGlvbiBhcyBzcmNTZWN0aW9uIHRoZW4gewogICAgICAgIHNyY1NlY3Rpb24gLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIlRlcmFwaWFGYXJtYWNvbG9naWNhQWxsYURpbWlzc2lvbmUiOwogICAgICAgfTsKICAgICAgfTsKICAgIH0gImJvZHkiOwogIH07Cn0KCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsgICAgCiAgfSAiY2RhVGV4dCI7CiAgc3JjLmVudHJ5IGFzIGVudHJ5MSB0aGVuIHsKICAgIAogICAgZW50cnkxLnN1YnN0YW5jZUFkbWluaXN0cmF0aW9uIGFzIHN1YnN0YW5jZSAgdGhlbiB7CiAgICAgIHN1YnN0YW5jZS50ZW1wbGF0ZUlkIHdoZXJlKHJvb3QgPSAnMi4xNi44NDAuMS4xMTM4ODMuMi45LjEwLjEuMTEuNC4xJykgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnSW1tdW5pemF0aW9uJykgYXMgaW1tdW5pemF0aW9uLCAgaW1tdW5pemF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0ltbXVuaXphdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0ltbXVuaXphdGlvbicsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0ltbXVuaXphdGlvbi8nICsgJWltbXVuaXphdGlvbi5pZCkgdGhlbnsKICAgICAgICBzdWJzdGFuY2UgLT4gaW1tdW5pemF0aW9uLnBhdGllbnQgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJwYXRpZW50UmVmIjsgCiAgICAgICAgLy8gc3Vic3RhbmNlLnRlbXBsYXRlSWQgYXMgdGlkIC0+IGltbXVuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZiB0aGVuewogICAgICAgIC8vICAgdGlkLnJvb3QgYXMgciAtPiBpZGYuc3lzdGVtID0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgLy8gfSJpZCI7CiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IGltbXVuaXphdGlvbi5zdGF0dXMgPSdjb21wbGV0ZWQnOyAgCiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBpbW11bml6YXRpb24uc3RhdHVzID0nZmluYWwnOyAgCiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IGltbXVuaXphdGlvbi5zdGF0dXMgPSdlbnRlcmVyLWluLWVycm9yJzsgIAogICAgICAgIHN1YnN0YW5jZS5zdGF0dXNDb2RlICBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjYW5jZWxsZWQnKSAtPiBpbW11bml6YXRpb24uc3RhdHVzID0nbm90LWRvbmUnOyAgICAgICAgICAKICAgICAgICBzdWJzdGFuY2UuZWZmZWN0aXZlVGltZSBhcyBlZmYgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiBpbW11bml6YXRpb24ub2NjdXJyZW5jZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgc3Vic3RhbmNlLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IGltbXVuaXphdGlvbi5vY2N1cnJlbmNlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZiwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CgogICAgICAgIHN1YnN0YW5jZS5yb3V0ZUNvZGUgLT4gaW1tdW5pemF0aW9uLnJvdXRlICJyb3V0ZSI7CgogICAgICAgIHN1YnN0YW5jZS5hcHByb2FjaFNpdGVDb2RlIC0+IGltbXVuaXphdGlvbi5zaXRlICJzaXRlIjsKCiAgICAgICAgc3Vic3RhbmNlIC0+IGltbXVuaXphdGlvbi5kb3NlUXVhbnRpdHkgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbnsKICAgICAgICAgIHN1YnN0YW5jZS5kb3NlUXVhbnRpdHkgYXMgcSB0aGVuewogICAgICAgICAgICBxIC0+IHF1YW50aXR5LnZhbHVlID0gKHEudmFsdWUpICJ2YWwiOwogICAgICAgICAgICBxIC0+IHF1YW50aXR5LnVuaXQgPSAocS51bml0KSAidW5pIjsgCiAgICAgICAgICB9InF1YSI7IAogICAgICAgIH0icSI7CgogICAgICAgIHN1YnN0YW5jZS5jb25zdW1hYmxlIGFzIGNvbnMgdGhlbnsKICAgICAgICAgIGNvbnMubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdCB0aGVuewogICAgICAgICAgICBtYW51ZmFjdC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51ZmFjdG1hdCB0aGVuewogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmNvZGUgLT4gaW1tdW5pemF0aW9uLnZhY2NpbmVDb2RlOwogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmxvdE51bWJlclRleHQgYXMgdCAtPiBpbW11bml6YXRpb24ubG90TnVtYmVyID0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICAgIH0ibWFudWZhY3RtYXQiOwoKICAgICAgICAgICAgbWFudWZhY3QubWFudWZhY3R1cmVyT3JnYW5pemF0aW9uIGFzIG1hbnVmYWN0T3JnIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuewogICAgICAgICAgICAgCiAgICAgICAgICAgICAgbWFudWZhY3RPcmctPm9yZ2FuaXphdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICBtYW51ZmFjdE9yZy0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgbWFudWZhY3RPcmcgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIG1hbnVmYWN0T3JnIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L21hbnVmYWN0dXJlck9yZ2FuaXphdGlvbiciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIG1hbnVmYWN0T3JnLmlkIGFzIGlkIC0+IG9yZ2FuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnT3JnYW5pemF0aW9uP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBvcmdhbml6YXRpb24uaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDUsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQ1KSAsaW1tdW5pemF0aW9uLm1hbnVmYWN0dXJlciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Pcmdhbml6YXRpb24vJyArICV1dWlkNSkgOwogICAgICAgICAgICAgICAgfSJyIiA7IAogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgLy8gbWFudWZhY3RPcmcuaWQgYXMgaWQgdGhlbnsKICAgICAgICAgICAgICAvLyAgIGlkIC0+IG9yZ2FuaXphdGlvbi5pZCA9IChpZC5yb290KyctJytpZC5leHRlbnNpb24pIGFzIGlkdGFyIHRoZW57CiAgICAgICAgICAgICAgLy8gICAgIGlkIC0+ICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIGlkdGFyKSwgICJpZGFzc2kiOwogICAgICAgICAgICAgIC8vICAgfSJpZHQiOwogICAgICAgICAgICAgIC8vIH0iaWQiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgIG1hbnVmYWN0T3JnLm5hbWUgYXMgbiAtPiBvcmdhbml6YXRpb24ubmFtZSA9IChuLm90aGVyKTsKICAgICAgICAgICAgfSJtYW51ZmFjdE9yZyI7ICAgICAgICAgIAogICAgICAgICAgfSJtYW51ZmFjdCI7CiAgICAgICAgfSJjb25zIjsKICAgICAgIAogICAgICAgIHN1YnN0YW5jZS5wYXJ0aWNpcGFudCBhcyBwYXJ0IC0+ICBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ0xvY2F0aW9uJykgYXMgbG9jYXRpb24gdGhlbnsgICAgICAgCiAgICAgICAgICBwYXJ0LT5sb2NhdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgIHBhcnQtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgcGFydCAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBwYXJ0IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgcGFydC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydFJvbGUgdGhlbnsKICAgICAgICAgICAgcGFydFJvbGUuaWQgYXMgaWQgIC0+IGxvY2F0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IGlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnTG9jYXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+bG9jYXRpb24uaWQgPShyICsnLScrIGV4dCkgYXMgdXVpZDYsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJywgdXVpZDYpLCAgaW1tdW5pemF0aW9uLmxvY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycgKyAldXVpZDYpICJyZWYiOwogICAgICAgICAgICAgICAgfSJyIiA7IAogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgfSJyb2xlIjsKICAgICAgICB9InBhcnQiOwogICAgICAgIGNkYS0+IGltbXVuaXphdGlvbi5wcm90b2NvbEFwcGxpZWQgIGFzIHByb3QgdGhlbiB7ICAKICAgICAgICBzdWJzdGFuY2UuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlyZWw0IHRoZW57CiAgICAgICAgICAgICAgZW50cmlyZWw0Lm9ic2VydmF0aW9uIGFzIG9icyAgdGhlbiB7ICAgICAgICAgIAogICAgICAgICAgICAgICAgb2JzLmNvZGUgd2hlcmUoIGNvZGUgPSAnNzUzMjMtNicpIHRoZW4gewogICAgICAgICAgICAgICAgb2JzLnZhbHVlIC0+IHByb3QudGFyZ2V0RGlzZWFzZTsKICAgICAgICAgICAgICAgIH0iY29kZUNvbnRyb2wiOwogICAgICAgICAgICAgIH0iZW50cmlyZWwyIjsKICAgICAgICAgIGVudHJpcmVsNC5vYnNlcnZhdGlvbiBhcyBvYnNkb3NlbnVtYmVyICB0aGVuIHsgICAgICAgICAgCiAgICAgICAgICAgICBvYnNkb3NlbnVtYmVyLmNvZGUgd2hlcmUoIGNvZGUgPSAnMzA5NzMtMicpIHRoZW4gewogICAgICAgICAgICAgICAgb2JzZG9zZW51bWJlci52YWx1ZSBhcyB2IHRoZW4gewogICAgICAgICAgICAgICAgICB2LnZhbHVlIGFzIGludCAtPnByb3QuZG9zZU51bWJlcj0oaW50LnRvU3RyaW5nKCkpOwogICAgICAgICAgICAgICAgIH0idiI7CiAgICAgICAgICAgICAgICAvLyAgb2JzZG9zZW51bWJlci52YWx1ZSBhcyB2IHRoZW4gewogICAgICAgICAgICAgICAgLy8gICAgdi52YWx1ZSBhcyBpbnQgLT4gcHJvdC5kb3NlTnVtYmVyICA9IGNhc3QoaW50LCdwb3NpdGl2ZUludCcpICJ2YWwiOyAKICAgICAgICAgICAgICAgIC8vICB9InZhbHVlIjsgCiAgICAgICAgICAgIH0iY29kZUNvbnRyb2wiOwogICAgICAgICAgfSJlbnRyaXJlbDIiOwogICAgICAgIH0iZW50cmlyZWw0IjsKICAgICAgfSJwcm90b2NvbEFwIjsKICAgICAgIAogICAgICAgIHN1YnN0YW5jZS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaXJlbDIgdGhlbnsKICAgICAgICAgIGVudHJpcmVsMi5vYnNlcnZhdGlvbiBhcyBvYnMgdGhlbnsgICAgICAgICAgCiAgICAgICAgICAgIG9icy5jb2RlIHdoZXJlKCBjb2RlID0gJzU5Nzc4LTEnIG9yIGNvZGUgPSAnMzA5ODEtNScgb3IgY29kZSA9ICczMDk4MC03JyBvciBjb2RlID0gJzU5Nzc3LTMnKXRoZW57CiAgICAgICAgICAgICAgb2JzLnZhbHVlIGFzIHZhbHVlIHRoZW57CiAgICAgICAgICAgICAgICB2YWx1ZS5oaWdoIGFzIGggIHRoZW4gewogICAgICAgICAgICAgICAgICBoLnZhbHVlIGFzIGRhdGUtPiBpbW11bml6YXRpb24uZXhwaXJhdGlvbkRhdGU9IHRydW5jYXRlKGRhdGUsIDEwKTsKICAgICAgICAgICAgIH0iZGEiOwogICAgICAgICAgICAgIH0idmFsdWUiOwogICAgICAgICAgICB9ImNvZGVDb250cm9sIjsKICAgICAgICAgIH0ib2JzIjsKICAgICAgICB9ImVudHJpcmVsMiI7CgoKICAgICAgICBzdWJzdGFuY2UuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlyZWwzIHRoZW57CiAgICAgICAgICBlbnRyaXJlbDMub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57ICAgICAgICAgIAogICAgICAgICAgICBvYnMuY29kZSB3aGVyZSggY29kZSA9ICc5NTcxNS05JykgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICwgaW1tdW5pemF0aW9uLnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgICAgICAgICBvYnMgdGhlbiBPYnNlcnZhdGlvbihlbnRyaXJlbDMscGF0aWVudCx0Z3QsYnVuZGxlLGVuYyxvYnNlcnZhdGlvbikgIm9ic2VydmF0aW9uIjsKICAgICAgICAgICAgfSJjb2RlQ29udHJvbCI7CiAgICAgICAgICB9Im9icyI7CiAgICAgICAgfSJlbnRyaXJlbDIiOwoKICAgICAgICBzdWJzdGFuY2UuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlyZWw0IHRoZW57CiAgICAgICAgICBlbnRyaXJlbDQub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57ICAgICAgICAgIAogICAgICAgICAgICBvYnMuY29kZSB3aGVyZSggY29kZSA9ICc1OTc4NS02JykgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICwgaW1tdW5pemF0aW9uLnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgICAgICAgICAgICBvYnMgdGhlbiBPYnNlcnZhdGlvbjEoZW50cmlyZWw0LHBhdGllbnQsdGd0LGJ1bmRsZSxlbmMsb2JzZXJ2YXRpb24pICJvYnNlcnZhdGlvbiI7CiAgICAgICAgICAgIH0iY29kZUNvbnRyb2wiOwogICAgICAgICAgfSJvYnMiOwogICAgICAgIH0iZW50cmlyZWwyIjsKCiAgICAgICAgc3Vic3RhbmNlLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpcmVsNCB0aGVuewogICAgICAgICAgZW50cmlyZWw0Lm9ic2VydmF0aW9uIGFzIG9icyB0aGVueyAgICAgICAgICAKICAgICAgICAgICAgb2JzLmNvZGUgd2hlcmUoIGNvZGUgPSAnMzEwNDQtMScpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIGltbXVuaXphdGlvbi5yZWFzb25SZWZlcmVuY2UgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgb2JzIHRoZW4gT2JzZXJ2YXRpb24xKGVudHJpcmVsNCxwYXRpZW50LHRndCxidW5kbGUsZW5jLG9ic2VydmF0aW9uKSAib2JzZXJ2YXRpb24iOwogICAgICAgICAgICB9ImNvZGVDb250cm9sIjsKICAgICAgICAgIH0ib2JzIjsKICAgICAgICB9ImVudHJpcmVsMiI7CgoKICAgICAgfSJDb250cm9sbG9JbW11bml6YXRpb24iOwoKICAgICAgc3Vic3RhbmNlLnRlbXBsYXRlSWQgd2hlcmUocm9vdCA9ICcyLjE2Ljg0MC4xLjExMzg4My4yLjkuMTAuMS4xMS40LjInKSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdJbW11bml6YXRpb24nKSBhcyBpbW11bml6YXRpb24sICBpbW11bml6YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvSW1tdW5pemF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnSW1tdW5pemF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0ltbXVuaXphdGlvbi8nICsgJWltbXVuaXphdGlvbi5pZCkgdGhlbnsKICAgICAgICBzdWJzdGFuY2UgLT4gaW1tdW5pemF0aW9uLnBhdGllbnQgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJwYXRpZW50UmVmIjsgCiAgICAgICAgLy8gc3Vic3RhbmNlLnRlbXBsYXRlSWQgYXMgdGlkIC0+IGltbXVuaXphdGlvbi5pZGVudGlmaWVyIGFzIGlkZiB0aGVuewogICAgICAgIC8vICAgdGlkLnJvb3QgYXMgciAtPiBpZGYuc3lzdGVtID0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgLy8gfSJpZCI7CiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IGltbXVuaXphdGlvbi5zdGF0dXMgPSdjb21wbGV0ZWQnOyAgCiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBpbW11bml6YXRpb24uc3RhdHVzID0nZmluYWwnOyAgCiAgICAgICAgc3Vic3RhbmNlLnN0YXR1c0NvZGUgIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IGltbXVuaXphdGlvbi5zdGF0dXMgPSdlbnRlcmVyLWluLWVycm9yJzsgIAogICAgICAgIHN1YnN0YW5jZS5zdGF0dXNDb2RlICBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjYW5jZWxsZWQnKSAtPiBpbW11bml6YXRpb24uc3RhdHVzID0nbm90LWRvbmUnOyAgICAgICAgICAKICAgICAgICAKICAgICAgICBzdWJzdGFuY2UuZWZmZWN0aXZlVGltZSBhcyBlZmYgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiBpbW11bml6YXRpb24ub2NjdXJyZW5jZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmLCB2YWx1ZSkgInZhbHVlMSI7CiAgICAgICAgc3Vic3RhbmNlLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIHdoZXJlIChsb3cuZXhpc3RzKCkpIC0+IGltbXVuaXphdGlvbi5vY2N1cnJlbmNlID0gY3JlYXRlKCdQZXJpb2QnKSBhcyB2YWx1ZSB0aGVuIElWTFRTUGVyaW9kKGVmZiwgdmFsdWUpICJ2YWx1ZVBlcmlvZCI7CgogICAgICAgIHN1YnN0YW5jZS5jb25zdW1hYmxlIGFzIGNvbnMgdGhlbnsKICAgICAgICAgIGNvbnMubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdCB0aGVuewogICAgICAgICAgICBtYW51ZmFjdC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51ZmFjdG1hdCB0aGVuewogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmNvZGUgLT4gaW1tdW5pemF0aW9uLnZhY2NpbmVDb2RlOwogICAgICAgICAgICAgIG1hbnVmYWN0bWF0LmxvdE51bWJlclRleHQgYXMgdCAtPiBpbW11bml6YXRpb24ubG90TnVtYmVyID0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICAgIH0ibWFudWZhY3RtYXQiOwoKICAgICAgICAgICAgbWFudWZhY3QubWFudWZhY3R1cmVyT3JnYW5pemF0aW9uIGFzIG1hbnVmYWN0T3JnIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT3JnYW5pemF0aW9uJykgYXMgb3JnYW5pemF0aW9uICB0aGVuewoKICAgICAgICAgICAgICBtYW51ZmFjdE9yZy0+b3JnYW5pemF0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIG1hbnVmYWN0T3JnLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBtYW51ZmFjdE9yZyAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgbWFudWZhY3RPcmcgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvbWFudWZhY3R1cmVyT3JnYW5pemF0aW9uJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgIH0ibWV0YSI7CgogICAgICAgICAgICAgICAgbWFudWZhY3RPcmcuaWQgYXMgaWQgLT4gb3JnYW5pemF0aW9uMi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0T3JnLT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ09yZ2FuaXphdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gb3JnYW5pemF0aW9uMS5pZD0gKHIgKyctJysgZXh0KSBhcyB1dWlkMjMsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycsIHV1aWQyMykgLGltbXVuaXphdGlvbi5tYW51ZmFjdHVyZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT3JnYW5pemF0aW9uLycgKyAldXVpZDIzKSJvcmciOwogICAgICAgICAgICAgICAgfSJyIiA7ICAgCiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBtYW51ZmFjdE9yZy5uYW1lIGFzIG4gLT4gb3JnYW5pemF0aW9uLm5hbWUgPSAobi5vdGhlcik7CiAgICAgICAgICAgIH0ibWFudWZhY3RPcmciOyAgICAgICAgICAKICAgICAgICAgIH0ibWFudWZhY3QiOwogICAgICAgIH0iY29ucyI7CgogICAgICAgIGNkYS0+IGltbXVuaXphdGlvbi5wcm90b2NvbEFwcGxpZWQgIGFzIHByb3QgdGhlbiB7ICAKICAgICAgICAgIHN1YnN0YW5jZS5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaXJlbDQgdGhlbnsKICAgICAgICAgICAgICAgIGVudHJpcmVsNC5vYnNlcnZhdGlvbiBhcyBvYnMgIHRoZW4geyAgICAgICAgICAKICAgICAgICAgICAgICAgICAgb2JzLmNvZGUgd2hlcmUoIGNvZGUgPSAnNzUzMjMtNicpIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvYnMudmFsdWUgLT4gcHJvdC50YXJnZXREaXNlYXNlOwogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICB9ImNvZGVDb250cm9sIjsKICAgICAgICAgICAgICAgIH0iZW50cmlyZWwyIjsKICAgICAgICAgICAgZW50cmlyZWw0Lm9ic2VydmF0aW9uIGFzIG9ic2Rvc2VudW1iZXIgIHRoZW4geyAgICAgICAgICAKICAgICAgICAgICAgICAgb2JzZG9zZW51bWJlci5jb2RlIHdoZXJlKCBjb2RlID0gJzMwOTczLTInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgb2JzZG9zZW51bWJlci52YWx1ZSBhcyB2IHRoZW4gewogICAgICAgICAgICAgICAgICAgIHYudmFsdWUgYXMgaW50IC0+cHJvdC5kb3NlTnVtYmVyPShpbnQudG9TdHJpbmcoKSk7CiAgICAgICAgICAgICAgICAgICB9InYiOwogICAgICAgICAgICAgICAgLy8gICBvYnNkb3NlbnVtYmVyLnZhbHVlIGFzIHYgdGhlbiB7CiAgICAgICAgICAgICAgICAvLyAgIHYudmFsdWUgYXMgaW50IC0+IHByb3QuZG9zZU51bWJlciAgPSBjYXN0KGludCwncG9zaXRpdmVJbnQnKSAidmFsIjsgCiAgICAgICAgICAgICAgICAvLyB9InZhbHVlIjsgCiAgICAgICAgICAgICAgfSJjb2RlQ29udHJvbCI7CiAgICAgICAgICAgIH0iZW50cmlyZWwyIjsKICAgICAgICAgIH0iZW50cmlyZWw0IjsKICAgICAgICB9InByb3RvY29sQXAiOwoKICAgICAgICBzdWJzdGFuY2UuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlyZWwxIHRoZW57CiAgICAgICAgICBlbnRyaXJlbDEub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57ICAgICAgICAgIAogICAgICAgICAgICBvYnMuY29kZSB3aGVyZSggY29kZSA9ICc4NTcxNC00JykgdGhlbiB7CiAgICAgICAgICAgICAgb2JzLmNvZGUgLT4gaW1tdW5pemF0aW9uLnN0YXR1c1JlYXNvbjsKICAgICAgICAgICAgfSJjb2RlQ29udHJvbCI7CiAgICAgICAgICAgIG9icy5jb2RlIHdoZXJlKCBjb2RlID0gJzU5Nzg0LTknKSB0aGVuIHsKICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsIC0+IGltbXVuaXphdGlvbi5zdGF0dXNSZWFzb24gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNvZCB0aGVuewogICAgICAgICAgICAgICAgICBvcmlnaW5hbC5yZWZlcmVuY2UgYXMgcmVmZiAtPiBjb2QudGV4dCA9IChyZWZmLnZhbHVlKTsKICAgICAgICAgICAgICAgIH0iY29kIjsKICAgICAgICAgICAgICB9InZhbCI7CiAgICAgICAgICAgIH0iY29kZUNvbnRyb2wiOwogICAgICAgICAgfSJvYnMiOwogICAgICAgIH0iZW50cmlyZWwxIjsKCiAgICAgICAgc3Vic3RhbmNlLnBhcnRpY2lwYW50IGFzIHBhcnQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdMb2NhdGlvbicpIGFzIGxvY2F0aW9uIHRoZW57ICAgICAgICAgIAogICAgICAgICAgCiAgICAgICAgICAgIHBhcnQtPmxvY2F0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICBwYXJ0LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgcGFydCAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgIHBhcnQgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0Um9sZSB0aGVuewogICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkICAtPiBsb2NhdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gaWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdMb2NhdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPmxvY2F0aW9uLmlkID0ociArJy0nKyBleHQpIGFzIHV1aWQ3LCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycsIHV1aWQ3KSwgaW1tdW5pemF0aW9uLmxvY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycgKyAldXVpZDcpICJyZWYiOwogICAgICAgICAgICAgICAgICB9InIiIDsgCiAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgfSJyb2xlIjsKICAgICAgICB9ImxvY2F0aW9uIjsKICAgICAgfSJzdWIyIjsKICAgIH0ic3Vic3RhbmNlIjsKICB9ImVudHJ5IjsKfQoKZ3JvdXAgT2JzZXJ2YXRpb24oc291cmNlIGVudHJpcmVsMjogZW50cnlSZWxhdGlvbnNoaXAsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IG9iczogT2JzZXJ2YXRpb24peyAgCiAgZW50cmlyZWwyLm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIHRoZW57CiAgICAvLyBvYnNlcnZhdGlvbi50ZW1wbGF0ZUlkIGFzIHRpZCAtPiBvYnMuaWRlbnRpZmllciBhcyBpZGYgdGhlbnsKICAgIC8vICAgdGlkLnJvb3QgYXMgciAtPiBpZGYuc3lzdGVtID0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAvLyB9ImlkZiI7CiAgICBvYnNlcnZhdGlvbi5jb2RlIC0+IG9icy5jb2RlOwogICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYnMuc3RhdHVzID0nZmluYWwnOwogICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBvYnMuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgICBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBvYnMuc3RhdHVzID0nY2FuY2VsbGVkJzsKICAgIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2JzLnN0YXR1cyA9J3BhcnRpYWwnOwogICAgb2JzZXJ2YXRpb24tPiBvYnMuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICBvYnNlcnZhdGlvbi0+IG9icy5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgICAKICAgIG9ic2VydmF0aW9uIC0+IG9icy5yZWZlcmVuY2VSYW5nZSBhcyByZWZSYW5nZSB0aGVuewogICAgICBvYnNlcnZhdGlvbi52YWx1ZSAtPiByZWZSYW5nZS5hcHBsaWVzVG87CiAgICAgIG9ic2VydmF0aW9uIC0+IHJlZlJhbmdlLnRleHQgPSAnc3RyaW5nJyAidGV4dCI7CiAgICB9InJlZlJhbmdlIjsKICB9Im9icyI7Cn0KCmdyb3VwIE9ic2VydmF0aW9uMShzb3VyY2UgZW50cmlyZWw0OiBlbnRyeVJlbGF0aW9uc2hpcCwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyLCB0YXJnZXQgb2JzOiBPYnNlcnZhdGlvbil7ICAKICBlbnRyaXJlbDQub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgIC8vIG9ic2VydmF0aW9uLnRlbXBsYXRlSWQgYXMgdGlkIC0+IG9icy5pZGVudGlmaWVyIGFzIGlkZiB0aGVuewogICAgLy8gICB0aWQucm9vdCBhcyByIC0+IGlkZi5zeXN0ZW0gPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgIC8vIH0iaWRmIjsKICAgIG9ic2VydmF0aW9uLmNvZGUgLT4gb2JzLmNvZGU7CiAgICBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IG9icy5zdGF0dXMgPSdmaW5hbCc7CiAgICBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9icy5zdGF0dXMgPSdyZWdpc3RlcmVkJzsKICAgIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9icy5zdGF0dXMgPSdjYW5jZWxsZWQnOwogICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBvYnMuc3RhdHVzID0ncGFydGlhbCc7CiAgICBvYnNlcnZhdGlvbi0+IG9icy5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIG9ic2VydmF0aW9uLT4gb2JzLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgCgogICAgb2JzZXJ2YXRpb24uZWZmZWN0aXZlVGltZSBhcyBlZmYgd2hlcmUgKHZhbHVlLmV4aXN0cygpKSAtPiBvYnMuZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmYsIHZhbHVlKSAidmFsdWUxIjsKICAgIG9ic2VydmF0aW9uLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IG9icy5lZmZlY3RpdmUgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpICJwZXJpb2QiOwogICAgCiAgICBvYnNlcnZhdGlvbiAtPiBvYnMudmFsdWUgPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNvbmNlcHQgdGhlbnsgICAgICAKICAgICAgb2JzZXJ2YXRpb24udmFsdWUgLT4gY29uY2VwdC5jb2RpbmcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuewogICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHYgLT4gY29kaW5nLmNvZGUgPSAodi5jb2RlKTsKICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2IHRoZW57CiAgICAgICAgICB2LmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICB9InZ2IjsKICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2IC0+IGNvZGluZy5kaXNwbGF5ID0gKHYuZGlzcGxheU5hbWUpOwogICAgICB9ImNvZGluZyI7CiAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHUgdGhlbiB7CiAgICAgICAgdmFsdS5vcmlnaW5hbFRleHQgYXMgdHh0IHRoZW57CiAgICAgICAgICB0eHQucmVmZXJlbmNlIGFzIHJlZiAtPiAgY29uY2VwdC50ZXh0ID0gKHJlZi52YWx1ZSk7CiAgICAgICAgfSJ0eHQiOyAgCiAgICAgIH0idmFsdWUiOwogICAgfSJyZWZSYW5nZSI7CiAgfSJvYnMiOwp9", "subType": "00"}}, "filename": "Vaccinazioni_v1.9.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:37:52.672Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}},{"_id": {"$oid": "6414a58c4846375e3fecadc4"}, "uri": "http://www.ey.com/italy/ig/cda-fhir-maps/StructureMap/verbalePS", "version": "2.3", "template_id_root": ["2.16.840.1.113883.2.9.10.1.6.1"], "content": {"$binary": {"base64": "bWFwICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC92ZXJiYWxlUFMiID0gInZlcmJhbGVQUyIKCmNvbmNlcHRtYXAgIkFkbWluaXN0cmF0aXZlR2VuZGVyIiB7CiAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtQWRtaW5pc3RyYXRpdmVHZW5kZXIiCiAgcHJlZml4IHQgPSAiaHR0cDovL2hsNy5vcmcvZmhpci9WYWx1ZVNldC9hZG1pbmlzdHJhdGl2ZS1nZW5kZXIiCgogIHM6TSA9PSB0Om1hbGUKICBzOkYgPT0gdDpmZW1hbGUKfQoKY29uY2VwdG1hcCAiQWxsZXJneVR5cGVNYXAiIHsKCiAgICBwcmVmaXggcyA9ICJodHRwOi8vdGVybWlub2xvZ3kuaGw3Lm9yZy9WYWx1ZVNldC92My10eXBlIgogIAogICAgcHJlZml4IHQgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwiCiAgCiAgICBzOk9JTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpBTEcgPT0gdDphbGxlcmd5CiAgICBzOkRBTEcgPT0gdDphbGxlcmd5CiAgICBzOkVBTEcgPT0gdDphbGxlcmd5CiAgICBzOkZBTEcgPT0gdDphbGxlcmd5CiAgICBzOk5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6Rk5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RE5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RU5BSU5UID09IHQ6aW50b2xlcmFuY2UKICAgIHM6RklOVCA9PSB0OmludG9sZXJhbmNlCiAgICBzOkRJTlQgPT0gdDppbnRvbGVyYW5jZQogICAgczpFSU5UID09IHQ6aW50b2xlcmFuY2UKICB9CiAgY29uY2VwdG1hcCAiQWxsZXJneUNhdGVnb3J5TWFwIiB7CgogICAgcHJlZml4IHMgPSAiaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvVmFsdWVTZXQvdjMtdHlwZSIKICAgIHByZWZpeCB0ID0gImh0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsIgogIAogICAgczpEQUxHID09IHQ6bWVkaWNhdGlvbgogICAgczpFQUxHID09IHQ6ZW52aXJvbWVudAogICAgczpGQUxHID09IHQ6Zm9vZAogICAgczpGTkFJTlQgPT0gdDpmb29kCiAgICBzOkROQUlOVCA9PSB0Om1lZGljYXRpb24KICAgIHM6RU5BSU5UID09IHQ6ZW52aXJvbWVudAogICAgczpGSU5UID09IHQ6Zm9vZAogICAgczpESU5UID09IHQ6bWVkaWNhdGlvbgogICAgczpFSU5UID09IHQ6ZW52aXJvbWVudAogIH0KCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ2xpbmljYWxEb2N1bWVudCIgYWxpYXMgQ2xpbmljYWxEb2N1bWVudCBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Bc3NpZ25lZEF1dGhvciIgYWxpYXMgQXNzaWduZWRBdXRob3IgYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0Fzc2lnbmVkRW50aXR5IiBhbGlhcyBBc3NpZ25lZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQXNzb2NpYXRlZEVudGl0eSIgYWxpYXMgQXNzb2NpYXRlZEVudGl0eSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQ3VzdG9kaWFuT3JnYW5pemF0aW9uIiBhbGlhcyBDdXN0b2RpYW5Pcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb25QYXJ0T2YiIGFsaWFzIE9yZ2FuaXphdGlvblBhcnRPZiBhcyBxdWVyaWVkCnVzZXMgICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL09yZ2FuaXphdGlvbiIgYWxpYXMgcmFwcmVzZW50ZWRPcmdhbml6YXRpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1NlY3Rpb24iIGFsaWFzIFNlY3Rpb24gYXMgcXVlcmllZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnRSb2xlIiBhbGlhcyBQYXRpZW50Um9sZSBhcyBxdWVyaWVkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vQUQiIGFsaWFzIEFEIGFzIHNvdXJjZQp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL1N0cnVjdHVyZURlZmluaXRpb24vQnVuZGxlIiBhbGlhcyBCdW5kbGUgYXMgdGFyZ2V0CnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Db21wb3NpdGlvbiIgYWxpYXMgQ29tcG9zaXRpb24gYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1BhdGllbnQiIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL0VuY291bnRlciIgYWxpYXMgRW5jb3VudGVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9QZXJzb24iIGFsaWFzIFBhdGllbnQgYXMgcHJvZHVjZWQKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9TdHJ1Y3R1cmVEZWZpbml0aW9uL1ByYWN0aXRpb25lciIgYWxpYXMgUHJhY3RpdGlvbmVyIGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9Pcmdhbml6YXRpb24iIGFsaWFzIE9yZ2FuaXphdGlvbiBhcyBwcm9kdWNlZAp1c2VzICJodHRwOi8vaGw3Lm9yZy9maGlyL2NkYS9TdHJ1Y3R1cmVEZWZpbml0aW9uL0FjdCIgYWxpYXMgQWN0IGFzIHByb2R1Y2VkCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVBRIiBhbGlhcyBJVkxfUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvY2RhL1N0cnVjdHVyZURlZmluaXRpb24vSVZMLVRTIiBhcyBzb3VyY2UKdXNlcyAiaHR0cDovL2hsNy5vcmcvZmhpci9jZGEvU3RydWN0dXJlRGVmaW5pdGlvbi9QUSIgYWxpYXMgUFEgYXMgc291cmNlCnVzZXMgImh0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9TaW1wbGVRdWFudGl0eSIgYWxpYXMgU2ltcGxlUXVhbnRpdHkgYXMgdGFyZ2V0CgoKaW1wb3J0cyAiaHR0cDovL3d3dy5leS5jb20vaXRhbHkvaWcvY2RhLWZoaXItbWFwcy9TdHJ1Y3R1cmVNYXAvQ2RhVG9GaGlyRGF0YVR5cGVzIgppbXBvcnRzICJodHRwOi8vd3d3LmV5LmNvbS9pdGFseS9pZy9jZGEtZmhpci1tYXBzL1N0cnVjdHVyZU1hcC9GVUxMSEVBREVSIgoKLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKCmdyb3VwIENkYVRvQnVuZGxlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgY2RhIC0+ICBidW5kbGUuZW50cnkgYXMgZSwgZS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUucmVzb3VyY2UgPSBjcmVhdGUoJ0NvbXBvc2l0aW9uJykgYXMgY29tcG9zaXRpb24sICBjb21wb3NpdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NvbXBvc2l0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnQ29tcG9zaXRpb24nLCAgYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0UEFULCByZXF1ZXN0UEFULm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUGF0aWVudCcpIGFzIHBhdGllbnQsICBwYXRpZW50LmlkID0gdXVpZCgpIGFzIHV1aWQyLCAgZTIuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJywgdXVpZDIpLCBidW5kbGUuZW50cnkgYXMgZTMsIGUzLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgZTMucmVzb3VyY2UgPSBjcmVhdGUoJ0VuY291bnRlcicpIGFzIGVuY291bnRlciwgIGVuY291bnRlci5pZCA9IHV1aWQoKSBhcyB1dWlkMywgIGUzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJywgdXVpZDMpLHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicsCiAgYnVuZGxlLmVudHJ5IGFzIGU2LCBlNi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGU2LnJlc291cmNlID0gY3JlYXRlKCdEb2N1bWVudFJlZmVyZW5jZScpIGFzIERvY3VtZW50UmVmZXJlbmNlLCAgRG9jdW1lbnRSZWZlcmVuY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDYsICBlNi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRG9jdW1lbnRSZWZlcmVuY2UvJywgdXVpZDYpLHJlcXVlc3QudXJsID0gJ0RvY3VtZW50UmVmZXJlbmNlJyB0aGVuIHsKICAgIGNkYSB0aGVuIENsaW5pY2FsRG9jdW1lbnRUb0J1bmRsZShjZGEsIHBhdGllbnQsIGNvbXBvc2l0aW9uLCBlbmNvdW50ZXIsIGJ1bmRsZSxEb2N1bWVudFJlZmVyZW5jZSkgImNkYXRvYnVuZGxlIjsKICAgIGNkYS5yZWNvcmRUYXJnZXQgYXMgcmVjb3JkVGFyZ2V0IHRoZW57CiAgICAgIHJlY29yZFRhcmdldC5wYXRpZW50Um9sZSBhcyBwYXRpZW50IHRoZW57CiAgICAgICAgIHBhdGllbnQuaWQgYXMgaWQtPiBwYXRpZW50LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQxIC0+IGlkZW50aWZpZXIudmFsdWUgPSBleHQxICJ2YWx1ZSI7CiAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIH0iaWRmciI7CiAgICAgICAgICBwYXRpZW50LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSBvciAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy43JykKICAgICAgICAgIG9yIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjMnKSBvcihyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjE3Jykgb3IgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMTUnKSAgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcmVxdWVzdFBBVC51cmwgPSBhcHBlbmQoJ1BhdGllbnQ/aWRlbnRpZmllcj0nLGV4dCkgIlVVSUQiOwogICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICB9InJlY29yZCI7CiAgICAgICAgfSJyZWNQYXQiOwogIH0gIkNsaW5pY2FsRG9jdW1lbnRUb0JvZHkiOwp9Cgpncm91cCBDbGluaWNhbERvY3VtZW50VG9CdW5kbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGNvbXBvc2l0aW9uIDogQ29tcG9zaXRpb24sIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUgLCB0YXJnZXQgZG9jdW1lbnRyZWZlcmVuY2UgOiBEb2N1bWVudFJlZmVyZW5jZSkgewogIGNkYSAtPiBidW5kbGUuaWQgPSB1dWlkKCkgImlkIjsKICBjZGEuaWQgLT4gYnVuZGxlLmlkZW50aWZpZXIgImlkZW50aWZpZXIiOwogIGNkYSAtPiBidW5kbGUudHlwZSA9ICd0cmFuc2FjdGlvbicgInR5cGUiOwogIGNkYSAtPiBidW5kbGUudGltZXN0YW1wPSh0aW1lc3RhbXAubm93KCkpICJkYXRlIjsKICBjZGEgdGhlbiBDbGluaWNhbERvY3VtZW50Q29tcG9zaXRpb24oY2RhLCBjb21wb3NpdGlvbiwgcGF0aWVudCwgZW5jb3VudGVyLCBidW5kbGUsZG9jdW1lbnRyZWZlcmVuY2UpICJjb21wb3NpdGlvbiI7CiAgY2RhLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICBjb21wb25lbnQuc3RydWN0dXJlZEJvZHkgYXMgYm9keSB0aGVuIHsKICAgICAgYm9keS5jb21wb25lbnQgYXMgY29tcG9uZW50ICB0aGVuIHsKCSAgICAgY29tcG9uZW50LnNlY3Rpb24gYXMgc3JjU2VjdGlvbiB0aGVuIHsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUgKGNvZGU9JzExNDU5LTUnICktPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gTW9kYWxpdGFkaVRyYXNwb3N0byhjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpIk1vZGFsaXRhZGl0cmFzcG9ydG8iOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzc4MzM3LTMnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gSW5xdWFkcmFtZW50b0NsaW5pY29Jbml6aWFsZShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJJbnF1YWRyYW1lbnRvY2xpbmljbyI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnNDYyMzktMCcpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBNb3Rpdm9EZWxsYVZpc2l0YShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJJbnF1YWRyYW1lbnRvY2xpbmljbyI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnNTQwOTQtOCcpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBUcmlhZ2UoY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiVHJpYWdlIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc0NjI0MC04JykgLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uRW5jb3VudGVyKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIm1vdGl2b3JpY292ZXJvIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc4NjQ4LTgnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25EZWNvcnNvT3NwZWRhbGllcm8oY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiRGVjb3Jzb09zcGVkYWxpZXJvIjsKICAgICAgICBzcmNTZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc1NTEwOS0zJykgLT4gY29tcG9zaXRpb24uc2VjdGlvbiBhcyB0Z3RTZWN0aW9uICB0aGVuIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uQ29tcGxpY2FuemUoY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiQ29tcGxpY2F6aW9uaSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnNjIzODctNicpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbkNvbnN1bGVuemEoY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiSG9zcGl0YWxkaXNjaGFyZ2VzdHVkaWVzc3VtbWFyeSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMzA5NTQtMicpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbkFjY2VydGFtZW50aShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJBY2NlcnRhbWVudGkiOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzg3MTYtMycpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvblBhcmFtZXRyaVZpdGFsaShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJBY2NlcnRhbWVudGkiOwogICAgICAgIHNyY1NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzI5NTQ5LTMnKSAtPiBjb21wb3NpdGlvbi5zZWN0aW9uIGFzIHRndFNlY3Rpb24gIHRoZW4gQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRmFybWFjb0luUHJvbnRvKGNkYSwgc3JjU2VjdGlvbiwgcGF0aWVudCwgdGd0U2VjdGlvbiwgYnVuZGxlLGVuY291bnRlcikgIkFjY2VydGFtZW50aSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMTg3NzYtNScpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvblBpYW5vQ3VyYURpbWlzc2lvbmUoY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiUGlhbm9kaWN1cmFhbGxhZGltaXNzaW9uZSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMjg1NzQtMicpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRpbWlzc2lvbmUoY2RhLCBzcmNTZWN0aW9uLCBwYXRpZW50LCB0Z3RTZWN0aW9uLCBidW5kbGUsZW5jb3VudGVyKSAiRGltaXNzaW9uZSI7CiAgICAgICAgc3JjU2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnNzUzMTEtMScpIC0+IGNvbXBvc2l0aW9uLnNlY3Rpb24gYXMgdGd0U2VjdGlvbiAgdGhlbiBDbGluaWNhbERvY3VtZW50U2VjdGlvblRlcmFwaWFGYXJtYWNvbG9naWNhRGltaXNzaW9uZShjZGEsIHNyY1NlY3Rpb24sIHBhdGllbnQsIHRndFNlY3Rpb24sIGJ1bmRsZSxlbmNvdW50ZXIpICJUZXJhcGlhRmFybWFjb2xvZ2ljYURpbWlzc2lvbmUiOwogICAgICB9OwogICAgICB9OwogICAgfSJib2R5IjsKICB9Owp9CgovL1NlemlvbmUgY29tcGxpY2FuemUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkNvbXBsaWNhbnplKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICAgIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogICAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpIHRoZW4gewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgfSAiY2RhVGV4dCI7CiAgfSJlbnRyeWV4aXN0cyI7CiAgLy8gU2V6aW9uZSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgICBlbnRyeTEub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW4gT2JzZXJ2YXRpb24ob2JzLCBwYXRpZW50ICxlbmMgLG9ic2VydmF0aW9uLCBidW5kbGUpICJhY3QiOwogICAgfSJlbnRyeSI7CiAgICAvLyBTZXppb25lIE5hcnJhdGl2YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTgsIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBPYnNlcnZhdGlvbiwgIE9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVPYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgc3JjIC0+IE9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgIHNyYyAtPiBPYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgIHNyYy5jb2RlIC0+IE9ic2VydmF0aW9uLmNvZGU7CiAgICAgICAgICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgICAgc3JjLT5PYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgICAgICAgY2RhVGV4dCAtPiBPYnNlcnZhdGlvbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgICAgIH0iY2RhVGV4dCI7CiAgICAgICAgfSJ3aGVyZSI7CiAgCn0KCmdyb3VwIE9ic2VydmF0aW9uIChzb3VyY2Ugb2JzIDogT2JzZXJ2YXRpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IGVuY291bnRlciA6IEVuY291bnRlciwgdGFyZ2V0IG9iIDogT2JzZXJ2YXRpb24sIHRhcmdldCBidW5kbGUgOiBCdW5kbGUpIHsKICAKICBvYnMtPm9iLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgb2JzLT5vYi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsgIAogIG9icy5jb2RlIC0+IG9iLmNvZGU7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2Iuc3RhdHVzID0nZmluYWwnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9iLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBvYi5zdGF0dXMgPSdjYW5jZWxsZWQnOwogIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9iLnN0YXR1cyA9J3BhcnRpYWwnOwogIG9icyB3aGVyZSBvYnMuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICBvYnMtPm9iLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogIH0ic3RhdHVzY29kZSI7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvYnMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gb2IuZWZmZWN0aXZlPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgICB9IndoZXJlIjsKICBvYnMudmFsdWU6SU5UIGFzIGludC0+b2IudmFsdWU9KGludC52YWx1ZSkgInZhbHVlIjsKICBvYnMudmFsdWU6Q0QgYXMgdmFsIHRoZW57CiAgICB2YWwtPm9iLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgdmFsLm9yaWdpbmFsVGV4dCAtPiBjZS50ZXh0OwogICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICB2YWwuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgIH0gImNvZGUiOwogICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgIHF1YWxpZmllci52YWx1ZSBhcyB2YWx1ZSAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgfSJ0cmFuc2xhdGlvbjEiOwogICAgICB9ICJ0cmFuc2xhdGlvbiI7CiAgICB9ImNvZGluZyI7CiAgfSJ2YWwiOwogIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICB2YWwub3JpZ2luYWxUZXh0IC0+IGNlLnRleHQ7CiAgICB2YWwgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICB2YWwuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgfSAiY29kZSI7CiAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICB0cmFuc2xhdGlvbi5xdWFsaWZpZXIgYXMgcXVhbGlmaWVyIHRoZW57CiAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgIH0gInZhbHVlIjsKICAgICAgICB9InRyYW5zbGF0aW9uMSI7CiAgICAgIH0gInRyYW5zbGF0aW9uIjsKICAgIH0iY29kaW5nIjsKICB9InZhbCI7CiAgb2JzLnZhbHVlOlBRIGFzIHZhbCB0aGVuewogICAgdmFsLT5vYi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgIHZhbC52YWx1ZSBhcyB2YWx1ZS0+cXVhbnRpdHkudmFsdWUgPSB2YWx1ZTsKICAgIHZhbC51bml0IGFzIHVuaXQtPiBxdWFudGl0eS51bml0ID0gdW5pdCAidW5pdCI7CiAgICB9InF1YW50aXR5IjsKICB9InZhbHVlUXVhbnRpdHkiOwogIG9icy52YWx1ZTpCTCBhcyB2YWx1ZS0+b2IudmFsdWUgPWNyZWF0ZSgnYm9vbGVhbicpLG9iLnZhbHVlPSAodmFsdWUudmFsdWUpICJ2YWx1ZSI7CiAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgb2JzLmludGVycHJldGF0aW9uQ29kZSAtPiBvYi5pbnRlcnByZXRhdGlvbjsKICAgIG9icy5tZXRob2RDb2RlIC0+IG9iLm1ldGhvZDsKICBvYnMucGVyZm9ybWVyIGFzIHBlcmZvcm1lciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbiB7CiAgICAgIHBlcmZvcm1lci5hc3NpZ25lZEVudGl0eSBhcyBlbnRpdHkgdGhlbiB7CiAgICAgICAgZW50aXR5LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgZW50aXR5LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICBlbnRpdHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIGVudGl0eSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9vYnNlcnZhdGlvbi9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgZW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0IHRoZW4gewogICAgICAgICAgICBlbnRpdHktPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSJleHQiOwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDEsIGUxLmZ1bGxVcmwgID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgb2IucGVyZm9ybWVyID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAicGVyZm9ybWVyIjsKICAgICAgICAgIH0iciI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBlbnRpdHkuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICBwZXJzb24uYmlydGhUaW1lIGFzIGJpcnRoVGltZSB0aGVuewogICAgICAgICAgICBiaXJ0aFRpbWUudmFsdWUgYXMgZGF0ZSAtPiBwcmFjdGl0aW9uZXIuYmlydGhEYXRlPSB0cnVuY2F0ZShkYXRlLCAxMCk7CiAgICAgICAgICB9ImJpcnRoIjsKICAgICAgICB9Im5hbWUiOwogICAgICB9ImFzc2lnbmVkRW50aXR5IjsKICAgIH0icGVyZm9ybWVyIjsKICBvYnMucmVmZXJlbmNlUmFuZ2UgYXMgcmVmUmFuZ2UgLT4gb2IucmVmZXJlbmNlUmFuZ2UgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlZiB0aGVuIHsKICAgICAgcmVmUmFuZ2Uub2JzZXJ2YXRpb25SYW5nZSBhcyBvYnNSYW5nZSAtPiByZWYubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIExvdyAgdGhlbiB7CiAgICAgICAgICBvYnNSYW5nZS52YWx1ZTogSVZMX1BRIGFzIHYgIHRoZW4gewogICAgICAgICAgICB2LmxvdyBhcyBsMSB0aGVuIHsKICAgICAgICAgICAgICBsMS52YWx1ZSBhcyBkZWNWYWx1ZS0+IExvdy52YWx1ZSA9IGRlY1ZhbHVlOwogICAgICAgICAgICAgIGwxLnVuaXQgYXMgVW5pdC0+IExvdy51bml0ID0gVW5pdDsKICAgICAgICAgICAgfSJkZWNWYWx1ZSI7ICAgICAgICAgIAogICAgICAgICAgfSJJVkwtUFEiOyAgICAgICAgICAgICAgICAgICAgICAKICAgICAgfSJvYnNSYW5nZSI7ICAgICAgICAgICAgICAKICAgIH0icmVmUmFuZ2UiOyAgCn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vU2V6aW9uZSBEZWNvcnNvIE9zcGVkYWxpZXJvLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkRlY29yc29Pc3BlZGFsaWVybyhzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICAgIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogICAgc3JjIC0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSwgIG9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICBzcmMuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgICAgICB9InN0YXR1c2NvZGUiOwogICAgICAgICAgICBzcmMtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBzcmMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgc3JjLnRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsgICAgICAgICAgICAgICAgICAKICAgICAgc3JjLmF1dGhvciBhcyBhdXRoIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQxKSB0aGVuIHsKICAgICAgICAgICAgICBhdXRoLnRpbWUgYXMgdGkgLT5ub3RlLnRpbWU9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUodGksIHZhbHVlKSAidGltZSI7CiAgICAgICAgICAgICAgYXV0aC5hc3NpZ25lZEF1dGhvciBhcyBhc3NBdXRoIHRoZW57CiAgICAgICAgICAgICAgLy9tZXRhK2lkZW50aWZpZXIKICAgICAgICAgICAgICBhc3NBdXRoLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgYXNzQXV0aC0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9EZWNvcnNvT3NwZWRhbGllcm8vYXV0aG9yJyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIGFzc0F1dGguaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksIG5vdGUuYXV0aG9yICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgYXNzQXV0aC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICBhc3NBdXRoLmFzc2lnbmVkUGVyc29uIGFzIGFzc1BlcnMgdGhlbnsKICAgICAgICAgICAgICAgICAgYXNzUGVycy5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgIH0iYXNzUGVycyI7CiAgICAgICAgICAgIH0iYXNzQXV0aCI7CiAgICAgICAgfSJBdXRoIjsKICAgIH0iT0Itbm90ZSI7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy9TZXppb25lIEVuY291bnRlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkVuY291bnRlcihzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYzEgOiBFbmNvdW50ZXIpewogICAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgIH0gImNkYVRleHQiOwogICAgc3JjLmVudHJ5IGFzIGVudHJ5MSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdFbmNvdW50ZXInKSBhcyBlbmNvdW50ZXIsICBlbmNvdW50ZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgdGhlbiB7CiAgICAgICAgZW50cnkxIC0+IGVuY291bnRlci5wYXJ0T2YgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMxLmlkKSAicmVmZXIiOwogICAgICAgIGVudHJ5MSAtPiBlbmNvdW50ZXIuc3ViamVjdCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXIiOwogICAgICAgIGVudHJ5MSAtPiBlbmNvdW50ZXIuc3RhdHVzID0gJ2ZpbmlzaGVkJyAic3RhdHVzIjsKICAgICAgICBlbnRyeTEgLT4gZW5jb3VudGVyLmNsYXNzID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjbCB0aGVuewogICAgICAgICAgZW50cnkxIC0+IGNsLmNvZGUgPSAnQU1CJyAiY29kZSI7CiAgICAgICAgICBlbnRyeTEgLT4gY2wuZGlzcGxheSA9ICdhbWJ1bGF0b3J5JyAiY29kZSI7CiAgICAgICAgfSJjbGFzcyI7CiAgICAgICAgZW50cnkxLmVuY291bnRlciBhcyBlbmMgdGhlbnsKICAgICAgICAgICAgZW5jLmNvZGUgLT4gZW5jb3VudGVyLnR5cGU7ICAKICAgICAgICAgICAgIC8vIGVmZmVjdGl2ZVRpbWU9cGVyaW9kCiAgICAgICAgICAgICBlbmMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgIGVuYy5lZmZlY3RpdmVUaW1lIGFzIGVmZiAgLT4gZW5jb3VudGVyLnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgIC8vIGVmZmVjdGl2ZVRpbWUgPSB0aW1lLXN0YW1wCiAgICAgICAgICAgICAgZW5jIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpLm5vdCgpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICAgIGVuYy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZXRpbWUxIC0+IGVuY291bnRlci5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgICAgICAgZWZmZWN0aXZldGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gIGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZldGltZTEsc3RhcnQpICJ2YWwiOyAKICAgICAgICAgICAgICB9ImVmZnQiOwogICAgICAgICAgICAgIH0id2hlcmUiOyAgICAgICAgICAgICAKICAgICAgICAgICAgLy8gZW5jLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IGVuY291bnRlci5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgICAvLyAgICAgZWZmLmxvdyBhcyBsIC0+IHBlcmlvZC5zdGFydCA9IChsLnZhbHVlKTsKICAgICAgICAgICAgLy8gICAgIGVmZi5oaWdoIGFzIGggLT4gcGVyaW9kLmVuZCA9IChoLnZhbHVlKTsKICAgICAgICAgICAgLy8gfSJwZXJpb2QiOwogICAgICAgICAgICBlbmMucGFydGljaXBhbnQgYXMgcGFydCB3aGVyZSh0eXBlQ29kZSAhPSAnTE9DJykgLT4gZW5jb3VudGVyLnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXRhcmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHBhcnQgLT4gcGF0YXJnLnR5cGUgYXMgdHlwZSB0aGVuIHsgCiAgICAgICAgICAgICAgICAgIHBhcnQgLT4gdHlwZS5jb2RpbmcgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgICAgICAgIHBhcnQtPiBjb2RpbmcuY29kZSA9IChwYXJ0LnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgICAgICAgICAgcGFydC0+IGNvZGluZy5zeXN0ZW0gPSAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1QYXJ0aWNpcGF0aW9uVHlwZScgInN5c3RlbSI7CiAgICAgICAgICAgICAgICB9ICJjb2RlVHlwZSI7IAogICAgICAgICAgICAgIH0idHlwZSI7CiAgICAgICAgICAgICAgcGFydC50aW1lIGFzIHRpbWUxIC0+IHBhdGFyZy5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIHsKICAgICAgICAgICAgICAgIHRpbWUxIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUodGltZTEsc3RhcnQpICJ2YWwiOwogICAgICAgICAgICAgICB9InRpbWUiOwogICAgICAgICAgICAgICAgcGFydC50aW1lIGFzIHRpIC0+IHBhdGFyZy5wZXJpb2QgPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QodGkscGVyaW9kKTsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHBhcnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRSb2xlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDEpIHRoZW4geyAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy9tb2RpZmljYSBtZXRhK2lkZW50aWZpZXIKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgcGFydFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvRW5jb3VudGVyL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBwYXRhcmcuaW5kaXZpZHVhbCA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgcGFydFJvbGUuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgcGFydFJvbGUucGxheWluZ0VudGl0eSBhcyBwbGF5RW50IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBwbGF5RW50Lm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSJwbGF5RW50IjsgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgfSJwYXJ0Um9sZSI7CiAgICAgICAgICAgIH0icGFydGljaXBhbnQtQURNIjsKICAgICAgICAgICAgZW5jLnBhcnRpY2lwYW50IGFzIHBhcnQgd2hlcmUodHlwZUNvZGUgPSAnTE9DJykgdGhlbnsKICAgICAgICAgICAgICAgIHBhcnQudGltZSBhcyB0aW0gLT4gZW5jb3VudGVyLmxvY2F0aW9uIGFzIGxvY2F0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgdGltIC0+IGxvY2F0LnBlcmlvZCA9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZCh0aW0scGVyaW9kKSJ0aW1lIjsgCiAgICAgICAgICAgICAgICAgICAgcGFydC50aW1lIGFzIHRpbSAgLT4gbG9jYXQucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIHRpbSAtPiBwZXJpb2Quc3RhcnQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKHRpbSxzdGFydCkgInZhbCI7CiAgICAgICAgICAgICAgICAgICAgIH0idGltZSI7CiAgICAgICAgICAgICAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0Um9sZSAtPiAgYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdMb2NhdGlvbicpIGFzIGxvY2F0aW9uLCAgbG9jYXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJywgdXVpZDEpIHRoZW57ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBwYXJ0LT4gbG9jYXRpb24ubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgcGFydC0+IG1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBwYXJ0IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgcGFydCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9FbmNvdW50ZXIvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7ICAgICAgIAogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IGxvY2F0aW9uLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlIC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdMb2NhdGlvbj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gbG9jYXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJywgdXVpZCksICBsb2NhdC5sb2NhdGlvbiA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycgKyAlbG9jYXRpb24uaWQpICJpZGFzaSI7ICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgfSJyIiA7CiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5jb2RlIC0+IGxvY2F0aW9uLnR5cGU7CiAgICAgICAgICAgICAgICB9InBhcnRSb2xlIjsKICAgICAgICAgICAgICB9ImxvY2F0aW9uIjsKICAgICAgICAgICAgfSJwYXJ0aWNpcGFudDIiOwogICAgICAgICAgICAKICAgICAgICAgICAgZW5jLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLCBlbmNvdW50ZXIucmVhc29uUmVmZXJlbmNlID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgZW50ci5hY3QgYXMgYWN0IHRoZW57ICAgICAgICAgICAgICAgICAgICAKCiAgICAgICAgICAgICAgICBhY3QuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgICAgICAgYWN0IC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgYWN0IC0+IG9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMxLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgIGFjdCB3aGVyZSBhY3Quc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgYWN0LT5vYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7CiAgICAgICAgICAgICAgICAgICAgYWN0IC0+IG9ic2VydmF0aW9uLm5vdGUgPSBjcmVhdGUoJ0Fubm90YXRpb24nKSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdC50ZXh0IGFzIHRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmYgLT4gbm90ZS50ZXh0ID0gKHJlZmYudmFsdWUpOwogICAgICAgICAgICAgICAgICAgICAgICB9InRleHQiOwogICAgICAgICAgICAgICAgICAgICAgICBhY3QudGV4dCBhcyB0eCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB0eC5yZWZlcmVuY2UgYXMgcmVmIC0+IG5vdGUudGV4dCA9IChyZWYudmFsdWUpICJ2YWwiOyAKICAgICAgICAgICAgICAgICAgICAgICAgfSJTdHJpbmciOwogICAgICAgICAgICAgICAgICAgICAgICBhY3QuYXV0aG9yIGFzIGF1dGggLT4gIGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxLCBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgYXV0aC50aW1lIGFzIHRpIC0+IG5vdGUudGltZT0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0aSwgdmFsdWUpICJub3RldGltZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGguYXNzaWduZWRBdXRob3IgYXMgYXNzQXV0aCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NBdXRoLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzQXV0aC0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9FbmNvdW50ZXIvYXV0aG9yJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc0F1dGguaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksIG5vdGUuYXV0aG9yID1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzQXV0aC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7ICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZSBtb2RpZmljYQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYXNzQXV0aC5pZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NBdXRoLnRpbWUgYXMgdCAtPiBub3RlLnRleHQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHQsIHZhbHVlKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3NBdXRoLmFzc2lnbmVkUGVyc29uIGFzIGFzc1BlcnMgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzUGVycy5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0ibmFtZSI7ICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJhc3NBdXNoIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJwcmFjdGl0aW9uZXIiOyAgICAKICAgICAgICAgICAgICAgICAgICB9Im5vdGUiOwogICAgICAgICAgICAgICAgfSJhY3QiOwogICAgICAgICAgICB9ImVudHJ5UmVsLVNVQkoiOwogICAgICAgIH0iZW5jb3VudGVyIjsKICAgIH0iZW50cnkiOwp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vU2V6aW9uZSBDb25zdWxlbnphLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uQ29uc3VsZW56YShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgICAgIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogICAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuIHsKICAgICAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgICAgICB9ICJjZGFUZXh0IjsKICAgICAgfSJlbnRyeS1leGlzdHMiOwogICAgLy9TZXppb25lIE5hcnJhdGl2YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTgsIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnU2VydmljZVJlcXVlc3QnKSBhcyBTZXJ2aWNlUmVxdWVzdCwgIFNlcnZpY2VSZXF1ZXN0LmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1NlcnZpY2VSZXF1ZXN0LycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnU2VydmljZVJlcXVlc3QnLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVTZXJ2aWNlUmVxdWVzdC5pZCkgdGhlbiB7CiAgICAgICAgICBzcmMgLT4gU2VydmljZVJlcXVlc3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICBzcmMgLT4gU2VydmljZVJlcXVlc3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgICAgc3JjIC0+IFNlcnZpY2VSZXF1ZXN0LnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICAgICAgc3JjIC0+IFNlcnZpY2VSZXF1ZXN0LmludGVudD0nb3JkZXInImludGVudCI7ICAgIAogICAgICAgICAgICAgICAgY2RhVGV4dCAtPiBTZXJ2aWNlUmVxdWVzdC5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgICAgICAgIH0iY2RhVGV4dCI7CiAgICAgICAgICB9IndoZXJlIjsKCiAgICAgIC8vU2V6aW9uZSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgCiAgICAgIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnU2VydmljZVJlcXVlc3QnKSBhcyBzZXJ2aWNlUmVxdWVzdCwgIHNlcnZpY2VSZXF1ZXN0LmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1NlcnZpY2VSZXF1ZXN0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnU2VydmljZVJlcXVlc3QnICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlUmVxdWVzdC5pZCksIHNlcnZpY2VSZXF1ZXN0Lm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICAKICAgICAgICBlbnRyeTEtPnNlcnZpY2VSZXF1ZXN0LnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgZW50cnkxLT5zZXJ2aWNlUmVxdWVzdC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICBlbnRyeTEgLT4gc2VydmljZVJlcXVlc3Quc3RhdHVzPSdhY3RpdmUnInN0YXR1cyI7CiAgICAgICAgZW50cnkxIC0+IHNlcnZpY2VSZXF1ZXN0LmludGVudD0nb3JkZXInImludGVudCI7ICAgIAogICAgICAgIAogICAgICAgIGVudHJ5MS5hY3QgYXMgYWN0IHRoZW57CiAgICAgICAgYWN0LmNvZGUgLT4gc2VydmljZVJlcXVlc3QuY29kZTsKICAgICAgICAgIGFjdC50ZXh0IGFzIHQgLT4gbm90ZS50ZXh0ID0gKHQuZGF0YVN0cmluZykgInRleHQiOyAKICAgICAgICAgIGFjdC5zdGF0dXNDb2RlIGFzIGNvZGUgLT4gc2VydmljZVJlcXVlc3Quc3RhdHVzID0gKGNvZGUuY29kZSk7CiAgICAgICAgICBhY3QucGVyZm9ybWVyIGFzIHBlcmYgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgIHBlcmYudGltZSBhcyB0aW1lICAtPiBzZXJ2aWNlUmVxdWVzdC5vY2N1cnJlbmNlPWNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB0IHRoZW4gVFNEYXRlVGltZSh0aW1lLHQpICJ0aW1lIjsKICAgICAgICAgIHBlcmYuYXNzaWduZWRFbnRpdHkgYXMgYXNzRW50IHRoZW57CgogICAgICAgICAgCiAgICAgICAgICAgICAgYXNzRW50LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgYXNzRW50LT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBhc3NFbnQgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIGFzc0VudCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9Db25zdWxlbnplL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICBhc3NFbnQuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHNlcnZpY2VSZXF1ZXN0LnBlcmZvcm1lciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgIGFzc0VudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgYXNzRW50LmFzc2lnbmVkUGVyc29uIGFzIGFzc1BlciB0aGVuIHsKICAgICAgICAgICAgICAgIGFzc1Blci5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgIH0iYXNzUGVyIjsKICAgICAgICAgICAgfSJhc3NFbnQiOwogICAgICAgICAgfSJwZXJmb3JtZXIiOyAgICAgICAgICAgCiAgICAgICAgICBhY3QucGFydGljaXBhbnQgYXMgcGFydGkgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgICAgcGFydGkudGltZSBhcyB0aW1lICAtPiBzZXJ2aWNlUmVxdWVzdC5hdXRob3JlZE9uPWNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB0IHRoZW4gVFNEYXRlVGltZSh0aW1lLHQpICJ0aW1lIjsKICAgICAgICAgIHBhcnRpLnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0Um9sZSB0aGVuIHsKICAgICAgICAgICAgICAgIHBhcnRSb2xlLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgcGFydFJvbGUtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHBhcnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9Db25zdWxlbnplL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBzZXJ2aWNlUmVxdWVzdC5yZXF1ZXN0ZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CgogICAgICAgICAgICAKICAgICAgICAgICAgICBwYXJ0Um9sZS5wbGF5aW5nRW50aXR5IGFzIGVudGl0eSB0aGVuewogICAgICAgICAgICAgICAgZW50aXR5Lm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgfSJlbnRpdHkiOwogICAgICAgICAgICB9InBhcnRSb2xlIjsKICAgICAgICAgIH0icGFydGljaXBhbnQiOyAgIAogICAgICAgIH0iQUNUIjsKICAgICAgfSJlbnRyeSI7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vU2V6aW9uZSBBY2NlcnRhbWVudGktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQpncm91cCBDbGluaWNhbERvY3VtZW50U2VjdGlvbkFjY2VydGFtZW50aShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKSB0aGVuIHsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gdGd0LnRleHQgYXMgZmhpclRleHQgdGhlbiB7CiAgICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICAgIH0gImNkYVRleHQiOwogIH0iZW50cnlFeGlzdHMiOwogIC8vU2V6aW9uZSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7ICAgIAogICAgZW50cnkxLm9yZ2FuaXplciBhcyBvYnMgdGhlbnsgICAgICAKICAgICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgIG9icyB0aGVuIE9ic2VydmF0aW9uQWNjZXJ0YW1lbnRpKG9icywgcGF0aWVudCAsZW5jICxvYnNlcnZhdGlvbiwgYnVuZGxlKSAiYWN0IjsKICAgIH0ib2JzIjsgCiAgfSJlbnRyeSI7CiAgLy9TZXppb25lIE5hcnJhdGl2YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGU4LCBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgT2JzZXJ2YXRpb24sICBPYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkOCwgIGU4LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkOCksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlT2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgICBzcmMgLT4gT2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgIHNyYyAtPiBPYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICBzcmMuY29kZSAtPiBPYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgc3JjIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgc3JjLT5PYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICB9InN0YXR1c2NvZGUiOwogICAgICAgICAgICBjZGFUZXh0IC0+IE9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgfSJ3aGVyZSI7Cn0KCgpncm91cCBPYnNlcnZhdGlvbkFjY2VydGFtZW50aSAoc291cmNlIG9icyA6IE9ic2VydmF0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCBlbmNvdW50ZXIgOiBFbmNvdW50ZXIsIHRhcmdldCBvYiA6IE9ic2VydmF0aW9uLCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlKSB7CiAgb2JzLmNvZGUgLT4gb2IuY29kZTsKICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CiAgb2JzIHdoZXJlIG9icy5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgb2JzLT5vYi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgIH0ic3RhdHVzY29kZSI7CiAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBvYi5lZmZlY3RpdmUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAidmFsdWUyIjsKICBvYnMgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gb2IuZWZmZWN0aXZlPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgICB9IndoZXJlIjsKICBvYnMudmFsdWU6Q0QgYXMgdmFsIHRoZW57CiAgICB2YWwtPm9iLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgdmFsLm9yaWdpbmFsVGV4dCAtPiBjZS50ZXh0OwogICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICB2YWwuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgIH0gImNvZGUiOwogICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgIHF1YWxpZmllci52YWx1ZSBhcyB2YWx1ZSAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsIjsKICAgICAgfSAidHJhbnNsYXRpb24iOwogICAgfSJjb2RpbmciOwogIH0idmFsIjsKICBvYnMudmFsdWU6Q0UgYXMgdmFsIHRoZW57CiAgICB2YWwtPm9iLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgdmFsLm9yaWdpbmFsVGV4dCAtPiBjZS50ZXh0OwogICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICB2YWwuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgIH0gImNvZGUiOwogICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgIHF1YWxpZmllci52YWx1ZSBhcyB2YWx1ZSAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgfSJxdWFsIjsKICAgICAgfSAidHJhbnNsYXRpb24iOwogICAgfSJjb2RpbmciOwogIH0idmFsIjsKICBvYnMudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICB2YWwtPm9iLnZhbHVlID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIHF1YW50aXR5IHRoZW4gewogICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgdmFsLnVuaXQgYXMgdW5pdC0+IHF1YW50aXR5LnVuaXQgPSB1bml0ICJ1bml0IjsKICAgIH0icXVhbnRpdHkiOwogIH0idmFsdWVRdWFudGl0eSI7CiAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9iLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgb2JzLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CgogICAgb2JzLT5vYi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIG9icy0+b2IuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICBvYnMuaW50ZXJwcmV0YXRpb25Db2RlIC0+IG9iLmludGVycHJldGF0aW9uOwogICAgb2JzLm1ldGhvZENvZGUgLT4gb2IubWV0aG9kOwogICAKICAgIG9icy5yZWZlcmVuY2VSYW5nZSBhcyByZWZSYW5nZSAtPiBvYi5yZWZlcmVuY2VSYW5nZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVmIHRoZW4gewogICAgICByZWZSYW5nZS5vYnNlcnZhdGlvblJhbmdlIGFzIG9ic1JhbmdlIC0+IHJlZi5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgTG93ICB0aGVuIHsKICAgICAgICAgIG9ic1JhbmdlLnZhbHVlOiBJVkxfUFEgYXMgdiAgdGhlbiB7CiAgICAgICAgICAgIHYubG93IGFzIGwxIHRoZW4gewogICAgICAgICAgICAgIGwxLnZhbHVlIGFzIGRlY1ZhbHVlLT4gTG93LnZhbHVlID0gZGVjVmFsdWU7CiAgICAgICAgICAgICAgbDEudW5pdCBhcyBVbml0LT4gTG93LnVuaXQgPSBVbml0OwogICAgICAgICAgICB9ImRlY1ZhbHVlIjsgICAgICAgICAgCiAgICAgICAgICB9IklWTC1QUSI7ICAgICAgICAgICAgICAgICAgICAgIAogICAgICB9Im9ic1JhbmdlIjsgICAgICAgICAgICAgIAogICAgfSJyZWZSYW5nZSI7ICAKCgogICAgb2JzLnBlcmZvcm1lciBhcyBwZXJmb3JtZXIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgcGVyZm9ybWVyLmFzc2lnbmVkRW50aXR5IGFzIGFzc0VudGl0eSB0aGVuIHsKCiAgICAgICAgLy9pbml6aW8gbW9kaWZpY2EgaWRlbnRpZmllcittZXRhIAogICAgICAgIGFzc0VudGl0eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc0VudGl0eS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgYXNzRW50aXR5IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBhc3NFbnRpdHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvQWNjZXJ0YW1lbnRpL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICBhc3NFbnRpdHkuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksIG9iLnBlcmZvcm1lciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgfSJyIjsKICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgIGFzc0VudGl0eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgLy9maW5lIG1vZGlmaWNhCiAgICAgICAgLy9hc3NFbnRpdHkuaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXI7CiAgICAgICAgYXNzRW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIGFzc2kgdGhlbiB7CiAgICAgICAgICBhc3NpLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgfSJhc3NpIjsKICAgICAgfSJhc3NFbnRpdHkiOwogICAgfSJwZXJmIjsKCiAgICBvYnMucGFydGljaXBhbnQgYXMgcGFydGljaXBhbnQgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnU2VydmljZVJlcXVlc3QnKSBhcyBzZXJ2aWNlUmVxdWVzdCwgIHNlcnZpY2VSZXF1ZXN0LmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1NlcnZpY2VSZXF1ZXN0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnU2VydmljZVJlcXVlc3QnICxvYi5iYXNlZE9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1NlcnZpY2VSZXF1ZXN0LycgKyAlc2VydmljZVJlcXVlc3QuaWQpIHRoZW57CiAgICAgIAogICAgICAvL3BhcnRpY2lwYW50LnRpbWUgYXMgdCAtPiBzZXJ2aWNlUmVxdWVzdC5hdXRob3JlZE9uID0gKHQudmFsdWUpOwogICAgICBwYXJ0aWNpcGFudC50aW1lIGFzIHQgLT4gc2VydmljZVJlcXVlc3QuYXV0aG9yZWRPbiA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUodCwgdmFsdWUpICJ2YWx1ZTIiOwogICAgIAogICAgICBvYnMtPnNlcnZpY2VSZXF1ZXN0LnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgIG9icy0+c2VydmljZVJlcXVlc3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlci5pZCkgInJlZmVyZW5jZSI7CiAgICAgIG9icyAtPiBzZXJ2aWNlUmVxdWVzdC5zdGF0dXM9J2FjdGl2ZScic3RhdHVzIjsKICAgICAgb2JzIC0+IHNlcnZpY2VSZXF1ZXN0LmludGVudD0nb3JkZXInImludGVudCI7CiAgICAgIHBhcnRpY2lwYW50LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0aWNpcGFudFJvbGUgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAKICAgICAgICAvL21vZGlmaWNhIG1ldGEraWRlbnRpZmllcgogICAgICAgIHBhcnRpY2lwYW50Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIHBhcnRpY2lwYW50Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgcGFydGljaXBhbnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICBwYXJ0aWNpcGFudFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvQWNjZXJ0YW1lbnRpL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIHBhcnRpY2lwYW50Um9sZS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgc2VydmljZVJlcXVlc3QucmVxdWVzdGVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICB9InIiOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgcGFydGljaXBhbnRSb2xlLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAvL2ZpbmUgbW9kaWZpY2EgICAgICAgICAKICAgICAgICAKICAgICAgICAvL3BhcnRpY2lwYW50Um9sZS5pZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllcjsKICAgICAgICBwYXJ0aWNpcGFudFJvbGUucGxheWluZ0VudGl0eSBhcyBwZSB0aGVuewogICAgICAgICAgcGUubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICB9InBlIjsKICAgICAgfSJwYXJ0aWNpcGFudFJvbGUiOwogICAgfSJwYXJ0aWNpcGFudCI7CgogICAgb2JzLmNvbXBvbmVudCBhcyBjb21wIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIG9iLmhhc01lbWJlciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuewogICAgICBjb21wLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIHsgICAgCiAgICAgICAgb2JzLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsgICAgICAgICAgICAgCiAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnOwogICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2Fib3J0ZWQnKSAtPiBvYnNlcnZhdGlvbi5zdGF0dXMgPSdjYW5jZWxsZWQnOwogICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3BhcnRpYWwnOwogICAgICAgIG9icyB3aGVyZSBvYnMuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICBvYnMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgIH0ic3RhdHVzY29kZSI7IAogICAgICAgIAogICAgICAgIG9icy0+b2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgb2JzLT5vYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVyLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IG9iLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTIiOwogICAgICAgIG9icyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmYtPiBvYi5lZmZlY3RpdmU9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsKICAgICAgICAgIH0id2hlcmUiOwoKICAgICAgICBvYnMudmFsdWUgYXMgdmFsIC0+IG9ic2VydmF0aW9uLnZhbHVlID0gKHZhbC5kYXRhU3RyaW5nKTsKICAgICAgfSJvYnMiOwogICAgfSJvYnNlcnZhdGlvbiI7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy9TZXppb25lIFBhcmFtZXRyaVZpdGFsaS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uUGFyYW1ldHJpVml0YWxpKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICAgICAgICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICAgICAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgICAgICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpIHRoZW4gewogICAgICAgICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgICAgICAgfSAiY2RhVGV4dCI7CiAgICAgICAgfSJlbnRyeS1leGlzdHMiOwoKICAgICAgLy8gU2V6aW9uZSBOYXJyYXRpdmEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgc3JjIHdoZXJlIHNyYy5lbnRyeS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgIHNyYy50ZXh0IGFzIGNkYVRleHQgLT4gYnVuZGxlLmVudHJ5IGFzIGU4LCBlOC5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTgucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgT2JzZXJ2YXRpb24sICBPYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkOCwgIGU4LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkOCksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlT2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgICAgICAgICBzcmMgLT4gT2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgIHNyYyAtPiBPYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgICAgICBzcmMuY29kZSAtPiBPYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgICAgICAgc3JjIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgc3JjLT5PYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICAgICAgICB9InN0YXR1c2NvZGUiOwogICAgICAgICAgICAgICAgICBjZGFUZXh0IC0+IE9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgICAgICAgfSJ3aGVyZSI7CiAgICAgIC8vU2V6aW9uZSBTdHJ1dHR1cmF0YSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIHNyYy5lbnRyeSBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICBlbnRyeTEub3JnYW5pemVyIGFzIG9yZyB0aGVuewogICAgICAgICAgICBvcmcgLT4gb2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgIG9yZyAtPiBvYnNlcnZhdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgICAgICAgICBvcmcuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCc7CiAgICAgICAgICAgIG9yZy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogICAgICAgICAgICBvcmcuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhYm9ydGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0nY2FuY2VsbGVkJzsKICAgICAgICAgICAgb3JnLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0ncGFydGlhbCc7CiAgICAgICAgICAgIG9yZyB3aGVyZSBvYnMuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICBvcmctPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgICAgICB9InN0YXR1c2NvZGUiOyAgICAgICAKICAgICAgICAgICAgb3JnLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgb3JnIHdoZXJlIG9yZy5jb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICAgIHNyYy5jb2RlLT5vYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICBvcmcuY29tcG9uZW50IGFzIGNvbXBvbmVudCAtPiAgYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbjEsICBvYnNlcnZhdGlvbjEuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLG9ic2VydmF0aW9uLmhhc01lbWJlciAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uMS5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIHsKICAgICAgICAgICAgICAgIG9icyAtPiBvYnNlcnZhdGlvbjEuc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICBvYnMgLT4gb2JzZXJ2YXRpb24xLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgICAgIG9icy5jb2RlIC0+IG9ic2VydmF0aW9uMS5jb2RlOwogICAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgLT4gb2JzZXJ2YXRpb24xLnN0YXR1czsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IG9ic2VydmF0aW9uMS5zdGF0dXMgPSdmaW5hbCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhY3RpdmUnKSAtPiBvYnNlcnZhdGlvbjEuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhYm9ydGVkJykgLT4gb2JzZXJ2YXRpb24xLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBvYnNlcnZhdGlvbjEuc3RhdHVzID0ncGFydGlhbCc7CiAgICAgICAgICAgICAgICBvYnMgd2hlcmUgb2JzLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uMS5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICAgIH0ic3RhdHVzY29kZSI7ICAgICAgICAgICAKICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG9icyAtPiBvYnNlcnZhdGlvbjEudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnQgdGhlbnsKICAgICAgICAgICAgICAgICAgb2JzLnZhbHVlIGFzIHYgLT4gcXVhbnQudmFsdWUgPSAodi52YWx1ZSk7CiAgICAgICAgICAgICAgICAgIG9icy52YWx1ZSBhcyB2IC0+IHF1YW50LnVuaXQgPSAodi51bml0KTsKICAgICAgICAgICAgICAgIH0icXVhbnQiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOkNFIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICB2YWwtPm9iLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQ9cmVmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgIH0ib3JpZ2lubHRleHQiOwogICAgICAgICAgICAgICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0idmFsdWUiOwogICAgICAgICAgICAgICAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICAgICAgICAgICAgICAgIH0idHJhbnNsYXRpb24iOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9InZhbCI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6Q0QgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgIHZhbC0+b2IudmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlLT4gY2UudGV4dD1yZWZlcmVuY2U7CiAgICAgICAgICAgICAgICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgICAgICAgICAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICB9InF1YWxpZmllciI7CiAgICAgICAgICAgICAgICAgICAgfSJ0cmFuc2xhdGlvbiI7CiAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgIH0idmFsIjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpTVCBhcyB2YWx1ZS0+b2IudmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2IudmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9iLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6QkwgYXMgYm9vbGVhbiAtPm9iLnZhbHVlPShib29sZWFuLnZhbHVlKSJib29sZWFuIjsKICAgICAgICAgICAgICAgIG9icy5pbnRlcnByZXRhdGlvbkNvZGUgLT4gb2JzZXJ2YXRpb24xLmludGVycHJldGF0aW9uOwogICAgICAgICAgICAgICAgb2JzLm1ldGhvZENvZGUgLT4gb2JzZXJ2YXRpb24xLm1ldGhvZDsKICAgICAgICAgICAgICAgIG9icy50YXJnZXRTaXRlQ29kZSAtPiBvYnNlcnZhdGlvbjEuYm9keVNpdGU7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIG9icy5wZXJmb3JtZXIgYXMgcGVyZm9ybWVyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDEpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVyLnRpbWUgYXMgdCAtPiBvYnNlcnZhdGlvbjEuaXNzdWVkID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIGRhdGUgdGhlbiBUU0RhdGVUaW1lKHQsZGF0ZSk7CiAgICAgICAgICAgICAgICAgICAgcGVyZm9ybWVyLmFzc2lnbmVkRW50aXR5IGFzIGFzc0VudGl0eSB0aGVuewogICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIC8vaW5pemlvIG1vZGlmaWNhIG1ldGErIGlkZW50aWZpZXIKICAgICAgICAgICAgICAgICAgICBhc3NFbnRpdHktPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBhc3NFbnRpdHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc0VudGl0eSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzRW50aXR5IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L1BhcmFtZXRyaVZpdGFsaS9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgYXNzRW50aXR5LmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBvYnNlcnZhdGlvbjEucGVyZm9ybWVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgICAgYXNzRW50aXR5LmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy9maW5lIG1vZGlmaWNhCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy9hc3NFbnRpdHkuaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXI7CiAgICAgICAgICAgICAgICAgICAgYXNzRW50aXR5LmFzc2lnbmVkUGVyc29uIGFzIGFzc1BlcnNvbiB0aGVuewogICAgICAgICAgICAgICAgICAgICAgYXNzUGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSJhc3NQZXJzb24iOwogICAgICAgICAgICAgICAgICB9ImFzc0VudGl0eSI7CiAgICAgICAgICAgICAgICB9InBlcmZvcm1lciI7CgogICAgICAgICAgICAgICAgb2JzLnBhcnRpY2lwYW50IGFzIHBhcnRpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1NlcnZpY2VSZXF1ZXN0JykgYXMgc2VydmljZVJlcXVlc3QsICBzZXJ2aWNlUmVxdWVzdC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9TZXJ2aWNlUmVxdWVzdC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ1NlcnZpY2VSZXF1ZXN0JyAsb2JzZXJ2YXRpb24xLmJhc2VkT24gID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlUmVxdWVzdC5pZCkgdGhlbnsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIHBhcnRpLT5zZXJ2aWNlUmVxdWVzdC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgICAgICAgICAgICAgICBwYXJ0aS0+c2VydmljZVJlcXVlc3QuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICAgIHBhcnRpIC0+IHNlcnZpY2VSZXF1ZXN0LnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICAgICAgICAgICAgICBwYXJ0aSAtPiBzZXJ2aWNlUmVxdWVzdC5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOyAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgcGFydGkudGltZSBhcyB0IC0+IHNlcnZpY2VSZXF1ZXN0LmF1dGhvcmVkT24gPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHQsIHZhbHVlKSAidmFsdWUyIjsKICAgICAgICAgICAgICAgICAgcGFydGkucGFydGljaXBhbnRSb2xlIGFzIHBhcnRSb2xlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDEpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy9pbml6aW8gbW9kaWZpY2EgbWV0YSArIGlkZW50aWZpZXIKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgcGFydFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvUGFyYW1ldHJpVml0YWxpL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBzZXJ2aWNlUmVxdWVzdC5yZXF1ZXN0ZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICAgICAgLy9maW5lIG1vZGlmaWNhCiAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgLy9wYXJ0Um9sZS5pZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllcjsKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5wbGF5aW5nRW50aXR5IGFzIHBsYXlpbmdFbnRpdHkgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIHBsYXlpbmdFbnRpdHkubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICB9Im5hbWUiOwogICAgICAgICAgICAgICAgICB9InBhcnRSb2xlIjsKICAgICAgICAgICAgICAgIH0icGFydGkiOwoKICAgICAgICAgICAgICB9Im9icyI7CiAgICAgICAgICAgIH0iY29tcG9uZW50IjsKICAgICAgICAgIH0ib2JzIjsgCiAgICAgICAgfSJPYnNlcnZhdGlvbiI7Cn0KLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy9TZXppb25lIHRlcmFwaWEgRmFybWEgaW4gUHJvbnRvLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRmFybWFjb0luUHJvbnRvKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICAgICAgICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICAgICAgICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAgICAgICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpIHRoZW4gewogICAgICAgICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgICAgICAgICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+IGZoaXJUZXh0LmRpdiA9IHQgIm5hcnJhdGl2ZVRleHQiOwogICAgICAgICAgfSAiY2RhVGV4dCI7CiAgICAgICAgfSJlbnRyeS1leGlzdHMiOwogICAgICAvLyBTZXppb25lIE5hcnJhdGl2YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICAgIHNyYyB3aGVyZSBzcmMuZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlOCwgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU4LnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24nKSBhcyBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24sICBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDgsICBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uJywgdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25BZG1pbmlzdHJhdGlvbi8nICsgJU1lZGljYXRpb25BZG1pbmlzdHJhdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgIHNyYyAtPiBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICAgICAgICAgIHNyYyAtPiBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24uY29udGV4dD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgc3JjIC0+TWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgICAgIHNyYy0+cGVyaW9kLnN0YXJ0PShzdGFydC5ub3coKSkibG93IjsKICAgICAgICAgICAgc3JjLT5wZXJpb2QuZW5kPShlbmQubm93KCkpImhpZ2giOwogICAgICAgICAgICB9IlBlcmlvZCI7CiAgICAgICAgICBzcmMgd2hlcmUgc3ViLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgIHNyYy0+TWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLnN0YXR1cyA9J2NvbXBsZXRlZCcic3RhdHVzIjsKICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgICAgICAgY2RhVGV4dCAtPiBNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgICAgY2RhVGV4dCAtPiAgTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLm1lZGljYXRpb24gPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgbWVkaWNhdGlvbiB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBjZGFUZXh0IGFzIHR4dCAtPiBtZWRpY2F0aW9uLnRleHQ9dHh0ICJ0ZXh0IjsKICAgICAgICAgICAgICAgICAgfSJtZWRpY2F0aW9uIjsKICAgICAgICAgICAgICAgIH0icmVmZXJlbmNlIjsKICAgICAgICAgICAgICB9ImNkYVRleHQiOwogICAgICAgICAgICB9IndoZXJlIjsKICAgICAgLy8gU2V6aW9uZSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBzcmMuZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25BZG1pbmlzdHJhdGlvbicpIGFzIG1lZEFkbSwgIG1lZEFkbS5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uQWRtaW5pc3RyYXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvbkFkbWluaXN0cmF0aW9uLycgKyAlbWVkQWRtLmlkKSwgbWVkQWRtLm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICAgIGVudHJ5MS0+bWVkQWRtLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgZW50cnkxLT5tZWRBZG0uY29udGV4dD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgIGVudHJ5MS5zdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiBhcyBzdWIgdGhlbnsKICAgICAgICAgICAgc3ViLnRleHQgYXMgdHggdGhlbnsgCiAgICAgICAgICAgICAgdHgucmVmZXJlbmNlIGFzIHJlZmYgLT4gbm90ZS50ZXh0ID0gKHJlZmYudmFsdWUpOwogICAgICAgICAgICB9InR4eCI7CiAgICAgICAgICAgIHN1Yi5zdGF0dXNDb2RlIC0+IG1lZEFkbS5zdGF0dXM7CiAgICAgICAgICAgIC8vc3ViLmVmZmVjdGl2ZVRpbWU6IElWTF9UUyBhcyBlZmYgLT4gbWVkQWRtLmVmZmVjdGl2ZSA9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsgQ0hFQ0sgVEhJUwogICAgICAgICAgICBzdWIuZWZmZWN0aXZlVGltZSBhcyBlZmYgLT4gbWVkQWRtLmVmZmVjdGl2ZSA9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsgIAogICAgICAgICAgICBzdWIuZWZmZWN0aXZlVGltZTogUElWTF9UUyBhcyBlZmYgLT4gbWVkQWRtLmRvc2FnZSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgICBlZmYgLT4gZG9zYWdlLnJhdGUgPSBjcmVhdGUoJ1JhdGlvJykgYXMgcmF0aW8gdGhlbiB7CiAgICAgICAgICAgICAgICBlZmYgLT4gcmF0aW8ubnVtZXJhdG9yID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIG51bSB0aGVuewogICAgICAgICAgICAgICAgICBlZmYucGVyaW9kIGFzIHBlciAtPiBudW0udmFsdWUgPSAocGVyLnZhbHVlKTsKICAgICAgICAgICAgICAgICAgZWZmLnBlcmlvZCBhcyBwZXIgLT4gbnVtLnVuaXQgPSAocGVyLnVuaXQpOwogICAgICAgICAgICAgICAgfSJudW0iOwogICAgICAgICAgICAgICAgZWZmIC0+IHJhdGlvLmRlbm9taW5hdG9yID0gY3JlYXRlKCdRdWFudGl0eScpIGFzIG51bSB0aGVuewogICAgICAgICAgICAgICAgICBlZmYucGVyaW9kIGFzIHBlciAtPiBudW0udmFsdWUgPSAnMSc7CiAgICAgICAgICAgICAgICAgIGVmZi5wZXJpb2QgYXMgcGVyIC0+IG51bS51bml0ID0gKHBlci51bml0KTsKICAgICAgICAgICAgICAgIH0iZGVuIjsKICAgICAgICAgICAgICB9InJhdGlvIjsKICAgICAgICAgICAgfSJlZmYyIjsKICAgICAgICAgICAgc3ViIC0+IG1lZEFkbS5kb3NhZ2UgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICAgICAgc3ViLnJvdXRlQ29kZSAtPiBkb3NhZ2Uucm91dGU7CiAgICAgICAgICAgIH0icm91dGUiOwogICAgICAgICAgICBzdWIgLT4gbWVkQWRtLmRvc2FnZSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgICBzdWIuYXBwcm9hY2hTaXRlQ29kZSAtPiBkb3NhZ2Uuc2l0ZTsKICAgICAgICAgICAgfSJyb3V0ZSI7CiAgICAgICAgICAgIAogICAgICAgICAgICBzdWIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvblJlcXVlc3QnKSBhcyBtZWRScSwgIG1lZFJxLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblJlcXVlc3QnICxtZWRBZG0ucmVxdWVzdCAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZFJxLmlkKSB0aGVuewogICAgICAgICAgICAgIAogICAgICAgICAgICAgIHN1Yi5lbnRyeVJlbGF0aW9uc2hpcCBhcyByZWwgdGhlbnsKICAgICAgICAgICAgICAgIHJlbC5zdXBwbHkgYXMgc3VwbCAtPiBtZWRScS5kaXNwZW5zZVJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIGRpc3AgIHRoZW57CiAgICAgICAgICAgICAgICAgIHN1cGwgLT4gZGlzcC5xdWFudGl0eSA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBxIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHN1cGwucXVhbnRpdHkgYXMgcXVhIC0+IHEudmFsdWUgPSAocXVhLnZhbHVlKSAiZmRzIjsKICAgICAgICAgICAgICAgICAgfSJTaW1wbGVRdWFudGl0eSI7CiAgICAgICAgICAgICAgICB9Im9icyI7CiAgICAgICAgICAgICAgfSJyZWwiOwogICAgICAgICAgICAgIHN1Yi0+IG1lZFJxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgIHN1Yi0+IG1lZFJxLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgICAgICAgICAgICBzdWIgLT4gbWVkUnEuc3RhdHVzPSdhY3RpdmUnInN0YXR1cyI7CiAgICAgICAgICAgICAgc3ViIC0+IG1lZFJxLmludGVudD0nb3JkZXInImludGVudCI7ICAgICAgICAgICAgCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgc3ViIC0+IG1lZFJxLm1lZGljYXRpb24gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNvZCB0aGVuewogICAgICAgICAgICAgICAgc3ViIC0+IGNvZC50ZXh0ID0gJ21lZGljYXRpb24nICJNZWRpIjsKICAgICAgICAgICAgICB9ImNvZGUiOwoKICAgICAgICAgICAgICBzdWIuZG9zZVF1YW50aXR5IGFzIHF1YW50aXR5IHRoZW4gIHsKICAgICAgICAgICAgICAgIHF1YW50aXR5IC0+IG1lZFJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgICAgICAgICAgcXVhbnRpdHkgLT4gZG9zYWdlLmRvc2VBbmRSYXRlIGFzIGRvc1JhbmdlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHkgLT4gZG9zUmFuZ2UuZG9zZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyByYW5nZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5IC0+ICByYW5nZS5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgcXVhbnQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHkubG93IGFzIGwgLT4gcXVhbnQudmFsdWUgPSAobC52YWx1ZSkgInYxIjsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHkubG93IGFzIGwgLT4gcXVhbnQudW5pdCA9IChsLnVuaXQpICJ2MSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImxvdyI7CiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eSAtPiAgcmFuZ2UuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBxdWFudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eS5oaWdoIGFzIGggLT4gcXVhbnQudmFsdWUgPSAoaC52YWx1ZSkgInYxIjsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHkuaGlnaCBhcyBoIC0+IHF1YW50LnVuaXQgPSAoaC51bml0KSAidjEiOwogICAgICAgICAgICAgICAgICAgICAgfSJoaWdoIjsKICAgICAgICAgICAgICAgICAgICB9InJhbmdlIjsKICAgICAgICAgICAgICAgICAgfSJkb3MiOwogICAgICAgICAgICAgICAgfSJkb3NhZ2UiOwogICAgICAgICAgICAgIH0iZG9zZS1xdWFudGl0eSI7CiAgICAgICAgICAgICAgICBzdWIucmF0ZVF1YW50aXR5IGFzIHJhdGUgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHJhdGUgLT4gbWVkUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSB0aGVuewogICAgICAgICAgICAgICAgICAgIHJhdGUgLT4gZG9zYWdlLmRvc2VBbmRSYXRlIGFzIGRvc1JhbmdlIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICByYXRlIC0+IGRvc1JhbmdlLmRvc2UgPSBjcmVhdGUoJ1JhbmdlJykgYXMgcmFuZ2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUgLT4gIHJhbmdlLmxvdyA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBxdWFudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUubG93IGFzIGwgLT4gcXVhbnQudmFsdWUgPSAobC52YWx1ZSkgInYxIjsKICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlLmxvdyBhcyBsIC0+IHF1YW50LnVuaXQgPSAobC51bml0KSAidjEiOwogICAgICAgICAgICAgICAgICAgICAgICB9ImxvdyI7CiAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUgLT4gIHJhbmdlLmhpZ2ggPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgcXVhbnQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICByYXRlLmhpZ2ggYXMgaCAtPiBxdWFudC52YWx1ZSA9IChoLnZhbHVlKSAidjEiOwogICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGUuaGlnaCBhcyBoIC0+IHF1YW50LnVuaXQgPSAoaC51bml0KSAidjEiOwogICAgICAgICAgICAgICAgICAgICAgICB9ImhpZ2giOwogICAgICAgICAgICAgICAgICAgICAgfSJyYW5nZSI7CiAgICAgICAgICAgICAgICAgICAgfSJkb3MiOwogICAgICAgICAgICAgICAgICB9ImRvc2FnZSI7CiAgICAgICAgICAgICAgICB9IlJhdGUtcXVhbnRpdHkiOwoKICAgICAgICAgICAgICBzdWIucGFydGljaXBhbnQgYXMgcGFydCB0aGVuewogICAgICAgICAgICAgICAgcGFydC50aW1lIGFzIHQgLT4gbWVkUnEuYXV0aG9yZWRPbiA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBkYXRlIHRoZW4gVFNEYXRlVGltZSh0LGRhdGUpICJ0aW1lIjsgIAogICAgICAgICAgICAgICAgcGFydC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydFJvbGUgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIC8vaW5pemlvIG1ldGEraWRlbnRpZmllcgogICAgICAgICAgICAgICAgICBwYXJ0Um9sZS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZS0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHBhcnRSb2xlIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgcGFydFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvVGVyYXBpYUZhcm1hY29sb2dpY2FQUy9wYXJ0aWNpcGFudCciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBtZWRScS5yZXF1ZXN0ZXIgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgLy9maW5lIG1vZGlmaWNoZQogICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgcGFydFJvbGUuaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXI7CiAgICAgICAgICAgICAgICAgIHBhcnRSb2xlLnBsYXlpbmdFbnRpdHkgYXMgcGxheSB0aGVuewogICAgICAgICAgICAgICAgICAgIHBsYXkubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgfSJwbGF5IjsKICAgICAgICAgICAgICAgIH0iUGFydCI7CiAgICAgICAgICAgICAgfSJwYXJ0IjsKICAgICAgICAgICAgfSJtZWRpY2F0aW9uUmVxdWVzdCI7CgogICAgICAgICAgICBzdWIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvbicpIGFzIG1lZCwgIG1lZC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvbicgLG1lZEFkbS5tZWRpY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb24vJyArICVtZWQuaWQpIHRoZW57CiAgICAgICAgICAgICAgc3ViLmFkbWluaXN0cmF0aW9uVW5pdENvZGUgYXMgYWRkdW5pIHRoZW4gewogICAgICAgICAgICAgICAgc3ViLmFkbWluaXN0cmF0aW9uVW5pdENvZGUgLT4gbWVkLmZvcm07CiAgICAgICAgICAgICAgICBzdWIuY29uc3VtYWJsZSBhcyBjb25zdW0gdGhlbnsKICAgICAgICAgICAgICAgICAgY29uc3VtLm1hbnVmYWN0dXJlZFByb2R1Y3QgYXMgbWFudVByb2QgdGhlbnsKICAgICAgICAgICAgICAgICAgICBtYW51UHJvZC5tYW51ZmFjdHVyZWRNYXRlcmlhbCBhcyBtYW51TXQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIG1hbnVNdC5jb2RlIC0+IG1lZC5jb2RlOwogICAgICAgICAgICAgICAgICAgIH0ibWFudU1hdCI7CiAgICAgICAgICAgICAgICAgIH0ibWFudU1hdCI7CiAgICAgICAgICAgICAgICB9ImNvbnN1bSI7CiAgICAgICAgICAgICAgfSJ1bmljb2RlIjsKICAgICAgICAgICAgICBzdWIuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlSIHRoZW57CiAgICAgICAgICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLmNvZGUgd2hlcmUgZGlzcGxheU5hbWU9J0dyYW1tYXR1cmEnIC0+IG1lZC5pbmdyZWRpZW50IGFzIGluZ3JlZGllbnQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN1bWFibGUubWFudWZhY3R1cmVkUHJvZHVjdCBhcyBtYW51ZmFjdHVyZWRQcm9kdWN0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZFByb2R1Y3QubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudWZhY3R1cmVkTWF0ZXJpYWwgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZE1hdGVyaWFsLmNvZGUgYXMgY29kZSAtPiBpbmdyZWRpZW50Lml0ZW0gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIHZhbHVlIHRoZW4gQ0VDb2RlYWJsZUNvbmNlcHQoY29kZSx2YWx1ZSkgIkNFIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJtYXRlcmlhbCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJwcm9kdWN0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iY29uc3VtYWJsZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBpbmdyZWRpZW50LnN0cmVuZ3RoIGFzIHN0cmVuZ3RoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGgubnVtZXJhdG9yIGFzIG51bWVyYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBudW1lcmF0b3IudmFsdWUgPSAodmFsdWUudmFsdWUpICJ2YWx1ZU4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gc3RyZW5ndGguZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gImRlbm9taW5hdG9yIjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9InN0cmVuZ2h0IjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJpbmdyZWRpZW50IjsKICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nUXVhbnRpdMOgIG5lbGxhIENvbmZlemlvbmUnIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi52YWx1ZSBhcyB2YWx1ZSAtPiBtZWQuYW1vdW50IGFzIGFtb3VudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IGFtb3VudC5udW1lcmF0b3IgIGFzIG51bWVyYXRvciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBudW1lcmF0b3IudmFsdWUgPSAodmFsdWUudmFsdWUpICJ2YWx1ZU4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gYW1vdW50LmRlbm9taW5hdG9yIGFzIGRlbm9taW5hdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IGRlbm9taW5hdG9yLnZhbHVlID0gMSAidmFsdWVEIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJkZW5vbWluYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImFtb3VudCI7CiAgICAgICAgICAgICAgICAgICAgICB9InF1YW50aXRhIjsKICAgICAgICAgICAgICAgICAgfSJvYnMiOwogICAgICAgICAgICAgIH0iZW50cnktUiI7CiAgICAgfSJtZWQiOyAgICAgCgogICAgICAKCiAgICAgIHN1Yi5wZXJmb3JtZXIgYXMgcGVyZiAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQxKSB0aGVuewogICAgICAgIAogICAgICBwZXJmIC0+bWVkQWRtLm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICBwZXJmLT5ub3RlLnRleHQ9J3BlcmZvcm1lcnRpbWUnICJub3RhYSI7CiAgICAgICBwZXJmLnRpbWUgYXMgdCAtPm5vdGUudGltZT0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0LCB2YWx1ZSkgIm5vdGV0aW1lIjsKICAgICAgfSJwcmVmdGltZSI7CiAgICAgIHBlcmYuYXNzaWduZWRFbnRpdHkgYXMgZW50IHRoZW57CgogICAgICAgICAgLy8gaW5pemlvIG1vZGlmaWNhIG1ldGEraWRlbnRpZmllcgogICAgICAgICAgZW50LT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICBlbnQtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgZW50IC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgIGVudCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9UZXJhcGlhRmFybWFjb2xvZ2ljYVBTL3BlcmZvcm1lciciY29kZSI7CiAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICBlbnQuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLCBtZWRBZG0ucGVyZm9ybWVyIGFzIHAsIHAuYWN0b3IgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgICB9InIiOwogICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgIGVudC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgLy9maW5lIG1vZGlmaWNhCgogICAgICAgICAgLy9lbnQuaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXI7CiAgICAgICAgICBlbnQuYXNzaWduZWRQZXJzb24gYXMgYXNzUGVyc29uIHRoZW57CiAgICAgICAgICAgIGFzc1BlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgfSJhc3NwZXJzb24iOwogICAgICAgIH0iZW50IjsKICAgICAgICAKICAgICAgfSJwZXJmb3JtIjsKICAgIH0iTWVkQWRtIjsKICB9ImVudHJ5IjsKfQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKLy8tCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uUGlhbm9DdXJhRGltaXNzaW9uZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAKIHNyYyBhcyBlbnRyeTEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnQ2FyZVBsYW4nKSBhcyBjYXJlcGxhbiwgIGNhcmVwbGFuLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NhcmVQbGFuLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnQ2FyZVBsYW4nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQ2FyZVBsYW4vJyArICVjYXJlcGxhbi5pZCkgdGhlbiB7CiAgICBzcmMtPiBjYXJlcGxhbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYy0+IGNhcmVwbGFuLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAKICAgIHNyYyAtPiBjYXJlcGxhbi5zdGF0dXM9J2FjdGl2ZScic3RhdHVzIjsKICAgIHNyYyAtPiBjYXJlcGxhbi5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOwogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBjYXJlcGxhbi5ub3RlIGFzIGNhcmVub3RlIHRoZW4gewogICAgICBjZGFUZXh0IGFzIHQgLT4gY2FyZW5vdGUudGV4dD10ICJub3RldHh0IjsKICAgICAgZW50cnkxLmF1dGhvciBhcyBhdXRob3IgdGhlbiB7CiAgICAgICAgYXV0aG9yLnRpbWUgYXMgdC0+IGNhcmVub3RlLnRpbWU9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUodCwgdmFsdWUpICJub3RldGltZSI7CiAgICAgICAgYXV0aG9yLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2F1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQxKSB0aGVuewogICAgICAgICAgCiAgICAgICAgICAvL2luaXppbyBtb2RpZmljYSBtZXRhK2lkZW50aWZpZXIKICAgICAgICAgIGFzc2F1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgYXNzYXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgIGFzc2F1dGhvciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICBhc3NhdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvUGlhbm9DdXJhRGltaXNzaW9uZS9hdXRob3InImNvZGUiOwogICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgYXNzYXV0aG9yLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgY2FyZW5vdGUuYXV0aG9yID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgICAgfSJyIjsKICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICBhc3NhdXRob3IuaWQgYXMgaWQgd2hlcmUgKHJvb3Q9JzIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMicpIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsgICAgICAgICAgICAKICAgICAgICAgIC8vZmluZSBtb2RpZmljYQogICAgICAgICAgCiAgICAgICAgICAvL2Fzc2F1dGhvci5pZC0+cHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgImNmYXV0aG9yIjsKICAgICAgICAgIGFzc2F1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzIHRoZW57CiAgICAgICAgICAgIHBlcnMubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgfSJuYW1lcGVycyI7CiAgICAgICAgICB9ImF1dGhwcmFjdCI7CiAgICAgICAgfSJDRmF1dGhvciI7CiAgICAgIH0iYXV0aG9yIjsKICAgICAgZW50cnkxLmVudHJ5IGFzIGVudHJ5MiB0aGVueyAKICAgICAgICBlbnRyeTIuYWN0IGFzIGVudHJ5YWN0IC0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnU2VydmljZVJlcXVlc3QnKSBhcyBzZXJ2aWNlcmVxdWVzdCwgIHNlcnZpY2VyZXF1ZXN0LmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1NlcnZpY2VSZXF1ZXN0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnU2VydmljZVJlcXVlc3QnICwgY2FyZXBsYW4uYWN0aXZpdHkgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIGFjdGl2LCBhY3Rpdi5yZWZlcmVuY2UgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvU2VydmljZVJlcXVlc3QvJyArICVzZXJ2aWNlcmVxdWVzdC5pZCkgdGhlbnsKCiAgICAgICAgICBlbnRyeWFjdC0+c2VydmljZXJlcXVlc3Quc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgICAgIGVudHJ5YWN0LT5zZXJ2aWNlcmVxdWVzdC5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgIGVudHJ5YWN0IC0+IHNlcnZpY2VyZXF1ZXN0LnN0YXR1cz0nYWN0aXZlJyJzdGF0dXMiOwogICAgICAgICAgZW50cnlhY3QgLT4gc2VydmljZXJlcXVlc3QuaW50ZW50PSdvcmRlciciaW50ZW50IjsgICAgICAgICAgCgogICAgICAgICAgZW50cnlhY3QtPiBzZXJ2aWNlcmVxdWVzdC5pZGVudGlmaWVyID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBpZGVudGlmIHRoZW4gewogICAgICAgICAgIAogICAgICAgICAgICBlbnRyeWFjdC5yZWZlcmVuY2UgYXMgYWN0cmVmIHRoZW4gewogICAgICAgICAgICAgIGFjdHJlZi5leHRlcm5hbEFjdCBhcyBleHRhY3QgdGhlbnsKICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZXh0YWN0LT5zZXJ2aWNlcmVxdWVzdC5pZGVudGlmaWVyID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBpZGVudGlmMyB0aGVuewogICAgICAgICAgICAgICAgICBleHRhY3QuaWQgYXMgaWQgIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWYzLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZjMudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZjMuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICB9ImV4dCI7CiAgICAgICAgICAgICAgICAgfSJpZG5ldG4iOwogICAgICAgICAgICAgIH0iZXh0YWN0IjsKICAgICAgICAgICAgfSJhY3RyZWYiOwogICAgICAgICAgfSJqYXJpbGVtZXMiOwogICAgICAgICAgZW50cnlhY3QuY29kZS0+c2VydmljZXJlcXVlc3QuY29kZTsKICAgICAgICAgIGVudHJ5YWN0LnN0YXR1c0NvZGUtPnNlcnZpY2VyZXF1ZXN0LnN0YXR1czsKICAgICAgICAgIGVudHJ5YWN0LmF1dGhvciBhcyBhY3RhdXRob3IgdGhlbiB7CiAgICAgICAgICAgIGFjdGF1dGhvci50aW1lIGFzIHQtPnNlcnZpY2VyZXF1ZXN0LmF1dGhvcmVkT249Y3JlYXRlKCdkYXRlVGltZScpIGFzIGRhdGUgdGhlbiBUU0RhdGVUaW1lKHQsZGF0ZSk7CiAgICAgICAgICAgIGFjdGF1dGhvci5hc3NpZ25lZEF1dGhvciBhcyBhc3NhdXRob3IgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvL2luaXppbyBtb2RpZmljYSBpZGVudGlmaWVyCiAgICAgICAgICAgICAgYXNzYXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgYXNzYXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBhc3NhdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIGFzc2F1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9QaWFub0N1cmFEaW1pc3Npb25lL2F1dGhvciciY29kZSI7CiAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICBhc3NhdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHNlcnZpY2VyZXF1ZXN0LnJlcXVlc3RlciA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgYXNzYXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAvL2ZpbmUgbW9kaWZpY2EKICAgICAgICAgICAgICAKICAgICAgICAgICAgICAvL2Fzc2F1dGhvci5pZC0+cHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgImNmYXV0aG9yIjsKICAgICAgICAgICAgICBhc3NhdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVycyB0aGVuewogICAgICAgICAgICAgICAgcGVycy5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgfSJuYW1lcGVycyI7CiAgICAgICAgICAgIH0iYXV0aG9yIjsKICAgICAgICAgIH0ic2VydlJlcSI7CiAgICAgICAgfSJlbnRyeTIiOwogICAgICB9ImNhcm5vdGUiOwogICAgfSJlbnRyeTEiOwogIH0iZW50cnlpZGVudDMiOwp9CgovLy0tLS0tLS1EaW1pc3Npb25lLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCmdyb3VwIENsaW5pY2FsRG9jdW1lbnRTZWN0aW9uRGltaXNzaW9uZShzb3VyY2UgY2RhIDogQ2xpbmljYWxEb2N1bWVudCwgc291cmNlIHNyYyA6IFNlY3Rpb24sIHRhcmdldCBwYXRpZW50IDogUGF0aWVudCwgdGFyZ2V0IHRndCwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSwgdGFyZ2V0IGVuYyA6IEVuY291bnRlcil7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgfSAiY2RhVGV4dCI7CgogIHNyYy5lbnRyeSBhcyBlbnRyeTEgIHRoZW4gewogICAgZW50cnkxLmFjdCBhcyBhY3QgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVydCwgIGVuY291bnRlcnQuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnRW5jb3VudGVyJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuY291bnRlcnQuaWQpIHRoZW57CiAgICAgIAogICAgICBhY3QgLT4gZW5jb3VudGVydC5zdGF0dXMgPSAnZmluaXNoZWQnICJzdGF0dXMiOwogICAgICBhY3QgLT4gZW5jb3VudGVydC5jbGFzcyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY2wgdGhlbnsKICAgICAgICBhY3QgLT4gY2wuY29kZSA9ICdBTUInICJjb2RlIjsKICAgICAgICBhY3QgLT4gY2wuZGlzcGxheSA9ICdhbWJ1bGF0b3J5JyAiY29kZSI7CiAgICAgIH0iY2xhc3MiOwoKICAgICAgYWN0IC0+IGVuY291bnRlcnQucGFydE9mICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgZW5jLmlkKSJyZWZlbmMiOwogICAgICBhY3QgLT4gZW5jb3VudGVydC5zdWJqZWN0ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArIHBhdGllbnQuaWQpInJlZnBhdGllbnQiOyAKICAgICAgYWN0LmNvZGUgLT4gZW5jb3VudGVydC50eXBlOwogICAgICBhY3Qgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgIGFjdC5lZmZlY3RpdmVUaW1lIGFzIGVmZiAgLT4gZW5jb3VudGVydC5wZXJpb2Q9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsKICAgICAgICB9IndoZXJlIjsKICAgICAgICAvLyBlZmZlY3RpdmVUaW1lID0gdGltZS1zdGFtcAogICAgICAgIGFjdCB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKS5ub3QoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgYWN0LmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZldGltZTEgLT4gZW5jb3VudGVydC5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgZWZmZWN0aXZldGltZTEgLT4gcGVyaW9kLnN0YXJ0ID0gIGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZldGltZTEsc3RhcnQpICJ2YWwiOyAKICAgICAgICB9ImVmZnQiOwogICAgICAgIH0id2hlcmUiOwoKCgogICAgICBhY3QucGVyZm9ybWVyIGFzIHBlcmZvcm1lciAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BVVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciwgIHByYWN0aXRpb25lci5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQxKSB0aGVuewogICAgICAvL3BlcmZvcm1lci50aW1lIGFzIHRpIC0+IG5vdGUudGltZSA9ICh0aS52YWx1ZSk7CiAgICAgICBwZXJmb3JtZXIuYXNzaWduZWRFbnRpdHkgYXMgYXNzRW50eSB0aGVuewogICAgICAgCiAgICAgICAgYXNzRW50eS0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc0VudHktPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGFzc0VudHkgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIGFzc0VudHkgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvRGltaXNzaW9uZS9wZXJmb3JtZXInImNvZGUiOwogICAgICAgICAgfSJjb2RpbmciOwogICAgICAgIH0ibWV0YSI7CiAgICAgICAgYXNzRW50eS5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgZW5jb3VudGVydC5wYXJ0aWNpcGFudCBhcyBwZXJmIHRoZW4geyAgCiAgICAgICAgICAgIHBlcmZvcm1lci0+cGVyZi5wZXJpb2Q9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiB7CiAgICAgICAgICAgICAgcGVyZm9ybWVyLnRpbWUgYXMgdGltZSAtPnBlcmlvZC5zdGFydD0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZSh0aW1lLHN0YXJ0KTsKICAgICAgICAgICAgfSJwZXJpb2QiOwogICAgICAgICAgICBwZXJmb3JtZXIgLT5wZXJmLmluZGl2aWR1YWwgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgIH0icGVyZiI7CiAgICAgICAgICB9InIiOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgYXNzRW50eS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgIAogICAgICAgIGFzc0VudHkuYXNzaWduZWRQZXJzb24gYXMgYXNzUGVycyB0aGVuewogICAgICAgICAgIGFzc1BlcnMubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgfSJhc3NQZXIiOwogICAgICAgfSJhc3MiOwogICAgICB9ImVyZm9ybWVyIjsKICAgICAgLy9FbmNvdW50ZXIgUG9zdCBkaW1pc3Npb25lLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgIGFjdC5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaVJlbCB0aGVuIHsKICAgICAgICBlbnRyaVJlbC5lbmNvdW50ZXIgYXMgZW5jMSB0aGVuewogICAgICAgICAgZW5jMSAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdFbmNvdW50ZXInKSBhcyBlbmNvdW50ZXJ0MSwgIGVuY291bnRlcnQxLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0VuY291bnRlcicgLCB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jb3VudGVydDEuaWQpLCBlbmNvdW50ZXJ0MS5wYXJ0T2YgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyBlbmNvdW50ZXJ0LmlkKSAgdGhlbiB7CiAgICAgICAgICAgIGVuYzEgLT4gZW5jb3VudGVydDEuc3RhdHVzID0gJ2ZpbmlzaGVkJyAic3RhdHVzIjsKICAgICAgICAgICAgZW5jMSAtPiBlbmNvdW50ZXJ0MS5jbGFzcyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY2wgdGhlbnsKICAgICAgICAgICAgICBlbmMxIC0+IGNsLmNvZGUgPSAnQU1CJyAiY29kZSI7CiAgICAgICAgICAgICAgZW5jMSAtPiBjbC5kaXNwbGF5ID0gJ2FtYnVsYXRvcnknICJjb2RlIjsKICAgICAgICAgICAgfSJjbGFzcyI7ICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICBlbmMxIC0+IGVuY291bnRlcnQxLnN1YmplY3QgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgcGF0aWVudC5pZCkicmVmcGF0aWVudCI7CiAgICAgICAgICAgIGVuYzEuaWQgLT4gZW5jb3VudGVydDEuaWRlbnRpZmllcjsKICAgICAgICAgICAgLy8gZW5jMS5jb2RlIC0+IGVuY291bnRlcnQxLnR5cGU7CiAgICAgICAgICAgIGVuYzEgLT4gZW5jb3VudGVydDEudHlwZSA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgdGkgdGhlbnsKICAgICAgICAgICAgICBlbmMxIC0+IHRpLmNvZGluZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kIHRoZW57CiAgICAgICAgICAgICAgICBlbmMxLmNvZGUgYXMgYyAtPiBjb2QuY29kZSA9IChjLmNvZGUpICJjb2RlIjsKICAgICAgICAgICAgICAgIGVuYzEuY29kZSBhcyBjIHRoZW57CiAgICAgICAgICAgICAgICAgIGMuY29kZVN5c3RlbSBhcyBzIC0+IGNvZC5zeXN0ZW0gPSB0cmFuc2xhdGUocywgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInN5c3RlbSI7CiAgICAgICAgICAgICAgICB9InN5c3QiOwogICAgICAgICAgICAgICAgZW5jMS5jb2RlIGFzIGMgLT4gY29kLmRpc3BsYXkgPSAoYy5kaXNwbGF5TmFtZSkgImRpc3BhbHkiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsgCiAgICAgICAgICAgICAgZW5jMS50ZXh0IGFzIHR4IHRoZW57CiAgICAgICAgICAgICAgICB0eC5yZWZlcmVuY2UgYXMgcmVmIC0+IHRpLnRleHQgPSAocmVmLnZhbHVlKSAidmFsIjsgCiAgICAgICAgICAgICAgfSJ0ZXh0IjsgICAgICAgICAgICAgIAogICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGVuYzEgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgIGVuYzEuZWZmZWN0aXZlVGltZSBhcyBlZmYgIC0+IGVuY291bnRlcnQxLnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgIC8vIGVmZmVjdGl2ZVRpbWUgPSB0aW1lLXN0YW1wCiAgICAgICAgICAgICAgZW5jMSB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKS5ub3QoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICBlbmMxLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZldGltZTEgLT4gZW5jb3VudGVydDEucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgICAgIGVmZmVjdGl2ZXRpbWUxIC0+IHBlcmlvZC5zdGFydCA9ICBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZXRpbWUxLHN0YXJ0KSAidmFsIjsgCiAgICAgICAgICAgICAgfSJlZmZ0IjsKICAgICAgICAgICAgICB9IndoZXJlIjsKCiAgICAgICAgICAgIGVuYzEucGFydGljaXBhbnQgYXMgcGFydCB3aGVyZSh0eXBlQ29kZSA9ICdMT0MnKSAgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdMb2NhdGlvbicpIGFzIGxvY2F0aW9uLCAgbG9jYXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnTG9jYXRpb24vJywgdXVpZDEpIHRoZW4gewogICAgICAgICAgICAgIHBhcnQtPiBsb2NhdGlvbi5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICBwYXJ0LT4gbWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIHBhcnQgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICBwYXJ0IC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L0RpbWlzc2lvbmUvcGFydGljaXBhbnQnImNvZGUiOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0ibWV0YSI7ICAgICAgICAgICAgICAKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBwYXJ0LnRpbWUgYXMgdGltIC0+IGVuY291bnRlcnQxLmxvY2F0aW9uIGFzIGxvY2F0IHRoZW57CiAgICAgICAgICAgICAgICAgIHRpbSAtPiBsb2NhdC5wZXJpb2QgID1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKHRpbSxwZXJpb2QpInRpbWUiOwogICAgICAgICAgICAgICAgICBwYXJ0LnRpbWUgYXMgdGltICAtPiBsb2NhdC5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgICAgICAgICAgIHRpbSAtPiBwZXJpb2Quc3RhcnQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKHRpbSxzdGFydCkgInZhbCI7CiAgICAgICAgICAgICAgICAgICB9InRpbWUiOwogICAgICAgICAgICAgIHBhcnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRSb2xlIHRoZW57CiAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCAtPiBsb2NhdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnTG9jYXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iZXh0IjsKICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+ICBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsICBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAgLT4gbG9jYXRpb24uaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTG9jYXRpb24vJywgdXVpZCksIGxvY2F0LmxvY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycgKyAlbG9jYXRpb24uaWQpICJpZGFzaSI7ICAgICAgIAogICAgICAgICAgICAgICAgICB9InIiIDsKICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7ICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgLy9wYXJ0Um9sZS5pZCAtPiBsb2NhdGlvbi5pZGVudGlmaWVyOyAgCiAgICAgICAgICAgICAgICBwYXJ0Um9sZS5jb2RlIC0+IGxvY2F0aW9uLnR5cGU7CiAgICAgICAgICAgICAgfSJwYXJ0Um9sZSI7CiAgICAgICAgICAgIH0ibG9jYXRpb24xIjsKICAgICAgICAgICAgfSJMb2NhdGlvbiI7CiAgICAgICAgICAgCiAgICAgICAgICAgIGVuYzEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlyZWwyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIGVuY291bnRlcnQxLnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlZmVyZW5jZSAsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbnsKICAgICAgICAgICAgICBlbnRyeXJlbDIub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57CiAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXJ0MS5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgICAgICAgICAgb2JzLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJzsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogICAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBvYnNlcnZhdGlvbi5zdGF0dXMgPSdwYXJ0aWFsJzsKICAgICAgICAgICAgICAgIG9icyAgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0gJ2ZpbmFsJyAibm90cHJlc2VudCI7CiAgICAgICAgICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IG9ic2VydmF0aW9uLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTIiOwogICAgICAgICAgICAgICAgb2JzIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gb2JzZXJ2YXRpb24uZWZmZWN0aXZlPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgICAgICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9ic2VydmF0aW9uLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6QkwgYXMgYm9vbGVhbiAtPm9ic2VydmF0aW9uLnZhbHVlPShib29sZWFuLnZhbHVlKSJib29sZWFuIjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgICAgICAgICAgICAgICAgdmFsLT5vYnNlcnZhdGlvbi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgICAgICAgICAgICAgICB9Im9yaWdpbmx0ZXh0IjsKICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICAgICAgICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5xdWFsaWZpZXIgYXMgcXVhbGlmaWVyIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpZmllci52YWx1ZSBhcyB2YWx1ZSAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB9InZhbHVlIjsKICAgICAgICAgICAgICAgICAgICAgIH0icXVhbGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICB9InRyYW5zbGF0aW9uIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJ2YWwiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICB2YWwtPm9ic2VydmF0aW9uLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQ9cmVmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgIH0ib3JpZ2lubHRleHQiOwogICAgICAgICAgICAgICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0idmFsdWUiOwogICAgICAgICAgICAgICAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICAgICAgICAgICAgICAgIH0idHJhbnNsYXRpb24iOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9InZhbCI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgIHZhbC0+b2JzZXJ2YXRpb24udmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHZhbC51bml0IGFzIHVuaXQtPiBxdWFudGl0eS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgIH0icXVhbnRpdHkiOwogICAgICAgICAgICAgICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpTVCBhcyB2YWx1ZS0+b2JzZXJ2YXRpb24udmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2JzZXJ2YXRpb24udmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwogIAogICAgICAgICAgICAgIH0ib2JzIjsKICAgICAgICAgICAgfSJlbnRyeXJlbDIiOwogICAgICAgICAgfSJlbmMxIjsKICAgICAgICB9ImVuYyI7CiAgICAgIH0iZW50cmlSZWwiOwogICAgICAvL1RyYXNmZXJpbWVudG8gcG9zdCBkaW1pc3Npb25lLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgICBhY3QuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cmlSZWwyIHRoZW4gewogICAgICAgIGVudHJpUmVsMi5hY3QgYXMgYSB0aGVuewogICAgICAgICAgIGEgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnRW5jb3VudGVyJykgYXMgZW5jb3VudGVydDIsICBlbmNvdW50ZXJ0Mi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdFbmNvdW50ZXInICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyBlbmNvdW50ZXJ0Mi5pZCksZW5jb3VudGVydDIucGFydE9mICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgZW5jb3VudGVydC5pZCkgIHRoZW4gewogICAgICAgICAgICBhIC0+IGVuY291bnRlcnQyLnN0YXR1cyA9ICdmaW5pc2hlZCcgInN0YXR1cyI7CiAgICAgICAgICAgIGEgLT4gZW5jb3VudGVydDIuY2xhc3MgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNsIHRoZW57CiAgICAgICAgICAgICAgYSAtPiBjbC5jb2RlID0gJ0FNQicgImNvZGUiOwogICAgICAgICAgICAgIGEgLT4gY2wuZGlzcGxheSA9ICdhbWJ1bGF0b3J5JyAiY29kZSI7CiAgICAgICAgICAgIH0iY2xhc3MiOwogICAgICAgICAgICBhIC0+IGVuY291bnRlcnQyLnN1YmplY3QgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgcGF0aWVudC5pZCkicmVmcGF0aWVudCI7CiAgICAgICAgICAgIGEgd2hlcmUgZWZmZWN0aXZlVGltZS5sb3cuZXhpc3RzKCkgb3IgZWZmZWN0aXZlVGltZS5oaWdoLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgIGEuZWZmZWN0aXZlVGltZSBhcyBlZmYgIC0+IGVuY291bnRlcnQyLnBlcmlvZD1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgIC8vIGVmZmVjdGl2ZVRpbWUgPSB0aW1lLXN0YW1wCiAgICAgICAgICAgICAgYSB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKS5ub3QoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICBhLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZldGltZTEgLT4gZW5jb3VudGVydDIucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbnsKICAgICAgICAgICAgICAgIGVmZmVjdGl2ZXRpbWUxIC0+IHBlcmlvZC5zdGFydCA9ICBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgc3RhcnQgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZXRpbWUxLHN0YXJ0KSAidmFsIjsgCiAgICAgICAgICAgICAgfSJlZmZ0IjsKICAgICAgICAgICAgICB9IndoZXJlIjsgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICBhIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTG9jYXRpb24nKSBhcyBsb2NhdGlvbiwgIGxvY2F0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ0xvY2F0aW9uLycsIHV1aWQxKSB0aGVuewoKICAgICAgICAgICAgICBhLnRleHQgYXMgdHggdGhlbiB7CiAgICAgICAgICAgICAgICB0eC5yZWZlcmVuY2UgYXMgcmVmIC0+IGxvY2F0aW9uLmRlc2NyaXB0aW9uID0gKHJlZi52YWx1ZSkgImRmcyI7CiAgICAgICAgICAgICAgfSJ0ZXh0IjsKICAgICAgICAgICAgICBhLnBhcnRpY2lwYW50IGFzIHBhcnQgICB0aGVuIHsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgcGFydC0+IGxvY2F0aW9uLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgcGFydC0+IG1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgIHBhcnQgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIHBhcnQgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvRGltaXNzaW9uZS9hY3QnImNvZGUiOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9Im1ldGEiOyAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHBhcnQudGltZSBhcyB0aW0gLT4gZW5jb3VudGVydDIubG9jYXRpb24gYXMgbG9jYXQgdGhlbnsKICAgICAgICAgICAgICAgICAgICB0aW0gLT4gbG9jYXQucGVyaW9kID0gY3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZCh0aW0scGVyaW9kKSJ0aW1lIjsKICAgICAgICAgICAgICAgICAgICBwYXJ0LnRpbWUgYXMgdGltICAtPiBsb2NhdC5wZXJpb2QgPSBjcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgdGltIC0+IHBlcmlvZC5zdGFydCA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBzdGFydCB0aGVuIFRTRGF0ZVRpbWUodGltLHN0YXJ0KSAidmFsIjsKICAgICAgICAgICAgICAgICAgICAgfSJ0aW1lIjsKICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHBhcnQucGFydGljaXBhbnRSb2xlIGFzIHBhcnRSb2xlIHRoZW57CgogICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCAtPiBsb2NhdGlvbi5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnTG9jYXRpb24/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgICAgfSJleHQiOwogICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiAgaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCAgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0ICAtPiBsb2NhdGlvbi5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZCwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9Mb2NhdGlvbi8nLCB1dWlkKSwgIGxvY2F0LmxvY2F0aW9uICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0xvY2F0aW9uLycgKyAlbG9jYXRpb24uaWQpICJpZGFzaSI7ICAgICAgIAogICAgICAgICAgICAgICAgICAgIH0iciIgOwogICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOyAgCgogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgIC8vcGFydFJvbGUuaWQgLT4gbG9jYXRpb24uaWRlbnRpZmllcjsgIAogICAgICAgICAgICAgICAgICBwYXJ0Um9sZS5jb2RlIC0+IGxvY2F0aW9uLnR5cGU7CiAgICAgICAgICAgICAgICB9InBhcnRSb2xlIjsKICAgICAgICAgICAgICB9ImxvYzIiOwogICAgICAgICAgICAgIH0iTG9jYXRpb24iOwogICAgICAgICAgICB9ImxvYyI7CiAgICAgICAgICAgIGEuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlyZWwyIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICAgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsIGVuY291bnRlcnQyLnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlZmVyZW5jZSAsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbnsKICAgICAgICAgICAgICBlbnRyeXJlbDIub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW57CiAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXJ0Mi5pZCkgInJlZmVyZW5jZSI7IAogICAgICAgICAgICAgICAgb2JzLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2NvbXBsZXRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJzsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J2FjdGl2ZScpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3JlZ2lzdGVyZWQnOwogICAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdzdXNwZW5kZWQnKSAtPiBvYnNlcnZhdGlvbi5zdGF0dXMgPSdwYXJ0aWFsJzsKICAgICAgICAgICAgICAgIG9icyAgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0gJ2ZpbmFsJyAibm90cHJlc2VudCI7CiAgICAgICAgICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmVUaW1lIC0+IG9ic2VydmF0aW9uLmVmZmVjdGl2ZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUoZWZmZWN0aXZlVGltZSwgdmFsdWUpICJ2YWx1ZTIiOwogICAgICAgICAgICAgICAgb2JzIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmLT4gb2JzZXJ2YXRpb24uZWZmZWN0aXZlPWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCk7CiAgICAgICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9ic2VydmF0aW9uLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6QkwgYXMgYm9vbGVhbiAtPm9ic2VydmF0aW9uLnZhbHVlPShib29sZWFuLnZhbHVlKSJib29sZWFuIjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpDRSBhcyB2YWwgdGhlbnsKICAgICAgICAgICAgICAgICAgdmFsLT5vYnNlcnZhdGlvbi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB2YWwub3JpZ2luYWxUZXh0IGFzIG9yaWdpbmFsVGV4dCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxUZXh0LnJlZmVyZW5jZSBhcyByZWZlcmVuY2UtPiBjZS50ZXh0PXJlZmVyZW5jZTsKICAgICAgICAgICAgICAgICAgICB9Im9yaWdpbmx0ZXh0IjsKICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICAgICAgICAgIHZhbC50cmFuc2xhdGlvbiBhcyB0cmFuc2xhdGlvbiAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5xdWFsaWZpZXIgYXMgcXVhbGlmaWVyIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIHF1YWxpZmllci52YWx1ZSBhcyB2YWx1ZSAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB9InZhbHVlIjsKICAgICAgICAgICAgICAgICAgICAgIH0icXVhbGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICB9InRyYW5zbGF0aW9uIjsKICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgfSJ2YWwiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOkNEIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICB2YWwtPm9ic2VydmF0aW9uLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHZhbC5vcmlnaW5hbFRleHQgYXMgb3JpZ2luYWxUZXh0IHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQ9cmVmZXJlbmNlOwogICAgICAgICAgICAgICAgICAgIH0ib3JpZ2lubHRleHQiOwogICAgICAgICAgICAgICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAgICAgdmFsLnRyYW5zbGF0aW9uIGFzIHRyYW5zbGF0aW9uIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLnF1YWxpZmllciBhcyBxdWFsaWZpZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGlmaWVyLnZhbHVlIGFzIHZhbHVlIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0idmFsdWUiOwogICAgICAgICAgICAgICAgICAgICAgfSJxdWFsaWZpZXIiOwogICAgICAgICAgICAgICAgICAgIH0idHJhbnNsYXRpb24iOwogICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICB9InZhbCI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgIHZhbC0+b2JzZXJ2YXRpb24udmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHZhbC51bml0IGFzIHVuaXQtPiBxdWFudGl0eS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgIH0icXVhbnRpdHkiOwogICAgICAgICAgICAgICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpTVCBhcyB2YWx1ZS0+b2JzZXJ2YXRpb24udmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2JzZXJ2YXRpb24udmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwogIAogICAgICAgICAgICAgIH0ib2JzIjsKICAgICAgICAgICAgfSJlbnRyeXJlbDIiOwogICAgICAgICAgIH0iYWN0IjsKICAgICAgICB9ImEiOwogICAgIH0iZW50cmktYWN0IjsKICAgICAvLy0tLS0tLS0tLS0tLS0tRGlhZ25vc2kgYWxsYSBkaW1pc3Npb25lLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgIGFjdC5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeXJlbDIgdGhlbnsKICAgICAgZW50cnlyZWwyLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuewogICAgICAgIG9icy5jb2RlIGFzIGNvZGUgd2hlcmUgKGNvZGUgPSAnMjkzMDgtNCcpIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLCBlbmNvdW50ZXJ0LnJlYXNvblJlZmVyZW5jZSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSAsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgdGhlbnsKICAgICAgICAgICAgb2JzLT5vYnNlcnZhdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsgICAgIAogICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmNvdW50ZXJ0LmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgICAgICBvYnMuY29kZSAtPiBvYnNlcnZhdGlvbi5jb2RlOwogICAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nY29tcGxldGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnOwogICAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgICAgICAgICAgICAgICBvYnMuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdhYm9ydGVkJykgLT4gb2JzZXJ2YXRpb24uc3RhdHVzID0nY2FuY2VsbGVkJzsKICAgICAgICAgICAgICAgIG9icy5zdGF0dXNDb2RlIGFzIHN0YXR1c2Mgd2hlcmUgKGNvZGU9J3N1c3BlbmRlZCcpIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J3BhcnRpYWwnOwogICAgICAgICAgICAgICAvLyBvYnMgd2hlcmUgb2JzLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgb2JzLT5vYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgICAgICAgLy8gIH0ic3RhdHVzY29kZSI7CiAgICAgICAgICAgICAgIG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gb2JzZXJ2YXRpb24uZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMiI7CiAgICAgICAgICAgICAgIG9icyB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmYtPiBvYnNlcnZhdGlvbi5lZmZlY3RpdmU9Y3JlYXRlKCdQZXJpb2QnKSBhcyBwZXJpb2QgdGhlbiBJVkxUU1BlcmlvZChlZmYscGVyaW9kKTsKICAgICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgICBvYnMudmFsdWUgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgIHZhbC0+b2JzZXJ2YXRpb24udmFsdWUgPWNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgY2UgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsVGV4dC5yZWZlcmVuY2UgYXMgcmVmZXJlbmNlLT4gY2UudGV4dD1yZWZlcmVuY2U7CiAgICAgICAgICAgICAgICAgICAgfSJvcmlnaW5sdGV4dCI7CiAgICAgICAgICAgICAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24ucXVhbGlmaWVyIGFzIHF1YWxpZmllciB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICB9InF1YWxpZmllciI7CiAgICAgICAgICAgICAgICAgICAgfSJ0cmFuc2xhdGlvbiI7CiAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgIH0idmFsIjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpJTlQgYXMgaW50LT5vYi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICAgICAgb2JzLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CiAgICAgICAgICAgICAgICBvYnMudmFsdWU6UFEgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgIHZhbC0+b2IudmFsdWUgPSBjcmVhdGUoJ1F1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgIHZhbC51bml0IGFzIHVuaXQtPiBxdWFudGl0eS51bml0ID0gdW5pdCAidW5pdCI7CiAgICAgICAgICAgICAgICAgIH0icXVhbnRpdHkiOwogICAgICAgICAgICAgICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgICAgICAgICAgICAgIG9icy52YWx1ZTpTVCBhcyB2YWx1ZS0+b2IudmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2IudmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwoKCiAgICAgICAgIH0iMjIyIjsKICAgICAgfSJvYnMiOwogICAgICB9ImVudHJ5cmVsMiI7CiAgICAgIC8vLS0tLS0tLS1Fc2l0by0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgYWN0LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpUmVsMyB0aGVuewogICAgICAgIGVudHJpUmVsMy5vYnNlcnZhdGlvbiBhcyBvYnMyIHRoZW57CiAgICAgICAgICAgIG9iczIuY29kZSBhcyBjb2RlIHRoZW4gewogICAgICAgICAgICBjb2RlLmNvZGUgd2hlcmUgKGNvZGUuY29kZSA9ICcxMTMwMi03JykgdGhlbiB7IAogICAgICAgICAgICBvYnMyIC0+IGVuY291bnRlcnQuaG9zcGl0YWxpemF0aW9uIGFzIGhvc3BpdGFsIHRoZW57CiAgICAgICAgICAgIG9iczIudmFsdWUgLT4gaG9zcGl0YWwuZGlzY2hhcmdlRGlzcG9zaXRpb247CQogICAgICAgICAgfSJob3NwaXRhbCI7ICAgICAgICAgIAogICAgICB9ImVudHJ5LW9iczEiOwogICAgfSJhY3QiOwogICAgfSJ4IjsKICAgIH0iMyI7CgogICAgfSJhY3QiOwogIH0iZW50cnkxIjsKCiAgc3JjLmVudHJ5IGFzIGVudHJ5MSB0aGVuIHsKICAgIGVudHJ5MS5vYnNlcnZhdGlvbiBhcyBvYnMgdGhlbiB7CiAgICAgIG9icyAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuewogICAgCiAgICAgIG9icy52YWx1ZSBhcyB2YWwgd2hlcmUoInhzaTp0eXBlIiA9ICdCTCcpIC0+IG9ic2VydmF0aW9uLnZhbHVlID0gKHZhbC52YWx1ZSk7CiAgICAgIG9icyB0aGVuIE9ic2VydmF0aW9uKG9icywgcGF0aWVudCAsZW5jICxvYnNlcnZhdGlvbiwgYnVuZGxlKSAiYWN0IjsKICAgICAgfSJvYnN0YXJnIjsKICAgIH0ib2JzIjsgCiAgfSJlbnRyeSI7Cgp9Ci8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KCi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tVGVyYXBpYUZhcm1hY29sb2dpY2FEaW1pc3Npb25lLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KZ3JvdXAgQ2xpbmljYWxEb2N1bWVudFNlY3Rpb25UZXJhcGlhRmFybWFjb2xvZ2ljYURpbWlzc2lvbmUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogIC8vU2V6aW9uZSBOYXJyYXRpdmEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTEsIGUxLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdNZWRpY2F0aW9uUmVxdWVzdCcpIGFzIG1lZFJxLCAgbWVkUnEuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblJlcXVlc3QvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uUmVxdWVzdCcgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uUmVxdWVzdC8nICsgJW1lZFJxLmlkKSwgbWVkUnEubm90ZSA9IGNyZWF0ZSgnQW5ub3RhdGlvbicpIGFzIG5vdGUgdGhlbiB7CiAgICAgIGNkYVRleHQgLT5ub3RlLnRleHQgPWNkYVRleHQgInJlZmVyZW5jZSI7ICAKICAgICAgY2RhVGV4dC0+IG1lZFJxLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICBjZGFUZXh0LT4gbWVkUnEuZW5jb3VudGVyPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0VuY291bnRlci8nICsgJWVuYy5pZCkgInJlZmVyZW5jZSI7ICAgICAKICAgICAgY2RhVGV4dCAtPiBtZWRScS5zdGF0dXM9J2FjdGl2ZScic3RhdHVzIjsKICAgICAgY2RhVGV4dCAtPiBtZWRScS5pbnRlbnQ9J29yZGVyJyJpbnRlbnQiOyAgCiAgICBzcmMuYXV0aG9yIGFzIGF1dGggLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxLnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIsICBwcmFjdGl0aW9uZXIuaWQgPSB1dWlkKCkgYXMgdXVpZDEsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMSkgIHRoZW57CiAgICAgIGF1dGgudGltZSBhcyB0IC0+IG5vdGUudGltZT0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0LCB2YWx1ZSk7CiAgICAgIGF1dGguYXNzaWduZWRBdXRob3IgYXMgYXNzQXV0aCB0aGVuewogICAgICAgIC8vICBhc3NBdXRoLnRpbWUgLT4gbm90ZS50aW1lOwogICAgICAgYXNzQXV0aC0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgIGFzc0F1dGgtPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgIGFzc0F1dGggLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgIGFzc0F1dGggLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvVGVyYXBpYUZhcm1hY29sb2dpY2FEaW1pc3Npb25lL2F1dGhvciciY29kZSI7CiAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgfSJtZXRhIjsKICAgICAgICBhc3NBdXRoLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQyLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDIpLG5vdGUuYXV0aG9yICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXByYWN0aXRpb25lci5pZCkgImF1dCI7CiAgICAgICAgICB9InIiOwogICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgYXNzQXV0aC5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgYXNzQXV0aC5hc3NpZ25lZFBlcnNvbiBhcyBhc3NwZXJzIHRoZW57CiAgICAgICAgICBhc3NwZXJzLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgfSJhc3NQZXJzIjsKICAgICAgfSJhc3NBdXRoIjsKICAgIH0iYXV0aCI7CiAgICAgIHNyYyAtPiAgbWVkUnEubWVkaWNhdGlvbiA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBtZWRpY2F0aW9uIHRoZW4gewogICAgICAgIHNyYy50ZXh0IGFzIHR4dCAtPiBtZWRpY2F0aW9uLnRleHQ9dHh0ICJ0ZXh0IjsKICAgIH0ibWVkaWNhdGlvbmVzaXN0ZSI7CiAgICAKICB9Im5vdGUiOwp9InRleHQiOwoKICAgLy8gU2V6aW9uZSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICBzcmMgd2hlcmUgc3JjLmVudHJ5LmV4aXN0cygpIHRoZW4gewogICBzcmMgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvblJlcXVlc3QnKSBhcyBtZWRScSwgIG1lZFJxLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb25SZXF1ZXN0LycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnTWVkaWNhdGlvblJlcXVlc3QnICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblJlcXVlc3QvJyArICVtZWRScS5pZCksIG1lZFJxLm5vdGUgPSBjcmVhdGUoJ0Fubm90YXRpb24nKSBhcyBub3RlIHRoZW4gewogICAgc3JjLnRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsgCiAgICBzcmMtPiBtZWRScS5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgIHNyYy0+IG1lZFJxLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAgCiAgICBzcmMgLT4gbWVkUnEuc3RhdHVzPSdhY3RpdmUnInN0YXR1cyI7CiAgICBzcmMgLT4gbWVkUnEuaW50ZW50PSdvcmRlciciaW50ZW50IjsgIAogICAgc3JjLmF1dGhvciBhcyBhdXRoIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyLCAgcHJhY3RpdGlvbmVyLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDEpICB0aGVuewogICAgICBhdXRoLnRpbWUgYXMgdCAtPiAgbm90ZS50aW1lPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHQsIHZhbHVlKTsKICAgICAgYXV0aC5hc3NpZ25lZEF1dGhvciBhcyBhc3NBdXRoIHRoZW57CiAgICAgICAgLy8gIGFzc0F1dGgudGltZSAtPiBub3RlLnRpbWU7CiAgICAgICBhc3NBdXRoLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgYXNzQXV0aC0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgYXNzQXV0aCAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9UZXJhcGlhRmFybWFjb2xvZ2ljYURpbWlzc2lvbmUvYXV0aG9yJyJjb2RlIjsKICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICB9Im1ldGEiOwogICAgICAgIGFzc0F1dGguaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDIsICBlMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMiksbm90ZS5hdXRob3IgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgIH0iciI7CiAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICBhc3NBdXRoLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICBhc3NBdXRoLmFzc2lnbmVkUGVyc29uIGFzIGFzc3BlcnMgdGhlbnsKICAgICAgICAgIGFzc3BlcnMubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICB9ImFzc1BlcnMiOwogICAgICB9ImFzc0F1dGgiOwogICAgfSJhdXRoIjsKICAgICAKICAgIHNyYy5lbnRyeSBhcyBlbnRyeTEgdGhlbiB7CiAgICAgIGVudHJ5MS5zdWJzdGFuY2VBZG1pbmlzdHJhdGlvbiBhcyBzdWIgdGhlbnsgICAKICAgICAgICBzdWIuc3RhdHVzQ29kZSAtPiBtZWRScS5zdGF0dXM7CiAgICAgICAgc3ViIC0+IG1lZFJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2UgdGhlbnsKICAgICAgICAgIHN1YiAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW0gdGhlbnsKICAgICAgICAgICAgc3ViLmVmZmVjdGl2ZVRpbWUgYXMgZWZmIC0+IHRpbS5yZXBlYXQgYXMgcmVwZWF0IHRoZW57CiAgICAgICAgICAgICAgZWZmIC0+IHJlcGVhdC5ib3VuZHMgID1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpImJvdW5kc3BlcmlvZCI7CiAgICAgICAgICAgIH0icmVwZWF0IjsKICAgICAgICAgIH0idGltaW5nIjsKICAgICAgICB9ImRvc2FnZSI7CiAgICAgICAKICAgICAgICBzdWIuZWZmZWN0aXZlVGltZTogUElWTF9UUyBhcyBlZmYgLT4gbWVkUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSB0aGVuewogICAgICAgIGVmZiAtPiBkb3NhZ2UudGltaW5nID0gY3JlYXRlKCdUaW1pbmcnKSBhcyB0aW1pbmcgdGhlbiBwZXJpb2RUaW1pbmcoZWZmLHRpbWluZykgImNvZCI7CiAgICAgICAgfSJlZmYiOwoKICAgIHN1YiAtPiBtZWRScS5kb3NhZ2VJbnN0cnVjdGlvbiA9IGNyZWF0ZSgnRG9zYWdlJykgYXMgZG9zYWdlIHRoZW57CiAgICAgICAgICBzdWIucm91dGVDb2RlIC0+IGRvc2FnZS5yb3V0ZTsgICAgICAgIAogICAgICAgIH0iZG9zYWdlIjsKICAgICAgICAKICAgICAgICBzdWIgLT4gbWVkUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZSB0aGVuewogICAgICAgICAgc3ViLmFwcHJvYWNoU2l0ZUNvZGUgLT4gZG9zYWdlLnNpdGU7ICAgICAgICAKICAgICAgICB9ImRvc2FnZSI7CgogICAgICAgIHN1Yi5kb3NlUXVhbnRpdHkgYXMgZG9zZVF1YW50IHRoZW57CiAgICAgICAgICBkb3NlUXVhbnQgLT4gbWVkUnEuZG9zYWdlSW5zdHJ1Y3Rpb24gPSBjcmVhdGUoJ0Rvc2FnZScpIGFzIGRvc2FnZUluc3RydWN0aW9uIHRoZW57CiAgICAgICAgICAgIGRvc2VRdWFudC5vcmlnaW5hbFRleHQgYXMgb3QgdGhlbnsKICAgICAgICAgICAgICBvdC5yZWZlcmVuY2UgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24udGV4dDsKICAgICAgICAgICAgfSJvdCI7CiAgICAgICAgICAgIGRvc2VRdWFudCAtPiBkb3NhZ2VJbnN0cnVjdGlvbi5kb3NlQW5kUmF0ZSBhcyBkb3NhZ2VSYXRlIHRoZW57CiAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGRvc2FnZVJhdGUuZG9zZSA9IGNyZWF0ZSgnUmFuZ2UnKSBhcyBkIHRoZW57CiAgICAgICAgICAgICAgICBkb3NlUXVhbnQgLT4gZC5sb3cgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgbCB0aGVuewogICAgICAgICAgICAgICAgICBkb3NlUXVhbnQubG93IGFzIGxvIC0+IGwudmFsdWUgPSAobG8udmFsdWUpOyAKICAgICAgICAgICAgICAgICAgZG9zZVF1YW50LmxvdyBhcyBsbyAtPiBsLnVuaXQgPSAobG8udW5pdCk7IAogICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgZG9zZVF1YW50IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgIGRvc2VRdWFudC5oaWdoIGFzIGhpIC0+IGgudmFsdWUgPSAoaGkudmFsdWUpOwogICAgICAgICAgICAgICAgICBkb3NlUXVhbnQuaGlnaCBhcyBoaSAtPiBoLnVuaXQgPSAoaGkudW5pdCk7IAogICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgIH0iZCI7CiAgICAgICAgICAgIH0iZG9zYWdlUmF0ZSI7CiAgICAgICAgICAgIHN1Yi5yYXRlUXVhbnRpdHkgYXMgcmF0ZVF1YW50aXR5IC0+IG1lZFJxLmRvc2FnZUluc3RydWN0aW9uID0gY3JlYXRlKCdEb3NhZ2UnKSBhcyBkb3NhZ2VJbnN0cnVjdGlvbjEgdGhlbnsKICAgICAgICAgICAgICByYXRlUXVhbnRpdHkub3JpZ2luYWxUZXh0IGFzIG90IHRoZW57CiAgICAgICAgICAgICAgICBvdC5yZWZlcmVuY2UgLT4gZG9zYWdlSW5zdHJ1Y3Rpb24xLnRleHQ7CiAgICAgICAgICAgICAgfSJvdCI7CiAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGRvc2FnZUluc3RydWN0aW9uMS5kb3NlQW5kUmF0ZSBhcyBkb3NhZ2VSYXRlIHRoZW57CiAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkgLT4gZG9zYWdlUmF0ZS5yYXRlID0gY3JlYXRlKCdSYW5nZScpIGFzIGQgdGhlbnsKICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQubG93ID0gY3JlYXRlKCdTaW1wbGVRdWFudGl0eScpIGFzIGwgdGhlbnsKICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudmFsdWUgPSAobG8udmFsdWUpOyAKICAgICAgICAgICAgICAgICAgICByYXRlUXVhbnRpdHkubG93IGFzIGxvIC0+IGwudW5pdCA9IChsby51bml0KTsgCiAgICAgICAgICAgICAgICAgIH0ibG93IjsKICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5IC0+IGQuaGlnaCA9IGNyZWF0ZSgnU2ltcGxlUXVhbnRpdHknKSBhcyBoIHRoZW57CiAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmhpZ2ggYXMgaGkgLT4gaC52YWx1ZSA9IChoaS52YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgcmF0ZVF1YW50aXR5LmhpZ2ggYXMgaGkgLT4gaC51bml0ID0gKGhpLnVuaXQpOyAKICAgICAgICAgICAgICAgICAgfSJsb3ciOwogICAgICAgICAgICAgICAgfSJkIjsKICAgICAgICAgICAgICB9InF1YWxjb3NhIjsKICAgICAgICAgICAgfSJkb3NhZ2VSYXRlIjsKICAgICAgICAgIH0iRG9zYWdlIjsgIAogICAgICAgIH0iZG9zZVF1YW50IjsKICAgICAgICBzdWIgLT4gYnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnTWVkaWNhdGlvbicpIGFzIG1lZGljYXRpb24sICBtZWRpY2F0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL01lZGljYXRpb24vJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uJyAsbWVkUnEubWVkaWNhdGlvbiAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uLycgKyAlbWVkaWNhdGlvbi5pZCkgdGhlbnsKICAgICAgICAgIHN1Yi5hZG1pbmlzdHJhdGlvblVuaXRDb2RlIC0+IG1lZGljYXRpb24uZm9ybTsKICAgICAgICAgIHN1Yi5jb25zdW1hYmxlIGFzIGNvbnMgdGhlbnsKICAgICAgICAgICAgY29ucy5tYW51ZmFjdHVyZWRQcm9kdWN0IGFzIG1hbnVwcm9kIHRoZW57CiAgICAgICAgICAgICAgbWFudXByb2QubWFudWZhY3R1cmVkTWF0ZXJpYWwgYXMgbWFudWZhY3QgdGhlbnsKICAgICAgICAgICAgICAgIG1hbnVmYWN0LmNvZGUgLT4gbWVkaWNhdGlvbi5jb2RlOwogICAgICAgICAgICAgIH0ibWFudUZhY3QiOwogICAgICAgICAgICB9Im1hbnVtYXQiOwogICAgICAgICAgfSJjb25zIjsKICAgICAgIAogICAgICAgICAgc3ViLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5UiB0aGVuewogICAgICAgICAgICBlbnRyeVIub2JzZXJ2YXRpb24gYXMgb2JzZXJ2YXRpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLmNvZGUgd2hlcmUgZGlzcGxheU5hbWU9J0dyYW1tYXR1cmEnIC0+IG1lZGljYXRpb24uaW5ncmVkaWVudCBhcyBpbmdyZWRpZW50IHRoZW57CiAgICAgICAgICAgICAgICAgICAgc3ViLmNvbnN1bWFibGUgYXMgY29uc3VtYWJsZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3VtYWJsZS5tYW51ZmFjdHVyZWRQcm9kdWN0IGFzIG1hbnVmYWN0dXJlZFByb2R1Y3QgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW51ZmFjdHVyZWRQcm9kdWN0Lm1hbnVmYWN0dXJlZE1hdGVyaWFsIGFzIG1hbnVmYWN0dXJlZE1hdGVyaWFsIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbnVmYWN0dXJlZE1hdGVyaWFsLmNvZGUgYXMgY29kZSAtPiBpbmdyZWRpZW50Lml0ZW0gPSBjcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIHZhbHVlIHRoZW4gQ0VDb2RlYWJsZUNvbmNlcHQoY29kZSx2YWx1ZSkgIkNFIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Im1hdGVyaWFsIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0icHJvZHVjdCI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iY29uc3VtYWJsZSI7CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IGluZ3JlZGllbnQuc3RyZW5ndGggYXMgc3RyZW5ndGggdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IHN0cmVuZ3RoLm51bWVyYXRvciBhcyBudW1lcmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBudW1lcmF0b3IudmFsdWUgPSAodmFsdWUudmFsdWUpICJ2YWx1ZU4iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAibnVtZXJhdG9yIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IHN0cmVuZ3RoLmRlbm9taW5hdG9yIGFzIGRlbm9taW5hdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gZGVub21pbmF0b3IudmFsdWUgPSAxICJ2YWx1ZUQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAiZGVub21pbmF0b3IiOwogICAgICAgICAgICAgICAgICAgICAgIH0ic3RyZW5naHQiOwogICAgICAgICAgICAgICAgICAgIH0iaW5ncmVkaWVudCI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uY29kZSB3aGVyZSBkaXNwbGF5TmFtZT0nUXVhbnRpdMOgIG5lbGxhIENvbmZlemlvbmUnIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIGFzIHZhbHVlIC0+IG1lZGljYXRpb24uYW1vdW50IGFzIGFtb3VudCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gYW1vdW50Lm51bWVyYXRvciAgYXMgbnVtZXJhdG9yIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLT4gbnVtZXJhdG9yLnZhbHVlID0gKHZhbHVlLnZhbHVlKSAidmFsdWVOIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gIm51bWVyYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBhbW91bnQuZGVub21pbmF0b3IgYXMgZGVub21pbmF0b3IgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBkZW5vbWluYXRvci52YWx1ZSA9IDEgInZhbHVlRCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJkZW5vbWluYXRvciI7CiAgICAgICAgICAgICAgICAgICAgICAgIH0iYW1vdW50IjsKICAgICAgICAgICAgICAgICAgIH0icXVhbnRpdGEiOwogICAgICAgICAgICAgICB9Im9icyI7CiAgICAgICAgICB9ImVudHJ5UiI7CgogICAgICAgICAKICAgICAgICAgIHN1Yi5wYXJ0aWNpcGFudCBhcyBwYXJ0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcGFydGljaXBhbnQsICBwYXJ0aWNpcGFudC5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QYXJ0aWNpcGFudC8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQYXJ0aWNpcGFudC8nLCB1dWlkMSkgdGhlbnsKICAgICAgICAgICAgcGFydC50aW1lIGFzIHQgLT4gbWVkUnEuYXV0aG9yZWRPbiA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyBkYXRlIHRoZW4gVFNEYXRlVGltZSh0LGRhdGUpImF1dGhvcmVkT24iOwogICAgICAgICAgICBwYXJ0LnBhcnRpY2lwYW50Um9sZSBhcyBwYXJ0Um9sZSB0aGVuewoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgcGFydFJvbGUtPnBhcnRpY2lwYW50Lm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgIHBhcnRSb2xlLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICBwYXJ0Um9sZSAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgcGFydFJvbGUgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvVGVyYXBpYUZhcm1hY29sb2dpY2FEaW1pc3Npb25lL3BhcnRpY2lwYW50JyJjb2RlIjsKICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgIHBhcnRSb2xlLmlkIGFzIGlkIC0+IHBhcnRpY2lwYW50LmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHBhcnRpY2lwYW50LmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgbWVkUnEucmVxdWVzdGVyICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nICsgJXBhcnRpY2lwYW50LmlkKSAiYXV0IjsKICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICBwYXJ0Um9sZS5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAKICAgICAgICAgICAgICBwYXJ0Um9sZS5wbGF5aW5nRW50aXR5IGFzIHBsYXllbnQgdGhlbnsKICAgICAgICAgICAgICAgIHBsYXllbnQubmFtZSAtPiBwYXJ0aWNpcGFudC5uYW1lOwogICAgICAgICAgICAgIH0icGxheWVudCI7CiAgICAgICAgICAgIH0icGFydFJvbGUiOwogICAgICAgICAgfSJwYXJ0aWNpcGFudCI7ICAgCiAgCiAgICAgICAgICBzdWIucmVmZXJlbmNlIGFzIHJlZiB0aGVuewogICAgICAgICAgICByZWYuZXh0ZXJuYWxBY3QgYXMgZXh0ZXJuYWwgdGhlbnsKICAgICAgICAgICAgICBleHRlcm5hbC5pZCAtPiBtZWRScS5pZGVudGlmaWVyOwogICAgICAgICAgICB9ImV4dGVybmFsIjsKICAgICAgICAgIH0icmVmIjsKICAKICAgICAgICAgIHN1Yi5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcCB0aGVueyAKICAgICAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAuc3VwcGx5IGFzIHN1cCAtPiBtZWRScS5kaXNwZW5zZVJlcXVlc3QgYXMgZGlzcHJlcSB0aGVuIHsgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgc3VwIC0+IGRpc3ByZXEucXVhbnRpdHkgPSBjcmVhdGUoJ1NpbXBsZVF1YW50aXR5JykgYXMgcXVhbnRpdHkgdGhlbnsKICAgICAgICAgICAgICAgICAgc3VwLnF1YW50aXR5IGFzIHEgLT4gcXVhbnRpdHkudmFsdWUgPSAocS52YWx1ZSk7CiAgICAgICAgICAgICAgICB9InF1YW50aXR5IjsgICAgICAgICAgICAgIAogICAgICAgICAgICB9InN1YiI7CiAgCiAgICAgICAgICAgfSJtZWQiOyAgICAKICAKICAgICAgICB9ImFkbW5pc3RyYXRpb25Vbmljb2RlIjsKICAgICAgfSJzdWIiOwogICAgfSJlbnRyeSI7CiAgfSJtZWRpY2F0aW9uIjsKfSJzZXppb25lZXNpc3RlIjsKfQovLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgovL19fX19fXzEuX19fX19fX19fX19fX1NlY3Rpb25zX19fX19fX19fX19fX19fX19fX19fX19fCgpncm91cCBNb2RhbGl0YWRpVHJhc3Bvc3RvKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKSB7CiAgc3JjLnRpdGxlIGFzIHQgLT4gdGd0LnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgc3JjLmNvZGUgLT4gdGd0LmNvZGU7CiAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgfSJjZGFUZXh0IjsKICBzcmMuZW50cnkgYXMgZW50cnkxIHRoZW4gewogICAgc3JjLmVudHJ5IGFzIGVudHJ5MSAtPiB0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSB0aGVuIHsKICAgIGVudHJ5MS5hY3QgYXMgYWN0MSAgdGhlbiBBY3QoYWN0MSwgcGF0aWVudCwgIGVuYyAsIGJ1bmRsZSkgImFjdCI7CiAgICB9ImVudHJ5MSI7CiB9ImVudHJ5IjsKfQoKZ3JvdXAgTW90aXZvRGVsbGFWaXNpdGEoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpewogIHNyYy50aXRsZSBhcyB0IC0+IHRndC50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogIHNyYy5jb2RlIC0+IHRndC5jb2RlOwogCiAgc3JjLnRleHQgYXMgY2RhVGV4dCAtPiB0Z3QudGV4dCBhcyBmaGlyVGV4dCB0aGVuIHsKICAgIGNkYVRleHQgLT4gZmhpclRleHQuc3RhdHVzID0gJ2dlbmVyYXRlZCcgIm5hcnJhdGl2ZVN0YXR1cyI7CiAgICBjZGFUZXh0IGFzIHQgLT4gZmhpclRleHQuZGl2ID0gdCAibmFycmF0aXZlVGV4dCI7CiAgfSJjZGFUZXh0IjsKICBzcmMuZW50cnkgYXMgZW50cnkgLT4gYnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTIucmVzb3VyY2UgPSBjcmVhdGUoJ09ic2VydmF0aW9uJykgYXMgb2JzZXJ2YXRpb24sICBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMiksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyAsdGd0LmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgZW50cnkub2JzZXJ2YXRpb24gYXMgb2JzIHRoZW4gT2JzZXJ2YXRpb24ob2JzLCBwYXRpZW50ICxlbmMgLG9ic2VydmF0aW9uLCBidW5kbGUpICJvYnNlcnZhdGlvbiI7CiAgfSJlbnRyeSI7CiAKfQoKZ3JvdXAgVHJpYWdlKHNvdXJjZSBjZGEgOiBDbGluaWNhbERvY3VtZW50LCBzb3VyY2Ugc3JjIDogU2VjdGlvbiwgdGFyZ2V0IHBhdGllbnQgOiBQYXRpZW50LCB0YXJnZXQgdGd0LCB0YXJnZXQgYnVuZGxlIDogQnVuZGxlLCB0YXJnZXQgZW5jIDogRW5jb3VudGVyKXsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICAKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+IHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgY2RhVGV4dCAtPiBmaGlyVGV4dC5zdGF0dXMgPSAnZ2VuZXJhdGVkJyAibmFycmF0aXZlU3RhdHVzIjsKICAgIGNkYVRleHQgYXMgdCAtPiBmaGlyVGV4dC5kaXYgPSB0ICJuYXJyYXRpdmVUZXh0IjsKICB9ImNkYVRleHQiOwogIHNyYy5lbnRyeSBhcyBlbnRyeSAtPiBidW5kbGUuZW50cnkgYXMgZTIsIGUyLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCAgIGUyLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCAgb2JzZXJ2YXRpb24uaWQgPSB1dWlkKCkgYXMgdXVpZDIsICBlMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9ICdPYnNlcnZhdGlvbicgLHRndC5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nICsgJW9ic2VydmF0aW9uLmlkKSB0aGVuIHsKICAgIGVudHJ5Lm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIE9ic2VydmF0aW9uKG9icywgcGF0aWVudCAsZW5jICxvYnNlcnZhdGlvbiwgYnVuZGxlKSAib2JzZXJ2YXRpb24iOwogIH0iZW50cnkiOwogCn0KCmdyb3VwIElucXVhZHJhbWVudG9DbGluaWNvSW5pemlhbGUoc291cmNlIGNkYSA6IENsaW5pY2FsRG9jdW1lbnQsIHNvdXJjZSBzcmMgOiBTZWN0aW9uLCB0YXJnZXQgcGF0aWVudCA6IFBhdGllbnQsIHRhcmdldCB0Z3QsIHRhcmdldCBidW5kbGUgOiBCdW5kbGUsIHRhcmdldCBlbmMgOiBFbmNvdW50ZXIpIHsKICBzcmMudGl0bGUgYXMgdCAtPiB0Z3QudGl0bGUgPSAodC5kYXRhU3RyaW5nKTsKICBzcmMuY29kZSAtPiB0Z3QuY29kZTsKICBzcmMudGV4dCBhcyBjZGFUZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQxKSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nICx0Z3QuZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCksIHRndC50ZXh0IGFzIGZoaXJUZXh0IHRoZW4gewogICAgc3JjLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgIHNyYyB3aGVyZSBvYnNlcnZhdGlvbi5zdGF0dXNDb2RlLmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICBzcmMtPm9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgfSJzdGF0dXNjb2RlIjsKICAgIHNyYy0+b2JzZXJ2YXRpb24uc3ViamVjdD1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QYXRpZW50LycgKyAlcGF0aWVudC5pZCkgInJlZmVyZW5jZSI7CiAgICBzcmMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOwogICAgY2RhVGV4dC0+b2JzZXJ2YXRpb24ubm90ZSBhcyBub3RlIHRoZW57CiAgICAgIHNyYy5hdXRob3IgYXMgYXV0aG9yIHRoZW4gewogICAgICAgIGF1dGhvci0+YnVuZGxlLmVudHJ5IGFzIGUyLCBlMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCBlMi5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW4gewogICAgICAgICAgYXV0aG9yLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIHRoZW4gewogICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvSW5xdWFkcmFtZW50b0NsaW5pY29Jbml6aWFsZS9hdXRob3InImNvZGUiOwogICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkMiwgIGUyLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDIpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQyKSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0IjsKICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICB9Im5hbWUiOwogICAgICAgICAgfSJhc3NpZ25lZEF1dGhvciI7CiAgICAgICAgfSJwcmFjdGl0aW9uZXIiOwogICAgICAgIGF1dGhvci50aW1lIGFzIHQtPm5vdGUudGltZT0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0LCB2YWx1ZSk7CiAgICAgIH0iQXV0aG9yIjsKICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID0gdCAicmVmZXJlbmNlIjsKICAgIH0icmVmZXJlbmNlIjsKICB9ImNkYVRleHQiOwogICAgCiAgLy9TVEFSVCBzb3R0b3NlY3Rpb25zCiAgc3JjLmNvbXBvbmVudCBhcyBjb21wb25lbnQgdGhlbiB7CiAgICBjb21wb25lbnQuc2VjdGlvbiBhcyBzb3R0b3NlY3Rpb24gdGhlbnsKICAgICAgc290dG9zZWN0aW9uIC0+IHRndC5zZWN0aW9uIGFzIHNlY3Rpb24gdGhlbiB7CiAgICAgICAgLy8xLiBBbmFtbmVzaSBOYXJyYXRpdmEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgc290dG9zZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICcxMTMyOS0wJykgLT4gc2VjdGlvbi5jb2RlOwogICAgICAgIHNvdHRvc2VjdGlvbi5jb2RlIGFzIGNvZGUxIHdoZXJlKGNvZGUgPSAnMTEzMjktMCcpICB0aGVuIHsKICAgICAgICAgIHNyYyB3aGVyZSBzb3R0b3NlY3Rpb24uZW50cnkuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICBzb3R0b3NlY3Rpb24udGl0bGUgYXMgdC0+IHNlY3Rpb24udGl0bGU9ICh0LmRhdGFTdHJpbmcpOwogICAgICAgICAgc290dG9zZWN0aW9uLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTgsIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBzZWN0aW9uLmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgc290dG9zZWN0aW9uLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgc3JjIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgc3JjLT5vYnNlcnZhdGlvbi5zdGF0dXMgPSdmaW5hbCcic3RhdHVzIjsKICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24uYXV0aG9yIGFzIGF1dGhvcnMgdGhlbiB7CiAgICAgICAgICAgICAgICBhdXRob3JzLnRpbWUgYXMgdGltZSAtPiBub3RlLnRpbWUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHRpbWUsIHZhbHVlKSAidGltZUF1dGhvciI7CiAgICAgICAgICAgICAgICBhdXRob3JzLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOSwgZTkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlOS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW57CiAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9Fc2FtZU9iaWV0dGl2by9hdXRob3InImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkOSwgIGU5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDkpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQ5KSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0b3JlIjsKICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgICAgICAgICAgIH0iYXNzaWdoZWRBdXRob3IiOwogICAgICAgICAgICAgIH0iYXV0aG9yIjsKICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgICB9IndoZXJlIjsKICAgICAgICAvLyBBbmFtbmVzaSBTdHJ1dHR1cmF0YS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICAgc290dG9zZWN0aW9uLmVudHJ5IGFzIGVudHJ5MSB0aGVuIHsKICAgICAgICAgICAgZW50cnkxLm9ic2VydmF0aW9uIGFzIG9icyB0aGVuIHsKICAgICAgICAgICAgICBvYnMuY29kZSB3aGVyZSAoY29kZSA9ICc3NTMyNi05JykgIHRoZW4gewogICAgICAgICAgICAgIG9icy0+YnVuZGxlLmVudHJ5IGFzIGUxLCBlMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgZTEucmVzb3VyY2UgPSBjcmVhdGUoJ0NvbmRpdGlvbicpIGFzIGNvbmRpdGlvbiwgY29uZGl0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ0NvbmRpdGlvbicsIHNlY3Rpb24uZW50cnkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9Db25kaXRpb24vJyArICVjb25kaXRpb24uaWQpIHRoZW4gewogICAgICAgICAgICAgIG9icy5jb2RlIC0+IGNvbmRpdGlvbi5jYXRlZ29yeTsKICAgICAgICAgICAgICBvYnMtPmNvbmRpdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBvYnMtPmNvbmRpdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgICAgb2JzLnN0YXR1c0NvZGUgYXMgc3RhdHVzIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBjb25kaXRpb24udmVyaWZpY2F0aW9uU3RhdHVzIGFzIHN0YXR1czIgdGhlbiB7CiAgICAgICAgICAgICAgICBzdGF0dXMgLT4gIHN0YXR1czIuY29kaW5nIGFzIHN0YXR1czMgdGhlbnsKICAgICAgICAgICAgICAgICAgc3RhdHVzIC0+IHN0YXR1czMuY29kZSA9J2NvbmZpcm1lZCcgImZpbmFsZCI7CiAgICAgICAgICAgICAgICAgIHN0YXR1cyAtPiBzdGF0dXMzLnN5c3RlbT0naHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9jb25kaXRpb24tdmVyLXN0YXR1cycic3lzdGVtIjsKICAgICAgICAgICAgICAgIH0ic3QzIjsKICAgICAgICAgICAgICB9InN0YXR1cyI7CgogICAgICAgICAgICAgIC8vIGJsb2NjbyBOYXJyYXRpdm8KICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24udGV4dCBhcyBjZGFUZXh0MSAtPiBjb25kaXRpb24ubm90ZSBhcyBub3RlIHRoZW4gewogICAgICAgICAgICAgICAgY2RhVGV4dDEgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgIHNvdHRvc2VjdGlvbi5hdXRob3IgYXMgYXV0aG9ycyB0aGVuIHsKICAgICAgICAgICAgICAgICAgYXV0aG9ycy50aW1lIGFzIHRpbWUgLT4gbm90ZS50aW1lID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0aW1lLCB2YWx1ZSkgInRpbWVBdXRob3IiOwogICAgICAgICAgICAgICAgICBhdXRob3JzLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNSwgZTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlNS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW57CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3ItPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L0FuYW1uZXNpL2F1dGhvciciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNSwgIGU1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDUpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQ1KSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKTsKICAgICAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSJhc3NpZ25lZFBlcnNvbiI7CiAgICAgICAgICAgICAgICAgIH0iYXNzaWdoZWRBdXRob3IiOwogICAgICAgICAgICAgICAgfSJhdXRob3IiOwogICAgICAgICAgICAgIH0iY2RhVGV4dDEiOwoKICAgICAgICAgICAgICBvYnMuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmUxIHRoZW4gewogICAgICAgICAgICAgICAgZWZmZWN0aXZlMSB3aGVyZSBlZmZlY3RpdmUxLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmUxLmhpZ2guZXhpc3RzKCkgdGhlbnsKICAgICAgICAgICAgICAgICAgZWZmZWN0aXZlMSAgLT4gY29uZGl0aW9uLm9uc2V0PWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kb25zZXQgdGhlbiBJVkxUU1BlcmlvZChlZmZlY3RpdmUxLHBlcmlvZG9uc2V0KSJvbnNldHBlcmlvZCI7CiAgICAgICAgICAgICAgICAgIH0iZWYiOwogICAgICAgICAgICAgICAgfSJlZmZlY3RpdmV0aW1lMSI7CiAgICAgICAgICAgICAgb2JzLmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZmVjdGl2ZVRpbWUsIHZhbHVlKSAib25zZXREYXRlVGltZSI7CiAgICAgICAgICAgICAgb2JzLnZhbHVlOklOVCBhcyBpbnQtPm9iLnZhbHVlPShpbnQudmFsdWUpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgb2JzLnZhbHVlOkJMIGFzIGJvb2xlYW4gLT5vYi52YWx1ZT0oYm9vbGVhbi52YWx1ZSkiYm9vbGVhbiI7CiAgICAgICAgICAgICAgb2JzLnZhbHVlOlNUIGFzIHZhbHVlLT5vYi52YWx1ZSA9Y3JlYXRlKCdzdHJpbmcnKSxvYi52YWx1ZT0gKHZhbHVlLmRhdGFTdHJpbmcpICJ2YWx1ZSI7CiAgICAgICAgICAgICAgb2JzLnZhbHVlOkNFIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgdmFsLT5vYi52YWx1ZSA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBjZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCBhcyBvcmlnaW5hbFRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZS0+IGNlLnRleHQ9cmVmZXJlbmNlOwogICAgICAgICAgICAgICAgICB9Im9yaWdpbmx0ZXh0IjsKICAgICAgICAgICAgICAgICAgdmFsIC0+IGNlLmNvZGluZyBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIHZhbC5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgdmFsLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiBjb2RpbmcudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICAgICAgICB2YWwudHJhbnNsYXRpb24gYXMgdHJhbnNsYXRpb24gLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlIGFzIGNvZGUgLT4gY29kaW5nLmNvZGUgPSBjYXN0KGNvZGUsICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiBjb2Rpbmcuc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24uZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmNvZGVTeXN0ZW1WZXJzaW9uIGFzIHZlcnNpb24gLT4gY29kaW5nLnZlcnNpb24gPSBjYXN0KHZlcnNpb24sICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi5xdWFsaWZpZXIgYXMgcXVhbGlmaWVyIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBxdWFsaWZpZXIudmFsdWUgYXMgdmFsdWUgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSBhcyBjb2RlIC0+IGNvZGluZy5jb2RlID0gY2FzdChjb2RlLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlU3lzdGVtVmVyc2lvbiBhcyB2ZXJzaW9uIC0+IGNvZGluZy52ZXJzaW9uID0gY2FzdCh2ZXJzaW9uLCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB9InZhbHVlIjsKICAgICAgICAgICAgICAgICAgICB9InF1YWxpZmllciI7CiAgICAgICAgICAgICAgICAgIH0idHJhbnNsYXRpb24iOwogICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgIH0idmFsIjsKICAgICAgICAgICAgICBvYnMudmFsdWU6Q0QgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICB2YWwtPmNvbmRpdGlvbi5jb2RlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHZhbC5vcmlnaW5hbFRleHQgLT4gY2UudGV4dDsKICAgICAgICAgICAgICAgICAgICAgIHZhbCAtPiBjZS5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGVTeXN0ZW0gYXMgc3lzdGVtIC0+IGNvZGluZy5zeXN0ZW0gPSB0cmFuc2xhdGUoc3lzdGVtLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKTsKICAgICAgICAgICAgICAgICAgICAgIHZhbC5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7ICAKICAgICAgICAgICAgICAgICAgIH0iQ2UiOyAKICAgICAgICAgICAgICAgIH0iVmFsdWUiOwogICAgICAgICAgICAgIG9icy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyaVJlbCB0aGVuIHsKICAgICAgICAgICAgICAgIGVudHJpUmVsIC0+IGNvbmRpdGlvbi5ldmlkZW5jZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgZXZpZGVuY2UgdGhlbiB7CiAgICAgICAgICAgICAgICBlbnRyaVJlbC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgdGhlbiB7CiAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5jb2RlIGFzIGNvZGUgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGNvZGUuY29kZSB3aGVyZSAoY29kZS5jb2RlID0gJzg5MjYxLTInKSB0aGVuIHsgCiAgICAgICAgICAgICAgICAgICAgb2JzIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGUxLnJlc291cmNlID0gY3JlYXRlKCdPYnNlcnZhdGlvbicpIGFzIG9ic2VydmF0aW9uLCBvYnNlcnZhdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMSwgIGUxLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9PYnNlcnZhdGlvbi8nLCB1dWlkMSksIHJlcXVlc3QudXJsID0gJ09ic2VydmF0aW9uJyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBlbnRyaVJlbCAtPiBldmlkZW5jZS5kZXRhaWwgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvT2JzZXJ2YXRpb24vJyArICVvYnNlcnZhdGlvbi5pZCkgInJlZiI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIgd2hlcmUgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi0+b2JzZXJ2YXRpb24uc3RhdHVzID0nZmluYWwnInN0YXR1cyI7CiAgICAgICAgICAgICAgICAgICAgICB9InN0YXR1c2NvZGUiOyAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi50ZXh0IGFzIHRleHQgLT4gb2JzZXJ2YXRpb24ubm90ZSA9IGNyZWF0ZSgnQW5ub3RhdGlvbicpIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZiAtPiBub3RlLnRleHQgPSAocmVmLnZhbHVlKSAidmFsIjsKICAgICAgICAgICAgICAgICAgICB9IkFubm9udGF0aW9uIjsgCiAgICAgICAgICAgICAgICAgICAgb2JzLT5vYnNlcnZhdGlvbi5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgICAgICBvYnMtPm9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIuc3RhdHVzQ29kZSBhcyBzdGF0dXNjIHdoZXJlIChjb2RlPSdjb21wbGV0ZWQnKSAtPiBvYi5zdGF0dXMgPSdmaW5hbCc7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWN0aXZlJykgLT4gb2Iuc3RhdHVzID0ncmVnaXN0ZXJlZCc7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nYWJvcnRlZCcpIC0+IG9iLnN0YXR1cyA9J2NhbmNlbGxlZCc7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnN0YXR1c0NvZGUgYXMgc3RhdHVzYyB3aGVyZSAoY29kZT0nc3VzcGVuZGVkJykgLT4gb2Iuc3RhdHVzID0ncGFydGlhbCc7CgogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZTpJTlQgYXMgaW50LT5vYnNlcnZhdGlvbi52YWx1ZT0oaW50LnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZTpCTCBhcyBib29sZWFuIC0+b2JzZXJ2YXRpb24udmFsdWU9KGJvb2xlYW4udmFsdWUpImJvb2xlYW4iOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZTpTVCBhcyB2YWx1ZS0+b2JzZXJ2YXRpb24udmFsdWUgPWNyZWF0ZSgnc3RyaW5nJyksb2JzZXJ2YXRpb24udmFsdWU9ICh2YWx1ZS5kYXRhU3RyaW5nKSAidmFsdWUiOwogICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gb2JzZXJ2YXRpb24uZWZmZWN0aXZlID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgInZhbHVlMiI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yIHdoZXJlIGVmZmVjdGl2ZVRpbWUubG93LmV4aXN0cygpIG9yIGVmZmVjdGl2ZVRpbWUuaGlnaC5leGlzdHMoKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi5lZmZlY3RpdmVUaW1lIGFzIGVmZi0+IG9ic2VydmF0aW9uLmVmZmVjdGl2ZT1jcmVhdGUoJ1BlcmlvZCcpIGFzIHBlcmlvZCB0aGVuIElWTFRTUGVyaW9kKGVmZixwZXJpb2QpOwogICAgICAgICAgICAgICAgICAgICAgfSJ3aGVyZSI7CiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLnZhbHVlOlBRIGFzIHZhbCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgdmFsLT5vYnNlcnZhdGlvbi52YWx1ZSA9IGNyZWF0ZSgnUXVhbnRpdHknKSBhcyBxdWFudGl0eSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLnZhbHVlIGFzIHZhbHVlLT5xdWFudGl0eS52YWx1ZSA9IHZhbHVlOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwudW5pdCBhcyB1bml0LT4gcXVhbnRpdHkudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgfSJxdWFudGl0eSI7CiAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZVF1YW50aXR5IjsKICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIudmFsdWU6Q0UgYXMgdmFsIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICB2YWwtPm9ic2VydmF0aW9uLnZhbHVlID1jcmVhdGUoJ0NvZGVhYmxlQ29uY2VwdCcpIGFzIGNlIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLm9yaWdpbmFsVGV4dCAtPiBjZS50ZXh0OwogICAgICAgICAgICAgICAgICAgICAgICB2YWwgLT4gY2UuY29kaW5nIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgdmFsLmNvZGUgYXMgY29kZSAtPiBjb2RpbmcuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9IHRyYW5zbGF0ZShzeXN0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpOwogICAgICAgICAgICAgICAgICAgICAgICB2YWwuZGlzcGxheU5hbWUgYXMgZGlzcGxheSAtPiBjb2RpbmcuZGlzcGxheSA9IGNhc3QoZGlzcGxheSwgJ3N0cmluZycpOwogICAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7ICAKICAgICAgICAgICAgICAgICAgICAgIH0iQ2UiOyAKICAgICAgICAgICAgICAgICAgICB9IlZhbHVlIjsgCiAgICAgICAgICAgICAgICAgICB9Im9ic2VyIjsKICAgICAgICAgICAgICAgICAgfSJ3aGVyZURlY29yc29DbGluaWNvIjsKICAgICAgICAgICAgICAgICAgfSJjb2RlIjsKICAgICAgICAgICAgICAgIH0iT2JzZXJ2YXRpb24yIjsKICAgICAgICAgICAgICB9ImV2aWRlbmNlIjsKICAgICAgICAgICB9IkVudHJ5UmVsYXRpb25zaGlwMSI7CiAgICAgICAgICAgb2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJpUmVsICB0aGVuewogICAgICAgICAgICBlbnRyaVJlbC5vYnNlcnZhdGlvbiBhcyBvYnNlcnZhdGlvbjIgdGhlbiB7CiAgICAgICAgICAgICAgb2JzZXJ2YXRpb24yLmNvZGUgYXMgY29kZSB0aGVuIHsKICAgICAgICAgICAgICAgY29kZS5jb2RlIHdoZXJlIChjb2RlLmNvZGUgPSczMzk5OS00JykgdGhlbnsKICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbjIgLT4gY29uZGl0aW9uLmNsaW5pY2FsU3RhdHVzID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBzdGF0dXMgdGhlbiB7CiAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi50ZXh0IGFzIHRleHQgdGhlbnsKICAgICAgICAgICAgICAgICAgICB0ZXh0LnJlZmVyZW5jZSBhcyByZWZzdGF0IC0+IHN0YXR1cy50ZXh0PShyZWZzdGF0LnZhbHVlKSJzdGF0cmVmIjsKICAgICAgICAgICAgICAgICAgICB9InRleHRzdGF0IjsKICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMiAgLT4gc3RhdHVzLmNvZGluZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uMi52YWx1ZSBhcyB2YWx1ZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlICB3aGVyZSAodmFsdWUuY29kZSA9ICdMQTE2NjY2LTInKS0+IGNvZGluZy5jb2RlID0gJ2FjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlICB3aGVyZSAodmFsdWUuY29kZSA9ICdMQTE4NjMyLTInKS0+IGNvZGluZy5jb2RlID0gJ2luYWN0aXZlJyJpbmFjdGl2ZSI7CiAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vY29uZGl0aW9uLWNsaW5pY2FsJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gY29kaW5nLmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICAgICAgICAgICAgICAgICAgICAgICB9InZhbHVlMSI7CiAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgIH0iY29kZSI7ICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICB9IndoZXJlRGVjb3Jzb0NsaW5pY28iOyAKICAgICAgICAgICAgICAgfSJjb2Rlc3RhdHVzIjsgIAogICAgICAgICAgICAgIH0ib2JzZXJ2YXRpb25zdGF0dXMiOyAKICAgICAgICAgICAgIH0iZW50cnlyZWxhdGlvbnNoaXBzdGF0dXMiOyAgICAgICAgICAgCiAgICAgICAgICAgfSJjb25kaXRpb24iOwogICAgICAgICAgfSAiODkyNjEtMiI7CiAgICAgICAgfSJlbnRyeW9ic2VydmF0aW9uMSI7CgoKCiAgICAgICAgIC8vQW5hbW5lc2kgRmFtaWxpYXJlLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgogICAgICAgIGVudHJ5MS5vcmdhbml6ZXIgYXMgb3JnYW5pemVyIHRoZW4gewogICAgICAgICAgb3JnYW5pemVyLmNvZGUgd2hlcmUgKGNvZGUgPSAnMTAxNTctNicpICB0aGVuIHsKICAgICAgICAgICAgICBvcmdhbml6ZXItPmJ1bmRsZS5lbnRyeSBhcyBlNCwgZTQucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU0LnJlc291cmNlID0gY3JlYXRlKCdGYW1pbHlNZW1iZXJIaXN0b3J5JykgYXMgRmFtaWx5TWVtYmVySGlzdG9yeSwgRmFtaWx5TWVtYmVySGlzdG9yeS5pZCA9IHV1aWQoKSBhcyB1dWlkNSwgIGU0LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9GYW1pbHlNZW1iZXJIaXN0b3J5LycsIHV1aWQ1KSwgcmVxdWVzdC51cmwgPSAnRmFtaWx5TWVtYmVySGlzdG9yeScsIHNlY3Rpb24uZW50cnkgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9GYW1pbHlNZW1iZXJIaXN0b3J5LycgKyAlRmFtaWx5TWVtYmVySGlzdG9yeS5pZCkgdGhlbnsKICAgICAgICAgICAgICBvcmdhbml6ZXIuZWZmZWN0aXZlVGltZSBhcyBlZmZlY3RpdmUgdGhlbiB7CiAgICAgICAgICAgICAgICBlZmZlY3RpdmUudmFsdWUgYXMgZWZmLT4gRmFtaWx5TWVtYmVySGlzdG9yeS5kYXRlPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKGVmZiwgdmFsdWUpICJkYXRlIjsKICAgICAgICAgICAgICB9ImVmZmVjdGl2ZSI7IAogICAgICAgICAgICAgIG9yZ2FuaXplci0+RmFtaWx5TWVtYmVySGlzdG9yeS5wYXRpZW50PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBvcmdhbml6ZXIuc3ViamVjdCBhcyBzdWJqZWN0IHRoZW4gewogICAgICAgICAgICAgICAgICBzdWJqZWN0LnJlbGF0ZWRTdWJqZWN0IGFzIHJlbGF0ZWRTdWJqZWN0IHRoZW4gewogICAgICAgICAgICAgICAgICByZWxhdGVkU3ViamVjdC5jb2RlIC0+IEZhbWlseU1lbWJlckhpc3RvcnkucmVsYXRpb25zaGlwICJyZWxhdGlvbnNoaXAiOwogICAgICAgICAgICAgICAgICByZWxhdGVkU3ViamVjdC5zdWJqZWN0IGFzIHN1YmplY3QgLT4gRmFtaWx5TWVtYmVySGlzdG9yeS5zZXggYXMgc2V4IHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5hZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUgYXMgYWRtaW5pc3RyYXRpdmVHZW5kZXJDb2RlIC0+IHNleC5jb2RpbmcgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluaXN0cmF0aXZlR2VuZGVyQ29kZS5jb2RlIGFzIGNvZGUtPiBjb2RpbmcuY29kZSA9IHRyYW5zbGF0ZShjb2RlLCAnI0FkbWluaXN0cmF0aXZlR2VuZGVyJywgJ2NvZGUnKSAiZ2VuZGVyIjsKICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZUdlbmRlckNvZGUtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvYWRtaW5pc3RyYXRpdmUtZ2VuZGVyJyAic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgICAgICB9InN1YmplY3QxIjsKICAgICAgICAgICAgICAgICAgfSJyZWxhdGVkU3ViamVjdCI7CiAgICAgICAgICAgICAgfSJzdWJqZWN0IjsKCiAgICAgICAgICAgICAgLy8gYmxvY2NvIE5hcnJhdGl2bwogICAgICAgICAgICAgIHNvdHRvc2VjdGlvbi50ZXh0IGFzIGNkYVRleHQxIC0+IEZhbWlseU1lbWJlckhpc3Rvcnkubm90ZSBhcyBub3RlIHRoZW4gewogICAgICAgICAgICAgICAgY2RhVGV4dDEgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICAgIHNvdHRvc2VjdGlvbi5hdXRob3IgYXMgYXV0aG9ycyB0aGVuIHsKICAgICAgICAgICAgICAgICAgYXV0aG9ycy50aW1lIGFzIHRpbWUgLT4gbm90ZS50aW1lID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0aW1lLCB2YWx1ZSkgInRpbWVBdXRob3IiOwogICAgICAgICAgICAgICAgICBhdXRob3JzLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlNywgZTcucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlNy5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW57CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3ItPnByYWN0aXRpb25lci5tZXRhIGFzIG1ldGEgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5jb2RlID0nQ2xpbmljYWxEb2N1bWVudC9ib2R5L0FuYW1uZXNpL2F1dGhvciciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkNywgIGU3LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDcpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQ3KSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKTsKICAgICAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICAgICAgfSJpZGVudGlmaWVyIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgICB9IjIuMTYuODQwLjEuMTEzODgzLjIuOS40LjMuMiI7CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgICAgfSJhc3NpZ25lZFBlcnNvbiI7CiAgICAgICAgICAgICAgICAgIH0iYXNzaWdoZWRBdXRob3IiOwogICAgICAgICAgICAgICAgfSJhdXRob3IiOwogICAgICAgICAgICAgIH0iY2RhVGV4dDEiOwoKICAgICAgICAgICAgICBvcmdhbml6ZXIuY29tcG9uZW50IGFzIGNvbXBvbmVudCAtPiBGYW1pbHlNZW1iZXJIaXN0b3J5LmNvbmRpdGlvbiBhcyBjb25kaXRpb24gdGhlbnsKICAgICAgICAgICAgICAgICAgY29tcG9uZW50Lm9ic2VydmF0aW9uIGFzIG9ic2VydmF0aW9uIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi5jb2RlIC0+IGNvbmRpdGlvbi5jb2RlICJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnRleHQgYXMgdGV4dCAtPiBGYW1pbHlNZW1iZXJIaXN0b3J5Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQucmVmZXJlbmNlIGFzIHJlZmVyZW5jZSAtPiBub3RlLnRleHQgPSAocmVmZXJlbmNlLnZhbHVlKSAidmFsdWUiOwogICAgICAgICAgICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YXRpb24uc3RhdHVzQ29kZSAtPiBGYW1pbHlNZW1iZXJIaXN0b3J5LnN0YXR1czsKICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIC0+IGNvbmRpdGlvbi5vdXRjb21lICJjb2RlYWJsZSI7CiAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeVJlbGF0aW9uc2hpcCB0aGVuewogICAgICAgICAgICAgICAgICAgICAgZW50cnlSZWxhdGlvbnNoaXAub2JzZXJ2YXRpb24gYXMgb2Jzc2VydmF0aW9uMSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIG9ic3NlcnZhdGlvbjEuY29kZSBhcyBjb2RlIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUuY29kZSB3aGVyZSAoY29kZS5jb2RlID0nMzUyNjctNCcpIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgb2Jzc2VydmF0aW9uMS52YWx1ZSBhcyB2YWx1ZSAtPiBjb25kaXRpb24ub25zZXQgPSBjcmVhdGUoJ0FnZScpIGFzIEFnZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS52YWx1ZSBhcyB2YWx1ZUFnZSAtPiBBZ2UudmFsdWUgPSB2YWx1ZUFnZSAiYWdlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS51bml0IGFzIHVuaXQgLT4gQWdlLmNvZGUgPSB1bml0ICJ1bml0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS51bml0IGFzIHVuaXQgLT4gQWdlLnVuaXQgPSB1bml0ICJ1bml0IjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPiBBZ2Uuc3lzdGVtID0gJ2h0dHA6Ly91bml0c29mbWVhc3VyZS5vcmcnICJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSJpbnNvcmdlbnphIjsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kZSI7CiAgICAgICAgICAgICAgICAgICAgICBvYnNzZXJ2YXRpb24xLmNvZGUgYXMgY29kZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlLmNvZGUgd2hlcmUgKGNvZGUuY29kZSA9JzM5MDE2LTEnKSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIG9ic3NlcnZhdGlvbjEudmFsdWUgYXMgdmFsdWUgLT4gRmFtaWx5TWVtYmVySGlzdG9yeS5kZWNlYXNlZCA9IGNyZWF0ZSgnQWdlJykgYXMgQWdlIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnZhbHVlIGFzIHZhbHVlQWdlIC0+IEFnZS52YWx1ZSA9IHZhbHVlQWdlICJhZ2UiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnVuaXQgYXMgdW5pdCAtPiBBZ2UuY29kZSA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnVuaXQgYXMgdW5pdCAtPiBBZ2UudW5pdCA9IHVuaXQgInVuaXQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlIC0+IEFnZS5zeXN0ZW0gPSAnaHR0cDovL3VuaXRzb2ZtZWFzdXJlLm9yZycgInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImRlY2Vhc2VkIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgICAgIH0ib2JzZXIiOwogICAgICAgICAgICAgICAgICAgICAgfSJFbnRyeVJlbCI7CiAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbiB3aGVyZSBvYnNlcnZhdGlvbi5lZmZlY3RpdmVUaW1lLmV4aXN0cygpIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZhdGlvbi5lZmZlY3RpdmVUaW1lIGFzIGVmZmVjdGl2ZVRpbWUgLT4gRmFtaWx5TWVtYmVySGlzdG9yeS5jb25kaXRpb24gPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIGNvbmRpdGlvbiB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVUaW1lIC0+IGNvbmRpdGlvbi5vbnNldCA9IGNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVmZmVjdGl2ZVRpbWUgLT4gcGVyaW9kLnN0YXJ0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHN0YXJ0IHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLHN0YXJ0KSAidmFsIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImVmZnQiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLmNvZGUgLT4gY29uZGl0aW9uLmNvZGUgImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmF0aW9uLnZhbHVlIC0+IGNvbmRpdGlvbi5vdXRjb21lICJjb2RlYWJsZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImVmZnR0ZW1wIjsKICAgICAgICAgICAgICAgICAgICAgICAgfSJjb250IjsKICAgICAgICAgICAgICAgICAgIH0ib2JzZXJ2YXRpb25Db25kaXRpb24iOwogICAgICAgICAgICAgICAgIH0iY29tcG9uZW50IjsKICAgICAgICAgICAgICB9Im9yZ2FuaXplciI7CiAgICAgICAgICAgIH0iMTAxNTctNiI7CiAgICAgICAgICB9Im9ic2VydmF0aW9uMSI7CiAgICAgICB9InN1YnNlY3Rpb24xIjsKICAgIH0iMTEzMjktMCI7CiAgICAgICAKCiAgICAgICAgLy8yLiBFc2FtZSBPYmlldHRpdm8gTmFycmF0aXZhLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBzb3R0b3NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzI5NTQ1LTEnKSAtPiBzZWN0aW9uLmNvZGU7CiAgICAgICAgc290dG9zZWN0aW9uLmNvZGUgYXMgY29kZTEgd2hlcmUoY29kZSA9ICcyOTU0NS0xJykgIHRoZW4gewogICAgICAgICAgc290dG9zZWN0aW9uLnRpdGxlIGFzIHQgLT4gc2VjdGlvbi50aXRsZSA9ICh0LmRhdGFTdHJpbmcpOwogICAgICAgICAgc290dG9zZWN0aW9uLnRleHQgYXMgY2RhVGV4dCAtPiBidW5kbGUuZW50cnkgYXMgZTgsIGU4LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlOC5yZXNvdXJjZSA9IGNyZWF0ZSgnT2JzZXJ2YXRpb24nKSBhcyBvYnNlcnZhdGlvbiwgIG9ic2VydmF0aW9uLmlkID0gdXVpZCgpIGFzIHV1aWQ4LCAgZTguZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnT2JzZXJ2YXRpb24nLCBzZWN0aW9uLmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL09ic2VydmF0aW9uLycgKyAlb2JzZXJ2YXRpb24uaWQpIHRoZW4gewogICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgc290dG9zZWN0aW9uLmNvZGUgLT4gb2JzZXJ2YXRpb24uY29kZTsKICAgICAgICAgICAgc290dG9zZWN0aW9uIHdoZXJlIG9ic2VydmF0aW9uLnN0YXR1c0NvZGUuZXhpc3RzKCkubm90KCkgdGhlbiB7CiAgICAgICAgICAgICAgc290dG9zZWN0aW9uIC0+IG9ic2VydmF0aW9uLnN0YXR1cyA9J2ZpbmFsJyJzdGF0dXMiOwogICAgICAgICAgICB9InN0YXR1c2NvZGUiOwogICAgICAgICAgICBjZGFUZXh0IC0+IG9ic2VydmF0aW9uLm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24uYXV0aG9yIGFzIGF1dGhvcnMgdGhlbiB7CiAgICAgICAgICAgICAgICBhdXRob3JzLnRpbWUgYXMgdGltZSAtPiBub3RlLnRpbWUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHRpbWUsIHZhbHVlKSAidGltZUF1dGhvciI7CiAgICAgICAgICAgICAgICBhdXRob3JzLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlOSwgZTkucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlOS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW57CiAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9Fc2FtZU9iaWV0dGl2by9hdXRob3InImNvZGUiOwogICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgfSJtZXRhIjsKICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+aWRlbnRpZmllci52YWx1ZSA9IGV4dDsKICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQgLT4gcHJhY3RpdGlvbmVyLmlkID0gKHIgKyctJysgZXh0KSBhcyB1dWlkOSwgIGU5LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDkpLCByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyLycsIHV1aWQ5KSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKSAiYXV0b3JlIjsKICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgICAgICAgICAgIH0iYXNzaWdoZWRBdXRob3IiOwogICAgICAgICAgICAgIH0iYXV0aG9yIjsKICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgICB9ImNvbmRpemlvbmVlc2FtZU9iaWV0dGl2byI7CiAgICAgIAogICAgICAgIC8vMy4gVGVyYXBpYSBGYXJtYWNvbG9naWNhIGFsbCdpbmdyZXNzbyBOYXJyYXRpdmEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgICAgICBzb3R0b3NlY3Rpb24uY29kZSB3aGVyZShjb2RlID0gJzQyMzQ2LTcnKSAtPiBzZWN0aW9uLmNvZGU7IAogICAgICAgIHNvdHRvc2VjdGlvbi5jb2RlIGFzIGNvZGUxIHdoZXJlKGNvZGUgPSAnNDIzNDYtNycpICB0aGVuIHsKICAgICAgICBzb3R0b3NlY3Rpb24udGl0bGUgYXMgdCAtPiBzZWN0aW9uLnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICBzb3R0b3NlY3Rpb24udGV4dCBhcyBjZGFUZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxMCwgZTEwLnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTAucmVzb3VyY2UgPSBjcmVhdGUoJ01lZGljYXRpb25TdGF0ZW1lbnQnKSBhcyBtZWRpY1N0YXRlbWVudCwgIG1lZGljU3RhdGVtZW50LmlkID0gdXVpZCgpIGFzIHV1aWQxMCwgIGUxMC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvTWVkaWNhdGlvblN0YXRlbWVudC8nLCB1dWlkMTApLCByZXF1ZXN0LnVybCA9ICdNZWRpY2F0aW9uU3RhdGVtZW50Jywgc2VjdGlvbi5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9NZWRpY2F0aW9uU3RhdGVtZW50LycgKyAlbWVkaWNTdGF0ZW1lbnQuaWQpIHRoZW4gewogICAgICAgICAgY2RhVGV4dCAtPiBtZWRpY1N0YXRlbWVudC5zdWJqZWN0PWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL1BhdGllbnQvJyArICVwYXRpZW50LmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICBzb3R0b3NlY3Rpb24gd2hlcmUgbWVkaWNTdGF0ZW1lbnQuc3RhdHVzQ29kZS5leGlzdHMoKS5ub3QoKSB0aGVuIHsKICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24tPm1lZGljU3RhdGVtZW50LnN0YXR1cyA9J2NvbXBsZXRlZCcic3RhdHVzIjsKICAgICAgICAgICAgfSJzdGF0dXNjb2RlIjsKICAgICAgICAgICAgY2RhVGV4dCAtPiAgbWVkaWNTdGF0ZW1lbnQubWVkaWNhdGlvbiA9Y3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBtZWRpY2F0aW9uIHRoZW4gewogICAgICAgICAgICAgIGNkYVRleHQgYXMgdHh0IC0+IG1lZGljYXRpb24udGV4dD10eHQgInRleHQiOwogICAgICAgICAgICB9Im1lZGljYXRpb24iOwogICAgICAgICAgICBjZGFUZXh0IC0+IG1lZGljU3RhdGVtZW50Lm5vdGUgYXMgbm90ZSB0aGVuewogICAgICAgICAgICAgIGNkYVRleHQgYXMgdCAtPm5vdGUudGV4dCA9dCAicmVmZXJlbmNlIjsKICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24uYXV0aG9yIGFzIGF1dGhvcnMgdGhlbiB7CiAgICAgICAgICAgICAgICBhdXRob3JzLnRpbWUgYXMgdGltZSAtPiBub3RlLnRpbWUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHRpbWUsIHZhbHVlKSAidGltZUF1dGhvciI7CiAgICAgICAgICAgICAgICBhdXRob3JzLmFzc2lnbmVkQXV0aG9yIGFzIGFzc2lnbmVkQXV0aG9yIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTEsIGUxMS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGUxMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyJykgYXMgcHJhY3RpdGlvbmVyIHRoZW57CiAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly9hbGdvcml0bW9kaXNjb3JpbmcnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9UZXJhcGlhRmFybWFjb2xvZ2ljYUluZ3Jlc3NvL2F1dGhvciciY29kZSI7CiAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCAtPiBwcmFjdGl0aW9uZXIuaWRlbnRpZmllciBhcyBpZGVudGlmaWVyIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgIGlkLmFzc2lnbmluZ0F1dGhvcml0eU5hbWUgYXMgcyAtPiBpZGVudGlmaWVyLmFzc2lnbmVyIGFzIGEsIGEuZGlzcGxheSA9IHM7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQxMSwgIGUxMS5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycsIHV1aWQxMSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDExKSwgbm90ZS5hdXRob3IgPWNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUHJhY3RpdGlvbmVyLycgKyAlcHJhY3RpdGlvbmVyLmlkKTsKICAgICAgICAgICAgICAgICAgICB9InIiOwogICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5pZCBhcyBpZCB3aGVyZSAocm9vdD0nMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dC0+IHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXI/aWRlbnRpZmllcj0nLGV4dCkiVVVJRCI7CiAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuYXNzaWduZWRQZXJzb24gYXMgcGVyc29uIHRoZW4gewogICAgICAgICAgICAgICAgICAgIHBlcnNvbi5uYW1lIC0+IHByYWN0aXRpb25lci5uYW1lOwogICAgICAgICAgICAgICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgICAgICAgICAgIH0iYXNzaWdoZWRBdXRob3IiOwogICAgICAgICAgICAgIH0iYXV0aG9yIjsKICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgfSJjZGFUZXh0IjsKICAgICAgICB9ImNvbmRpemlvbmV0ZXJhcGlhaW5ncmVzc28iOwoKICAgICAgICAvLzQuIEFsbGVyZ2llCiAgICAgICAgc290dG9zZWN0aW9uLmNvZGUgd2hlcmUoY29kZSA9ICc0ODc2NS0yJykgLT4gc2VjdGlvbi5jb2RlOwogICAgICAgIHNvdHRvc2VjdGlvbi5jb2RlIGFzIGNvZGUxIHdoZXJlKGNvZGUgPSAnNDg3NjUtMicpICB0aGVuIHsKICAgICAgICAgIHNvdHRvc2VjdGlvbi50aXRsZSBhcyB0LT4gc2VjdGlvbi50aXRsZT0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICAvLyBBbGxlcmdpYSBOYXJyYXRpdmEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICBzcmMgd2hlcmUgc290dG9zZWN0aW9uLmVudHJ5LmV4aXN0cygpLm5vdCgpIHRoZW4gewogICAgICAgICAgICBzb3R0b3NlY3Rpb24udGl0bGUgYXMgdC0+IHNlY3Rpb24udGl0bGU9ICh0LmRhdGFTdHJpbmcpOwogICAgICAgICAgICBzb3R0b3NlY3Rpb24udGV4dCBhcyBjZGFUZXh0IC0+IGJ1bmRsZS5lbnRyeSBhcyBlOCwgZTgucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsIGU4LnJlc291cmNlID0gY3JlYXRlKCdBbGxlcmd5SW50b2xlcmFuY2UnKSBhcyBBbGxlcmd5SW50b2xlcmFuY2UsICBBbGxlcmd5SW50b2xlcmFuY2UuaWQgPSB1dWlkKCkgYXMgdXVpZDgsICBlOC5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycsIHV1aWQ4KSwgcmVxdWVzdC51cmwgPSAnQWxsZXJneUludG9sZXJhbmNlJywgc2VjdGlvbi5lbnRyeSAgPSBjcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9BbGxlcmd5SW50b2xlcmFuY2UvJyArICVBbGxlcmd5SW50b2xlcmFuY2UuaWQpIHRoZW4gewogICAgICAgICAgICAgIGNkYVRleHQgLT4gQWxsZXJneUludG9sZXJhbmNlLnBhdGllbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgIGNkYVRleHQgLT4gQWxsZXJneUludG9sZXJhbmNlLmVuY291bnRlcj1jcmVhdGUoJ1JlZmVyZW5jZScpIGFzIHJlZmVyZW5jZSwgIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9FbmNvdW50ZXIvJyArICVlbmMuaWQpICJyZWZlcmVuY2UiOyAKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBjZGFUZXh0IC0+IEFsbGVyZ3lJbnRvbGVyYW5jZS5jbGluaWNhbFN0YXR1cyA9IGNyZWF0ZSgnQ29kZWFibGVDb25jZXB0JykgYXMgc3RhdHVzIHRoZW4gewogICAgICAgICAgICAgICAgY2RhVGV4dCAgLT4gc3RhdHVzLmNvZGluZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW57CiAgICAgICAgICAgICAgICAgIGNkYVRleHQgLT4gY29kaW5nLmNvZGUgPSAnYWN0aXZlJyJhY3RpdmUiOwogICAgICAgICAgICAgICAgICBjZGFUZXh0ICAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS9hbGxlcmd5aW50b2xlcmFuY2UtY2xpbmljYWwnInN5c3RlbSI7CiAgICAgICAgICAgICAgICAgIGNkYVRleHQgIC0+IGNvZGluZy5kaXNwbGF5ID0gJ2FjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgfSJjbGluaWNhbFN0YXR1cyI7CiAgICAgICAgICAgICAgY2RhVGV4dCAtPiBBbGxlcmd5SW50b2xlcmFuY2Uubm90ZSBhcyBub3RlIHRoZW57CiAgICAgICAgICAgICAgY2RhVGV4dCBhcyB0IC0+bm90ZS50ZXh0ID10ICJyZWZlcmVuY2UiOwogICAgICAgICAgICAgICAgc290dG9zZWN0aW9uLmF1dGhvciBhcyBhdXRob3JzIHRoZW4gewogICAgICAgICAgICAgICAgICBhdXRob3JzLnRpbWUgYXMgdGltZSAtPiBub3RlLnRpbWUgPSBjcmVhdGUoJ2RhdGVUaW1lJykgYXMgdmFsdWUgdGhlbiBUU0RhdGVUaW1lKHRpbWUsIHZhbHVlKSAidGltZUF1dGhvciI7CiAgICAgICAgICAgICAgICAgIGF1dGhvcnMuYXNzaWduZWRBdXRob3IgYXMgYXNzaWduZWRBdXRob3IgLT4gYnVuZGxlLmVudHJ5IGFzIGU5LCBlOS5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQVVQnLCAgIGU5LnJlc291cmNlID0gY3JlYXRlKCdQcmFjdGl0aW9uZXInKSBhcyBwcmFjdGl0aW9uZXIgdGhlbnsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5tZXRhLnRhZyA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kaW5nIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2Rpbmcuc3lzdGVtID0naHR0cDovL2FsZ29yaXRtb2Rpc2NvcmluZycic3lzdGVtIjsKICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvRXNhbWVPYmlldHRpdm8vYXV0aG9yJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICAgIH0iY29kaW5nIjsKICAgICAgICAgICAgICAgICAgICB9Im1ldGEiOwogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgLT5pZGVudGlmaWVyLnN5c3RlbT0gdHJhbnNsYXRlKHIsICdodHRwOi8vaGw3Lm9yZy9maGlyL0NvbmNlcHRNYXAvc3BlY2lhbC1vaWQydXJpJywgJ3VyaScpICJyb290MSI7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT5pZGVudGlmaWVyLnZhbHVlID0gZXh0OwogICAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWQuZXh0ZW5zaW9uIGFzIGV4dCAtPiBwcmFjdGl0aW9uZXIuaWQgPSAociArJy0nKyBleHQpIGFzIHV1aWQ5LCAgZTkuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lci8nLCB1dWlkOSksIHJlcXVlc3QudXJsID0gYXBwZW5kKCdQcmFjdGl0aW9uZXIvJywgdXVpZDkpLCBub3RlLmF1dGhvciA9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXRvcmUiOwogICAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgICAgICAgICAgICAgfSJhc3NpZ2hlZEF1dGhvciI7CiAgICAgICAgICAgICAgICB9ImF1dGhvciI7CiAgICAgICAgICAgICAgfSJyZWZlcmVuY2UiOwogICAgICAgICAgICB9ImNkYVRleHQiOwogICAgICAgICAgfSJ3aGVyZSI7CiAgICAgICAgICAgLy8gQWxsZXJnaWEgU3RydXR0dXJhdGEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICAgICAgICBzb3R0b3NlY3Rpb24uZW50cnkgYXMgZW50cnkxIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMTIsIGUxMi5yZXF1ZXN0ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZXF1ZXN0LCByZXF1ZXN0Lm1ldGhvZCA9ICdQT1NUJywgICBlMTIucmVzb3VyY2UgPSBjcmVhdGUoJ0FsbGVyZ3lJbnRvbGVyYW5jZScpIGFzIGFsbGVyZ3ksICBhbGxlcmd5LmlkID0gdXVpZCgpIGFzIHV1aWQxMiwgIGUxMi5mdWxsVXJsID0gYXBwZW5kKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycsIHV1aWQxMiksIHJlcXVlc3QudXJsID0gJ0FsbGVyZ3lJbnRvbGVyYW5jZScgLHNlY3Rpb24uZW50cnkgID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvQWxsZXJneUludG9sZXJhbmNlLycgKyAlYWxsZXJneS5pZCkgdGhlbiB7CiAgICAgICAgICAgIHNyYyAtPiBhbGxlcmd5LnBhdGllbnQ9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBzcmMgLT4gYWxsZXJneS5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsKICAgICAgICAgICAgZW50cnkxLmFjdCBhcyBhY3RhbGxpbnQgdGhlbiB7CiAgICAgICAgICAgICAgYWN0YWxsaW50LmVmZmVjdGl2ZVRpbWUgYXMgZWZmZWN0aXZlVGltZSAtPiBhbGxlcmd5Lm9uc2V0ID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZShlZmZlY3RpdmVUaW1lLCB2YWx1ZSkgIm9uc2V0RGF0ZVRpbWUiOwogICAgICAgICAgICAgIGFjdGFsbGludCB3aGVyZSBlZmZlY3RpdmVUaW1lLmxvdy5leGlzdHMoKSBvciBlZmZlY3RpdmVUaW1lLmhpZ2guZXhpc3RzKCkgdGhlbiB7CiAgICAgICAgICAgICAgICBhY3RhbGxpbnQuZWZmZWN0aXZlVGltZSBhcyBlZmYtPiBhbGxlcmd5Lm9uc2V0PWNyZWF0ZSgnUGVyaW9kJykgYXMgcGVyaW9kIHRoZW4gSVZMVFNQZXJpb2QoZWZmLHBlcmlvZCkib25zZXRQZXJpb2QiOwogICAgICAgICAgICAgIH0id2hlcmUiOwogICAgICAgICAgICAgLy9tYXBwaW5nIG5vdGUKICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24udGV4dCBhcyBjZGFUZXh0MSAtPiBhbGxlcmd5Lm5vdGUgYXMgbm90ZSB0aGVuIHsKICAgICAgICAgICAgICAgIGNkYVRleHQxIGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgICBzb3R0b3NlY3Rpb24uYXV0aG9yIGFzIGF1dGhvcnMgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGF1dGhvcnMudGltZSBhcyB0aW1lIC0+IG5vdGUudGltZSA9IGNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUodGltZSwgdmFsdWUpICJ0aW1lQXV0aG9yIjsKICAgICAgICAgICAgICAgICAgYXV0aG9ycy5hc3NpZ25lZEF1dGhvciBhcyBhc3NpZ25lZEF1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTEzLCBlMTMucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMTMucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuewogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLT5wcmFjdGl0aW9uZXIubWV0YSBhcyBtZXRhIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3ItPm1ldGEudGFnID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvciAtPiBjb2RpbmcuY29kZSA9J0NsaW5pY2FsRG9jdW1lbnQvYm9keS9BbGxlcmdpZS9hdXRob3InImNvZGUiOwogICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IuaWQgYXMgaWQgLT4gcHJhY3RpdGlvbmVyLmlkZW50aWZpZXIgYXMgaWRlbnRpZmllciB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLnJvb3QgYXMgciAtPmlkZW50aWZpZXIuc3lzdGVtPSB0cmFuc2xhdGUociwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJykgInJvb3QxIjsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICAgICAgICBpZC5hc3NpZ25pbmdBdXRob3JpdHlOYW1lIGFzIHMgLT4gaWRlbnRpZmllci5hc3NpZ25lciBhcyBhLCBhLmRpc3BsYXkgPSBzOwogICAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDEzLCAgZTEzLmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDEzKSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMTMpLCBub3RlLmF1dGhvciA9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpOwogICAgICAgICAgICAgICAgICAgICAgfSJyIjsKICAgICAgICAgICAgICAgICAgICB9ImlkZW50aWZpZXIiOwogICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPiByZXF1ZXN0LnVybCA9IGFwcGVuZCgnUHJhY3RpdGlvbmVyP2lkZW50aWZpZXI9JyxleHQpIlVVSUQiOwogICAgICAgICAgICAgICAgICAgIH0iMi4xNi44NDAuMS4xMTM4ODMuMi45LjQuMy4yIjsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBwZXJzb24ubmFtZSAtPiBwcmFjdGl0aW9uZXIubmFtZTsKICAgICAgICAgICAgICAgICAgICB9ImFzc2lnbmVkUGVyc29uIjsKICAgICAgICAgICAgICAgICAgfSJhc3NpZ2hlZEF1dGhvciI7CiAgICAgICAgICAgICAgICB9ImF1dGhvciI7CiAgICAgICAgICAgICAgfSJjZGFUZXh0MSI7CiAgICAgICAgICAgICAgYWN0YWxsaW50LmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5YWN0IHRoZW4gewogICAgICAgICAgICAgICAgZW50cnlhY3Qub2JzZXJ2YXRpb24gYXMgZW50cnlvYnMgdGhlbiB7CiAgICAgICAgICAgICAgICAgIGVudHJ5b2JzLnZhbHVlIGFzIGNvZGUgdGhlbnsKICAgICAgICAgICAgICAgICAgICBjb2RlLmNvZGUgYXMgY29kZTEtPiBhbGxlcmd5LnR5cGUgPSB0cmFuc2xhdGUoY29kZTEsJyNBbGxlcmd5VHlwZU1hcCcsJ2NvZGUnKSAidHlwZSI7CiAgICAgICAgICAgICAgICAgICAgY29kZS5jb2RlIGFzIGNvZGUyIC0+IGFsbGVyZ3kuY2F0ZWdvcnkgPSB0cmFuc2xhdGUoY29kZTIsJyNBbGxlcmd5Q2F0ZWdvcnlNYXAnLCdjb2RlJykgImNhdGVnb3J5IjsgIAogICAgICAgICAgICAgICAgICB9ImNvZGUiOwogICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICBlbnRyeW9icy5wYXJ0aWNpcGFudCBhcyBwYXJ0aWMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgcGFydGljLnBhcnRpY2lwYW50Um9sZSBhcyBwcmF0Um9sZSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIHByYXRSb2xlLnBsYXlpbmdFbnRpdHkgYXMgcHJhdGVudCB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgcHJhdGVudCAtPiBhbGxlcmd5LnJlYWN0aW9uID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyByZWFjdGlvbiB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIHByYXRlbnQuY29kZSAtPiByZWFjdGlvbi5zdWJzdGFuY2UgInN1YnMiOwogICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5b2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5b2JzMSB3aGVyZSAodHlwZUNvZGU9J01GU1QnKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5b2JzMS5vYnNlcnZhdGlvbiBhcyBlbnRvYnMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudG9icy5lZmZlY3RpdmVUaW1lIGFzIGVmZiAgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmYubG93IGFzIGwgLT4gcmVhY3Rpb24ub25zZXQgPWNyZWF0ZSgnZGF0ZVRpbWUnKSBhcyB2YWx1ZSB0aGVuIFRTRGF0ZVRpbWUobCx2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0iZWZmIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50b2JzLnZhbHVlLT5yZWFjdGlvbi5tYW5pZmVzdGF0aW9uICJtYW5pZmVzdCI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ImVudHJ5b2JzZXJ2YXRpb24iOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0iZW50cnlSZWxhdGlvbnNoaXAiOwogICAgICAgICAgICAgICAgICAgICAgICB9InJlYWN0aW9uIjsgIAogICAgICAgICAgICAgICAgICAgICAgfSJwbGF5aW5nRW50aXR5IjsKICAgICAgICAgICAgICAgICAgICB9InBhcnRpY2lwYW50Um9sZSI7CiAgICAgICAgICAgICAgICAgIH0icGFydGljaXBhbnQiOwogICAgICAgICAgCiAgICAgICAgICAgICAgICAgIGVudHJ5b2JzLmVudHJ5UmVsYXRpb25zaGlwIGFzIGVudHJ5b2JzMiB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBlbnRyeW9iczIub2JzZXJ2YXRpb24gYXMgZW50b2JzIHRoZW4gewogICAgICAgICAgICAgICAgICAgICAgZW50b2JzLmNvZGUgYXMgY29kZSB3aGVyZSAoY29kZT0nU0VWJykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudG9icy52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmNvZGUgd2hlcmUodmFsdWUuY29kZSA9ICdNJykgLT5hbGxlcmd5LmNyaXRpY2FsaXR5ID0gJ3VuYWJsZS10by1hc3Nlc3MnImFjdGl2ZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSB3aGVyZSh2YWx1ZS5jb2RlID0gJ0wnKSAtPmFsbGVyZ3kuY3JpdGljYWxpdHkgPSAnbG93JyJhY3RpdmUiOyAKICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlIHdoZXJlKHZhbHVlLmNvZGUgPSAnSCcpIC0+YWxsZXJneS5jcml0aWNhbGl0eSA9ICdoaWdoJyJhY3RpdmUiOyAKICAgICAgICAgICAgICAgICAgICAgICAgfSJ2YWx1ZSI7CiAgICAgICAgICAgICAgICAgICAgICB9InNldmVyaXR5IjsKICAgICAgICAgICAgICAgICAgICB9ImVudHJ5b2JzZXJ2YXRpb24yIjsKICAgICAgICAgICAgICAgICAgfSJlbnRyeXJlbGF0aW9uc2hpcDIiOwoKICAgICAgICAgICAgICAgICAgZW50cnlvYnMuZW50cnlSZWxhdGlvbnNoaXAgYXMgZW50cnlvYnMzIHRoZW4gewogICAgICAgICAgICAgICAgICAgIGVudHJ5b2JzMy5vYnNlcnZhdGlvbiBhcyBlbnRvYnMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBlbnRvYnMuY29kZSBhcyBjb2RlIHdoZXJlIChjb2RlPSczMzk5OS00JykgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudG9icy52YWx1ZS0+YWxsZXJneS5jbGluaWNhbFN0YXR1cyAiY3N0YXR1cyI7CiAgICAgICAgICAgICAgICAgICAgICAgIGVudG9icyAtPiBhbGxlcmd5LmNsaW5pY2FsU3RhdHVzID0gY3JlYXRlKCdDb2RlYWJsZUNvbmNlcHQnKSBhcyBzdGF0dXMgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZW50b2JzICAtPiBzdGF0dXMuY29kaW5nID0gY3JlYXRlKCdDb2RpbmcnKSBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudG9icy52YWx1ZSBhcyB2YWx1ZSB0aGVuewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jb2RlICB3aGVyZSAodmFsdWUuY29kZSA9ICdMQTE2NjY2LTInKS0+IGNvZGluZy5jb2RlID0gJ2FjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZSAgd2hlcmUgKHZhbHVlLmNvZGUgPSAnTEExODYzMi0yJyktPiBjb2RpbmcuY29kZSA9ICdpbmFjdGl2ZSciYWN0aXZlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuY29kZVN5c3RlbSBhcyBzeXN0ZW0gLT4gY29kaW5nLnN5c3RlbSA9J2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vYWxsZXJneWludG9sZXJhbmNlLWNsaW5pY2FsJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YWx1ZS0+Y29kaW5nLnZlcnNpb249J0NvbmRpdGlvbkNsaW5pY2FsU3RhdHVzQ29kZXMgNC4wLjEnInZlcnNpb24iOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5kaXNwbGF5TmFtZSBhcyBkaXNwbGF5IC0+IGNvZGluZy5kaXNwbGF5ID0gY2FzdChkaXNwbGF5LCAnc3RyaW5nJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9InZhbHVlMSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSJjb2RpbmciOwogICAgICAgICAgICAgICAgICAgICAgICB9ImNsaW5pY2FsU3RhdHVzIjsKICAgICAgICAgICAgICAgICAgICAgIH0iMzM5OTktNCI7CiAgICAgICAgICAgICAgICAgICAgfSJlbnRyeW9ic2VydmF0aW9uMyI7CiAgICAgICAgICAgICAgICAgIH0iZW50cnlyZWxhdGlvbnNoaXAzIjsKICAgICAgICAgIAogICAgICAgICAgICAgICAgICBlbnRyeW9icy5lbnRyeVJlbGF0aW9uc2hpcCBhcyBlbnRyeW9iczQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgZW50cnlvYnM0LmFjdCBhcyBlbnRhY3QgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBlbnRhY3QudGV4dCBhcyBhY3RleHQgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGV4dC5yZWZlcmVuY2UgYXMgcmVmdHh0IC0+IGFsbGVyZ3kubm90ZSA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgbm90ZSAgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmdHh0IGFzIHJlZi0+bm90ZS50ZXh0PSAocmVmLnZhbHVlKSAibm90eHQiOwogICAgICAgICAgICAgICAgICAgICAgICB9Im5vdGV0eHQiOwogICAgICAgICAgICAgICAgICAgICAgfSJ0eHRhY3QiOwogICAgICAgICAgICAgICAgICAgIH0iZW50cnlhY3QxIjsKICAgICAgICAgICAgICAgICAgfSJlbnRyeXJlbGF0aW9uc2hpNCI7CiAgICAgICAgICAgICAgICB9ImVudHJ5b2JzZXJ2YXRpb24iOwogICAgICAgICAgICAgIH0iZW50cnlyZWxhdGlvbnNoaXBhY3QiOwogICAgICAgICAgICB9ImVudHJ5YWN0MiI7CiAgICAgICAgICB9ImFsbGVyZ3kiOwogICAgICAgIH0iY29uZGl6aW9uZWFsbGVyZ2llIjsgIAoKICAgICAgICAvLzUuIFByb2JsZW1pIGFwZXJ0aQogICAgICAgIHNvdHRvc2VjdGlvbi5jb2RlIHdoZXJlKGNvZGUgPSAnMTE0NTAtNCcpIC0+IHNlY3Rpb24uY29kZTsKICAgICAgICBzb3R0b3NlY3Rpb24uY29kZSBhcyBjb2RlMSB3aGVyZShjb2RlID0gJzExNDUwLTQnKSAgdGhlbiB7CiAgICAgICAgICBzb3R0b3NlY3Rpb24udGl0bGUgYXMgdCAtPiBzZWN0aW9uLnRpdGxlID0gKHQuZGF0YVN0cmluZyk7CiAgICAgICAgICBzb3R0b3NlY3Rpb24udGV4dCBhcyBjZGFUZXh0IC0+YnVuZGxlLmVudHJ5IGFzIGUxNCwgZTE0LnJlcXVlc3QgPSBjcmVhdGUoJ0JhY2tib25lRWxlbWVudCcpIGFzIHJlcXVlc3QsIHJlcXVlc3QubWV0aG9kID0gJ1BPU1QnLCBlMTQucmVzb3VyY2UgPSBjcmVhdGUoJ0NvbmRpdGlvbicpIGFzIGNvbmRpdGlvbiwgIGNvbmRpdGlvbi5pZCA9IHV1aWQoKSBhcyB1dWlkMTQsICBlMTQuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nLCB1dWlkMTQpLCByZXF1ZXN0LnVybCA9ICdDb25kaXRpb24nLCBzZWN0aW9uLmVudHJ5ICA9IGNyZWF0ZSgnUmVmZXJlbmNlJykgYXMgcmVmZXJlbmNlLCAgcmVmZXJlbmNlLnJlZmVyZW5jZSA9ICgnaHR0cHM6Ly9leGFtcGxlL0NvbmRpdGlvbi8nICsgJWNvbmRpdGlvbi5pZCkgdGhlbiB7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIGNkYVRleHQgLT4gY29uZGl0aW9uLnN1YmplY3Q9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvUGF0aWVudC8nICsgJXBhdGllbnQuaWQpICJyZWZlcmVuY2UiOwogICAgICAgICAgICBjZGFUZXh0IC0+IGNvbmRpdGlvbi5lbmNvdW50ZXI9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsICByZWZlcmVuY2UucmVmZXJlbmNlID0gKCdodHRwczovL2V4YW1wbGUvRW5jb3VudGVyLycgKyAlZW5jLmlkKSAicmVmZXJlbmNlIjsgCiAgICAgICAgICAgIHNvdHRvc2VjdGlvbi5jb2RlIC0+IGNvbmRpdGlvbi5jb2RlOwogICAgICAgICAgICBjZGFUZXh0IC0+IGNvbmRpdGlvbi5ub3RlIGFzIG5vdGUgdGhlbnsKICAgICAgICAgICAgICBjZGFUZXh0IGFzIHQgLT5ub3RlLnRleHQgPXQgInJlZmVyZW5jZSI7CiAgICAgICAgICAgICAgc290dG9zZWN0aW9uLmF1dGhvciBhcyBhdXRob3JzIHRoZW4gewogICAgICAgICAgICAgICAgYXV0aG9ycy50aW1lIGFzIHRpbWUgLT4gbm90ZS50aW1lID0gY3JlYXRlKCdkYXRlVGltZScpIGFzIHZhbHVlIHRoZW4gVFNEYXRlVGltZSh0aW1lLCB2YWx1ZSkgInRpbWVBdXRob3IiOwogICAgICAgICAgICAgICAgYXV0aG9ycy5hc3NpZ25lZEF1dGhvciBhcyBhc3NpZ25lZEF1dGhvciAtPiBidW5kbGUuZW50cnkgYXMgZTE1LCBlMTUucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUFVUJywgICBlMTUucmVzb3VyY2UgPSBjcmVhdGUoJ1ByYWN0aXRpb25lcicpIGFzIHByYWN0aXRpb25lciB0aGVuewogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+cHJhY3RpdGlvbmVyLm1ldGEgYXMgbWV0YSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci0+bWV0YS50YWcgPSBjcmVhdGUoJ0NvZGluZycpIGFzIGNvZGluZyB0aGVuIHsKICAgICAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yIC0+IGNvZGluZy5zeXN0ZW0gPSdodHRwOi8vYWxnb3JpdG1vZGlzY29yaW5nJyJzeXN0ZW0iOwogICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRBdXRob3IgLT4gY29kaW5nLmNvZGUgPSdDbGluaWNhbERvY3VtZW50L2JvZHkvUHJvYmxlbWlBcGVydGkvYXV0aG9yJyJjb2RlIjsKICAgICAgICAgICAgICAgICAgICB9ImNvZGluZyI7CiAgICAgICAgICAgICAgICAgIH0ibWV0YSI7CiAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIC0+IHByYWN0aXRpb25lci5pZGVudGlmaWVyIGFzIGlkZW50aWZpZXIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgaWQucm9vdCBhcyByIC0+aWRlbnRpZmllci5zeXN0ZW09IHRyYW5zbGF0ZShyLCAnaHR0cDovL2hsNy5vcmcvZmhpci9Db25jZXB0TWFwL3NwZWNpYWwtb2lkMnVyaScsICd1cmknKSAicm9vdDEiOwogICAgICAgICAgICAgICAgICAgIGlkLmV4dGVuc2lvbiBhcyBleHQtPmlkZW50aWZpZXIudmFsdWUgPSBleHQ7CiAgICAgICAgICAgICAgICAgICAgaWQuYXNzaWduaW5nQXV0aG9yaXR5TmFtZSBhcyBzIC0+IGlkZW50aWZpZXIuYXNzaWduZXIgYXMgYSwgYS5kaXNwbGF5ID0gczsKICAgICAgICAgICAgICAgICAgICBpZC5yb290IGFzIHIgdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0IC0+IHByYWN0aXRpb25lci5pZCA9IChyICsnLScrIGV4dCkgYXMgdXVpZDE1LCAgZTE1LmZ1bGxVcmwgPSBhcHBlbmQoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJywgdXVpZDE1KSwgcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lci8nLCB1dWlkMTUpLCBub3RlLmF1dGhvciA9Y3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2UsIHJlZmVyZW5jZS5yZWZlcmVuY2UgPSAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXIvJyArICVwcmFjdGl0aW9uZXIuaWQpICJhdXQiOwogICAgICAgICAgICAgICAgICAgIH0iciI7CiAgICAgICAgICAgICAgICAgIH0iaWRlbnRpZmllciI7CiAgICAgICAgICAgICAgICAgIGFzc2lnbmVkQXV0aG9yLmlkIGFzIGlkIHdoZXJlIChyb290PScyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjInKSB0aGVuIHsKICAgICAgICAgICAgICAgICAgICBpZC5leHRlbnNpb24gYXMgZXh0LT4gcmVxdWVzdC51cmwgPSBhcHBlbmQoJ1ByYWN0aXRpb25lcj9pZGVudGlmaWVyPScsZXh0KSJVVUlEIjsKICAgICAgICAgICAgICAgICAgfSIyLjE2Ljg0MC4xLjExMzg4My4yLjkuNC4zLjIiOwogICAgICAgICAgICAgICAgICBhc3NpZ25lZEF1dGhvci5hc3NpZ25lZFBlcnNvbiBhcyBwZXJzb24gdGhlbiB7CiAgICAgICAgICAgICAgICAgICAgcGVyc29uLm5hbWUgLT4gcHJhY3RpdGlvbmVyLm5hbWU7CiAgICAgICAgICAgICAgICAgIH0iYXNzaWduZWRQZXJzb24iOwogICAgICAgICAgICAgICAgfSJhc3NpZ2hlZEF1dGhvciI7CiAgICAgICAgICAgICAgfSJhdXRob3IiOwogICAgICAgICAgICB9InJlZmVyZW5jZSI7CiAgICAgICAgICB9ImNkYVRleHQiOwogICAgICAgIH0iY29uZGl6aW9uZXByb2JsZW1pYXBlcnRpIjsKICAgICAgfSJTZWN0aW9uZmhpciI7CiAgICB9IlNvdHRvc2VjdGlvbiI7CiAgfSJjb21wb25lbnQiOwoKfQoKLy9fX19fX18yLl9fX19fX19fX19fX19DbGluaWNhbFN0YXRlbWVudHNfX19fX19fX19fX19fX19fX19fX19fX18KCmdyb3VwIEFjdCAoc291cmNlIGNkYTogQWN0LCB0YXJnZXQgcGF0IDogUGF0aWVudCwgdGFyZ2V0IGVuYyA6IEVuY291bnRlciwgdGFyZ2V0IGJ1bmRsZSA6IEJ1bmRsZSl7CiAgY2RhLmNvZGUgYXMgY29kZSAtPiBlbmMuZXh0ZW5zaW9uIGFzIGV4dGVuc2lvbjIgdGhlbiBtb2RlT2ZBcnJpdmFsKGNvZGUsIGV4dGVuc2lvbjIpOwogIGNkYS5wYXJ0aWNpcGFudCBhcyBwYXJ0aWNpcGFudCB0aGVuIHsKICAgIHBhcnRpY2lwYW50IC0+IGVuYy5wYXJ0aWNpcGFudCBhcyBGaGlyUGFydGljaXBhbnQgdGhlbiB7CiAgICAgIHBhcnRpY2lwYW50IGFzIHAgLT4gRmhpclBhcnRpY2lwYW50LnR5cGUgYXMgdHlwZSB0aGVuIHsgCiAgICAgICAgcCAtPiB0eXBlLmNvZGluZyBhcyBjb2RpbmcgdGhlbnsKICAgICAgICAgIHAtPiBjb2RpbmcuY29kZSA9IChwLnR5cGVDb2RlKSAiY29kaWNlIjsKICAgICAgICAgIHAtPiBjb2Rpbmcuc3lzdGVtID0gJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vdjMtUGFydGljaXBhdGlvblR5cGUnICJzeXN0ZW0iOwogICAgICAgIH0gImNvZGVUeXBlIjsgCiAgICAgIH0idHlwZSI7CiAgICB9ImZoaXJQYXJ0aWNpcGFudCI7CiAgICBwYXJ0aWNpcGFudC5wYXJ0aWNpcGFudFJvbGUgYXMgcGFydGljaXBhbnRSb2xlIC0+IGJ1bmRsZS5lbnRyeSBhcyBlMSwgZTEucmVxdWVzdCA9IGNyZWF0ZSgnQmFja2JvbmVFbGVtZW50JykgYXMgcmVxdWVzdCwgcmVxdWVzdC5tZXRob2QgPSAnUE9TVCcsICBlMS5yZXNvdXJjZSA9IGNyZWF0ZSgnUHJhY3RpdGlvbmVyUm9sZScpIGFzIHByYWN0aXRpb25lclJvbGUsICBwcmFjdGl0aW9uZXJSb2xlLmlkID0gdXVpZCgpIGFzIHV1aWQxLCAgZTEuZnVsbFVybCA9IGFwcGVuZCgnaHR0cHM6Ly9leGFtcGxlL1ByYWN0aXRpb25lclJvbGUvJywgdXVpZDEpLCByZXF1ZXN0LnVybCA9ICdQcmFjdGl0aW9uZXJSb2xlJywgZW5jLnBhcnRpY2lwYW50ID0gY3JlYXRlKCdCYWNrYm9uZUVsZW1lbnQnKSBhcyBwYXJ0aWNpcGFudDEsIHBhcnRpY2lwYW50MS5pbmRpdmlkdWFsID0gY3JlYXRlKCdSZWZlcmVuY2UnKSBhcyByZWZlcmVuY2VwYXJ0LCByZWZlcmVuY2VwYXJ0LnJlZmVyZW5jZSA9ICAoJ2h0dHBzOi8vZXhhbXBsZS9QcmFjdGl0aW9uZXJSb2xlLycgKyAlcHJhY3RpdGlvbmVyUm9sZS5pZCkgdGhlbiB7IAogICAgICBwYXJ0aWNpcGFudFJvbGUuY29kZSAtPiBwcmFjdGl0aW9uZXJSb2xlLmNvZGU7CiAgICB9InBhcnRpY2lwYW50cm9sZSI7CiAgfSJwYXJ0aWNpcGFudCI7CiAgICAKfQoKCgovL19fX19fXzMuX19fX19fX19fX19fX0V4dGVuc2lvbnNfRHRUeXBlX19fX19fX19fX19fX19fX19fX19fX19fCgpncm91cCBtb2RlT2ZBcnJpdmFsKHNvdXJjZSBzcmM6IENFLCB0YXJnZXQgZXh0OiBFeHRlbnNpb24pIHsKIAogIHNyYyAtPiBleHQudXJsID0gJ2h0dHA6Ly9obDcub3JnL2ZoaXIvU3RydWN0dXJlRGVmaW5pdGlvbi9lbmNvdW50ZXItbW9kZU9mQXJyaXZhbCcgInVybCI7CiAgc3JjIC0+IGV4dC52YWx1ZSA9IGNyZWF0ZSgnQ29kaW5nJykgYXMgY29kZTEgdGhlbiBjb2Rpbmcoc3JjLGNvZGUxKSJjb2RpbmciOwoKfQoKZ3JvdXAgY29kaW5nKHNvdXJjZSBzcmMgOiBDRSwgdGFyZ2V0IHRndCA6IENvZGluZykgIHsKICBzcmMuY29kZSBhcyBjb2RlICAtPiB0Z3QuY29kZSA9IGNhc3QoY29kZSwgJ3N0cmluZycpOwogIHNyYy5jb2RlU3lzdGVtIGFzIHN5c3RlbSAtPiB0Z3Quc3lzdGVtID0gdHJhbnNsYXRlKHN5c3RlbSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvQ29uY2VwdE1hcC9zcGVjaWFsLW9pZDJ1cmknLCAndXJpJyk7CiAgc3JjLmRpc3BsYXlOYW1lIGFzIGRpc3BsYXkgLT4gdGd0LmRpc3BsYXkgPSBjYXN0KGRpc3BsYXksICdzdHJpbmcnKTsKICBzcmMuY29kZVN5c3RlbVZlcnNpb24gYXMgdmVyc2lvbiAtPiB0Z3QudmVyc2lvbiA9IGNhc3QodmVyc2lvbiwgJ3N0cmluZycpOwp9Cmdyb3VwIHBlcmlvZFRpbWluZyhzb3VyY2UgZWZmZWN0aXZlVGltZTogUElWTF9UUywgdGFyZ2V0IHRpbWluZzogVGltaW5nKXsKICBlZmZlY3RpdmVUaW1lIC0+IHRpbWluZy5yZXBlYXQgYXMgciB0aGVuewogICAgZWZmZWN0aXZlVGltZS5wZXJpb2QgYXMgcCAtPiByLnBlcmlvZCA9IChwLnZhbHVlKTsKICAgIGVmZmVjdGl2ZVRpbWUucGVyaW9kIGFzIHAgLT4gci5wZXJpb2RVbml0ID0gKHAudW5pdCk7ICAKICB9InJlcGVhdCI7Cgp9", "subType": "00"}}, "filename": "VerbaleProntoSoccorso_v2.3.map", "type": "Map", "last_update_date": {"$date": "2023-03-17T17:38:20.658Z"}, "deleted": false, "last_sync": {"$date": "2023-03-17T17:51:01.084Z"}}]